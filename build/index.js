/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@wordpress/icons/build-module/icon/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/icon/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/**
 * WordPress dependencies
 */


/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */

/**
 * Return an SVG icon.
 *
 * @param {IconProps}                                 props icon is the SVG component to render
 *                                                          size is a number specifiying the icon size in pixels
 *                                                          Other props will be passed to wrapped SVG component
 * @param {import('react').ForwardedRef<HTMLElement>} ref   The forwarded ref to the SVG element.
 *
 * @return {JSX.Element}  Icon component
 */
function Icon({
  icon,
  size = 24,
  ...props
}, ref) {
  return (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(icon, {
    width: size,
    height: size,
    ...props,
    ref
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(Icon));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/block-default.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/block-default.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const blockDefault = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (blockDefault);
//# sourceMappingURL=block-default.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/check.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/check.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const check = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (check);
//# sourceMappingURL=check.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/chevron-down.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/chevron-down.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const chevronDown = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  viewBox: "0 0 24 24",
  xmlns: "http://www.w3.org/2000/svg",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (chevronDown);
//# sourceMappingURL=chevron-down.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/chevron-left.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/chevron-left.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const chevronLeft = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (chevronLeft);
//# sourceMappingURL=chevron-left.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/close-small.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/close-small.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const closeSmall = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (closeSmall);
//# sourceMappingURL=close-small.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/cloud.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/cloud.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const cloud = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (cloud);
//# sourceMappingURL=cloud.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/color.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/color.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const color = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  viewBox: "0 0 24 24",
  xmlns: "http://www.w3.org/2000/svg",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (color);
//# sourceMappingURL=color.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/desktop.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/desktop.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const desktop = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (desktop);
//# sourceMappingURL=desktop.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/drawer-right.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/drawer-right.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const drawerRight = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  width: "24",
  height: "24",
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (drawerRight);
//# sourceMappingURL=drawer-right.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/external.js":
/*!************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/external.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const external = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (external);
//# sourceMappingURL=external.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/info.js":
/*!********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/info.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const info = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (info);
//# sourceMappingURL=info.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/justify-center.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/justify-center.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const justifyCenter = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (justifyCenter);
//# sourceMappingURL=justify-center.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/justify-left.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/justify-left.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const justifyLeft = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M9 9v6h11V9H9zM4 20h1.5V4H4v16z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (justifyLeft);
//# sourceMappingURL=justify-left.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/justify-right.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/justify-right.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const justifyRight = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (justifyRight);
//# sourceMappingURL=justify-right.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/layout.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/layout.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const layout = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (layout);
//# sourceMappingURL=layout.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/list-view.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/list-view.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const listView = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  viewBox: "0 0 24 24",
  xmlns: "http://www.w3.org/2000/svg",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (listView);
//# sourceMappingURL=list-view.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/megaphone.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/megaphone.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const megaphone = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    fillRule: "evenodd",
    d: "M6.863 13.644L5 13.25h-.5a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5H5L18 6.5h2V16h-2l-3.854-.815.026.008a3.75 3.75 0 01-7.31-1.549zm1.477.313a2.251 2.251 0 004.356.921l-4.356-.921zm-2.84-3.28L18.157 8h.343v6.5h-.343L5.5 11.823v-1.146z",
    clipRule: "evenodd"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (megaphone);
//# sourceMappingURL=megaphone.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/mobile.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/mobile.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const mobile = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mobile);
//# sourceMappingURL=mobile.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/more-vertical.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/more-vertical.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const moreVertical = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (moreVertical);
//# sourceMappingURL=more-vertical.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/next.js":
/*!********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/next.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const next = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next);
//# sourceMappingURL=next.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/plus.js":
/*!********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/plus.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const plus = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (plus);
//# sourceMappingURL=plus.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/previous.js":
/*!************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/previous.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const previous = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (previous);
//# sourceMappingURL=previous.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/redo.js":
/*!********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/redo.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const redo = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (redo);
//# sourceMappingURL=redo.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/star-empty.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/star-empty.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const starEmpty = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    fillRule: "evenodd",
    d: "M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",
    clipRule: "evenodd"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (starEmpty);
//# sourceMappingURL=star-empty.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/star-filled.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/star-filled.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const starFilled = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (starFilled);
//# sourceMappingURL=star-filled.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/styles.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/styles.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   styles: () => (/* binding */ styles)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const styles = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  viewBox: "0 0 24 24",
  xmlns: "http://www.w3.org/2000/svg",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 0 1-6.5 6.5v-13a6.5 6.5 0 0 1 6.5 6.5Z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (styles);
//# sourceMappingURL=styles.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/typography.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/typography.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const typography = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (typography);
//# sourceMappingURL=typography.js.map

/***/ }),

/***/ "./node_modules/@wordpress/icons/build-module/library/undo.js":
/*!********************************************************************!*\
  !*** ./node_modules/@wordpress/icons/build-module/library/undo.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/primitives */ "@wordpress/primitives");
/* harmony import */ var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


const undo = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.SVG, {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_0__.Path, {
    d: "M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"
  })
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (undo);
//# sourceMappingURL=undo.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/action-item/index.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/action-item/index.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* wp:polyfill */
/**
 * WordPress dependencies
 */



const noop = () => {};
function ActionItemSlot({
  name,
  as: Component = _wordpress_components__WEBPACK_IMPORTED_MODULE_0__.ButtonGroup,
  fillProps = {},
  bubblesVirtually,
  ...props
}) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Slot, {
    name: name,
    bubblesVirtually: bubblesVirtually,
    fillProps: fillProps,
    children: fills => {
      if (!_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Children.toArray(fills).length) {
        return null;
      }

      // Special handling exists for backward compatibility.
      // It ensures that menu items created by plugin authors aren't
      // duplicated with automatically injected menu items coming
      // from pinnable plugin sidebars.
      // @see https://github.com/WordPress/gutenberg/issues/14457
      const initializedByPlugins = [];
      _wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Children.forEach(fills, ({
        props: {
          __unstableExplicitMenuItem,
          __unstableTarget
        }
      }) => {
        if (__unstableTarget && __unstableExplicitMenuItem) {
          initializedByPlugins.push(__unstableTarget);
        }
      });
      const children = _wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Children.map(fills, child => {
        if (!child.props.__unstableExplicitMenuItem && initializedByPlugins.includes(child.props.__unstableTarget)) {
          return null;
        }
        return child;
      });
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {
        ...props,
        children: children
      });
    }
  });
}
function ActionItem({
  name,
  as: Component = _wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Button,
  onClick,
  ...props
}) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Fill, {
    name: name,
    children: ({
      onClick: fpOnClick
    }) => {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {
        onClick: onClick || fpOnClick ? (...args) => {
          (onClick || noop)(...args);
          (fpOnClick || noop)(...args);
        } : undefined,
        ...props
      });
    }
  });
}
ActionItem.Slot = ActionItemSlot;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ActionItem);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/complementary-area-header/index.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/complementary-area-header/index.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.mjs");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/close-small.js");
/* harmony import */ var _complementary_area_toggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../complementary-area-toggle */ "./node_modules/@wordpress/interface/build-module/components/complementary-area-toggle/index.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */


/**
 * Internal dependencies
 */


const ComplementaryAreaHeader = ({
  children,
  className,
  toggleButtonProps
}) => {
  const toggleButton = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_complementary_area_toggle__WEBPACK_IMPORTED_MODULE_2__["default"], {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__["default"],
    ...toggleButtonProps
  });
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div", {
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_0__["default"])('components-panel__header', 'interface-complementary-area-header', className),
    tabIndex: -1,
    children: [children, toggleButton]
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComplementaryAreaHeader);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/complementary-area-more-menu-item/index.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/complementary-area-more-menu-item/index.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ComplementaryAreaMoreMenuItem)
/* harmony export */ });
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/check.js");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _complementary_area_toggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../complementary-area-toggle */ "./node_modules/@wordpress/interface/build-module/components/complementary-area-toggle/index.js");
/* harmony import */ var _action_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../action-item */ "./node_modules/@wordpress/interface/build-module/components/action-item/index.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */



/**
 * Internal dependencies
 */



const PluginsMenuItem = ({
  // Menu item is marked with unstable prop for backward compatibility.
  // They are removed so they don't leak to DOM elements.
  // @see https://github.com/WordPress/gutenberg/issues/14457
  __unstableExplicitMenuItem,
  __unstableTarget,
  ...restProps
}) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__.MenuItem, {
  ...restProps
});
function ComplementaryAreaMoreMenuItem({
  scope,
  target,
  __unstableExplicitMenuItem,
  ...props
}) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_complementary_area_toggle__WEBPACK_IMPORTED_MODULE_2__["default"], {
    as: toggleProps => {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_action_item__WEBPACK_IMPORTED_MODULE_3__["default"], {
        __unstableExplicitMenuItem: __unstableExplicitMenuItem,
        __unstableTarget: `${scope}/${target}`,
        as: PluginsMenuItem,
        name: `${scope}/plugin-more-menu`,
        ...toggleProps
      });
    },
    role: "menuitemcheckbox",
    selectedIcon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_4__["default"],
    name: target,
    scope: scope,
    ...props
  });
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/complementary-area-toggle/index.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/complementary-area-toggle/index.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ComplementaryAreaToggle)
/* harmony export */ });
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/plugins */ "@wordpress/plugins");
/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store */ "./node_modules/@wordpress/interface/build-module/store/index.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */




/**
 * Internal dependencies
 */


/**
 * Whether the role supports checked state.
 *
 * @param {import('react').AriaRole} role Role.
 * @return {boolean} Whether the role supports checked state.
 * @see https://www.w3.org/TR/wai-aria-1.1/#aria-checked
 */

function roleSupportsCheckedState(role) {
  return ['checkbox', 'option', 'radio', 'switch', 'menuitemcheckbox', 'menuitemradio', 'treeitem'].includes(role);
}
function ComplementaryAreaToggle({
  as = _wordpress_components__WEBPACK_IMPORTED_MODULE_0__.Button,
  scope,
  identifier: identifierProp,
  icon: iconProp,
  selectedIcon,
  name,
  shortcut,
  ...props
}) {
  const ComponentToUse = as;
  const context = (0,_wordpress_plugins__WEBPACK_IMPORTED_MODULE_2__.usePluginContext)();
  const icon = iconProp || context.icon;
  const identifier = identifierProp || `${context.name}/${name}`;
  const isSelected = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_3__.store).getActiveComplementaryArea(scope) === identifier, [identifier, scope]);
  const {
    enableComplementaryArea,
    disableComplementaryArea
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_3__.store);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ComponentToUse, {
    icon: selectedIcon && isSelected ? selectedIcon : icon,
    "aria-controls": identifier.replace('/', ':')
    // Make sure aria-checked matches spec https://www.w3.org/TR/wai-aria-1.1/#aria-checked
    ,
    "aria-checked": roleSupportsCheckedState(props.role) ? isSelected : undefined,
    onClick: () => {
      if (isSelected) {
        disableComplementaryArea(scope);
      } else {
        enableComplementaryArea(scope, identifier);
      }
    },
    shortcut: shortcut,
    ...props
  });
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/complementary-area/index.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/complementary-area/index.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.mjs");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/check.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/star-filled.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/star-empty.js");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_viewport__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/viewport */ "@wordpress/viewport");
/* harmony import */ var _wordpress_viewport__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_viewport__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/preferences */ "@wordpress/preferences");
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/plugins */ "@wordpress/plugins");
/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _complementary_area_header__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../complementary-area-header */ "./node_modules/@wordpress/interface/build-module/components/complementary-area-header/index.js");
/* harmony import */ var _complementary_area_more_menu_item__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../complementary-area-more-menu-item */ "./node_modules/@wordpress/interface/build-module/components/complementary-area-more-menu-item/index.js");
/* harmony import */ var _complementary_area_toggle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../complementary-area-toggle */ "./node_modules/@wordpress/interface/build-module/components/complementary-area-toggle/index.js");
/* harmony import */ var _pinned_items__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../pinned-items */ "./node_modules/@wordpress/interface/build-module/components/pinned-items/index.js");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../store */ "./node_modules/@wordpress/interface/build-module/store/index.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */










/**
 * Internal dependencies
 */






const ANIMATION_DURATION = 0.3;
function ComplementaryAreaSlot({
  scope,
  ...props
}) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
    name: `ComplementaryArea/${scope}`,
    ...props
  });
}
const SIDEBAR_WIDTH = 280;
const variants = {
  open: {
    width: SIDEBAR_WIDTH
  },
  closed: {
    width: 0
  },
  mobileOpen: {
    width: '100vw'
  }
};
function ComplementaryAreaFill({
  activeArea,
  isActive,
  scope,
  children,
  className,
  id
}) {
  const disableMotion = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__.useReducedMotion)();
  const isMobileViewport = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__.useViewportMatch)('medium', '<');
  // This is used to delay the exit animation to the next tick.
  // The reason this is done is to allow us to apply the right transition properties
  // When we switch from an open sidebar to another open sidebar.
  // we don't want to animate in this case.
  const previousActiveArea = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__.usePrevious)(activeArea);
  const previousIsActive = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__.usePrevious)(isActive);
  const [, setState] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useState)({});
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {
    setState({});
  }, [isActive]);
  const transition = {
    type: 'tween',
    duration: disableMotion || isMobileViewport || !!previousActiveArea && !!activeArea && activeArea !== previousActiveArea ? 0 : ANIMATION_DURATION,
    ease: [0.6, 0, 0.4, 1]
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
    name: `ComplementaryArea/${scope}`,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__unstableAnimatePresence, {
      initial: false,
      children: (previousIsActive || isActive) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.__unstableMotion.div, {
        variants: variants,
        initial: "closed",
        animate: isMobileViewport ? 'mobileOpen' : 'open',
        exit: "closed",
        transition: transition,
        className: "interface-complementary-area__fill",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div", {
          id: id,
          className: className,
          style: {
            width: isMobileViewport ? '100vw' : SIDEBAR_WIDTH
          },
          children: children
        })
      })
    })
  });
}
function useAdjustComplementaryListener(scope, identifier, activeArea, isActive, isSmall) {
  const previousIsSmallRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useRef)(false);
  const shouldOpenWhenNotSmallRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useRef)(false);
  const {
    enableComplementaryArea,
    disableComplementaryArea
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_9__.store);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {
    // If the complementary area is active and the editor is switching from
    // a big to a small window size.
    if (isActive && isSmall && !previousIsSmallRef.current) {
      disableComplementaryArea(scope);
      // Flag the complementary area to be reopened when the window size
      // goes from small to big.
      shouldOpenWhenNotSmallRef.current = true;
    } else if (
    // If there is a flag indicating the complementary area should be
    // enabled when we go from small to big window size and we are going
    // from a small to big window size.
    shouldOpenWhenNotSmallRef.current && !isSmall && previousIsSmallRef.current) {
      // Remove the flag indicating the complementary area should be
      // enabled.
      shouldOpenWhenNotSmallRef.current = false;
      enableComplementaryArea(scope, identifier);
    } else if (
    // If the flag is indicating the current complementary should be
    // reopened but another complementary area becomes active, remove
    // the flag.
    shouldOpenWhenNotSmallRef.current && activeArea && activeArea !== identifier) {
      shouldOpenWhenNotSmallRef.current = false;
    }
    if (isSmall !== previousIsSmallRef.current) {
      previousIsSmallRef.current = isSmall;
    }
  }, [isActive, isSmall, scope, identifier, activeArea, disableComplementaryArea, enableComplementaryArea]);
}
function ComplementaryArea({
  children,
  className,
  closeLabel = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Close plugin'),
  identifier: identifierProp,
  header,
  headerClassName,
  icon: iconProp,
  isPinnable = true,
  panelClassName,
  scope,
  name,
  title,
  toggleShortcut,
  isActiveByDefault
}) {
  const context = (0,_wordpress_plugins__WEBPACK_IMPORTED_MODULE_8__.usePluginContext)();
  const icon = iconProp || context.icon;
  const identifier = identifierProp || `${context.name}/${name}`;

  // This state is used to delay the rendering of the Fill
  // until the initial effect runs.
  // This prevents the animation from running on mount if
  // the complementary area is active by default.
  const [isReady, setIsReady] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useState)(false);
  const {
    isLoading,
    isActive,
    isPinned,
    activeArea,
    isSmall,
    isLarge,
    showIconLabels
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => {
    const {
      getActiveComplementaryArea,
      isComplementaryAreaLoading,
      isItemPinned
    } = select(_store__WEBPACK_IMPORTED_MODULE_9__.store);
    const {
      get
    } = select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__.store);
    const _activeArea = getActiveComplementaryArea(scope);
    return {
      isLoading: isComplementaryAreaLoading(scope),
      isActive: _activeArea === identifier,
      isPinned: isItemPinned(scope, identifier),
      activeArea: _activeArea,
      isSmall: select(_wordpress_viewport__WEBPACK_IMPORTED_MODULE_5__.store).isViewportMatch('< medium'),
      isLarge: select(_wordpress_viewport__WEBPACK_IMPORTED_MODULE_5__.store).isViewportMatch('large'),
      showIconLabels: get('core', 'showIconLabels')
    };
  }, [identifier, scope]);
  const isMobileViewport = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__.useViewportMatch)('medium', '<');
  useAdjustComplementaryListener(scope, identifier, activeArea, isActive, isSmall);
  const {
    enableComplementaryArea,
    disableComplementaryArea,
    pinItem,
    unpinItem
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_9__.store);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {
    // Set initial visibility: For large screens, enable if it's active by
    // default. For small screens, always initially disable.
    if (isActiveByDefault && activeArea === undefined && !isSmall) {
      enableComplementaryArea(scope, identifier);
    } else if (activeArea === undefined && isSmall) {
      disableComplementaryArea(scope, identifier);
    }
    setIsReady(true);
  }, [activeArea, isActiveByDefault, scope, identifier, isSmall, enableComplementaryArea, disableComplementaryArea]);
  if (!isReady) {
    return;
  }
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
    children: [isPinnable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_pinned_items__WEBPACK_IMPORTED_MODULE_11__["default"], {
      scope: scope,
      children: isPinned && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_complementary_area_toggle__WEBPACK_IMPORTED_MODULE_12__["default"], {
        scope: scope,
        identifier: identifier,
        isPressed: isActive && (!showIconLabels || isLarge),
        "aria-expanded": isActive,
        "aria-disabled": isLoading,
        label: title,
        icon: showIconLabels ? _wordpress_icons__WEBPACK_IMPORTED_MODULE_13__["default"] : icon,
        showTooltip: !showIconLabels,
        variant: showIconLabels ? 'tertiary' : undefined,
        size: "compact",
        shortcut: toggleShortcut
      })
    }), name && isPinnable && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_complementary_area_more_menu_item__WEBPACK_IMPORTED_MODULE_14__["default"], {
      target: name,
      scope: scope,
      icon: icon,
      children: title
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(ComplementaryAreaFill, {
      activeArea: activeArea,
      isActive: isActive,
      className: (0,clsx__WEBPACK_IMPORTED_MODULE_0__["default"])('interface-complementary-area', className),
      scope: scope,
      id: identifier.replace('/', ':'),
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_complementary_area_header__WEBPACK_IMPORTED_MODULE_15__["default"], {
        className: headerClassName,
        closeLabel: closeLabel,
        onClose: () => disableComplementaryArea(scope),
        toggleButtonProps: {
          label: closeLabel,
          size: 'compact',
          shortcut: toggleShortcut,
          scope,
          identifier
        },
        children: header || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("h2", {
            className: "interface-complementary-area-header__title",
            children: title
          }), isPinnable && !isMobileViewport && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
            className: "interface-complementary-area__pin-unpin-item",
            icon: isPinned ? _wordpress_icons__WEBPACK_IMPORTED_MODULE_16__["default"] : _wordpress_icons__WEBPACK_IMPORTED_MODULE_17__["default"],
            label: isPinned ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Unpin from toolbar') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Pin to toolbar'),
            onClick: () => (isPinned ? unpinItem : pinItem)(scope, identifier),
            isPressed: isPinned,
            "aria-expanded": isPinned,
            size: "compact"
          })]
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Panel, {
        className: panelClassName,
        children: children
      })]
    })]
  });
}
ComplementaryArea.Slot = ComplementaryAreaSlot;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComplementaryArea);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/fullscreen-mode/index.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/fullscreen-mode/index.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/**
 * WordPress dependencies
 */

const FullscreenMode = ({
  isActive
}) => {
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    let isSticky = false;
    // `is-fullscreen-mode` is set in PHP as a body class by Gutenberg, and this causes
    // `sticky-menu` to be applied by WordPress and prevents the admin menu being scrolled
    // even if `is-fullscreen-mode` is then removed. Let's remove `sticky-menu` here as
    // a consequence of the FullscreenMode setup.
    if (document.body.classList.contains('sticky-menu')) {
      isSticky = true;
      document.body.classList.remove('sticky-menu');
    }
    return () => {
      if (isSticky) {
        document.body.classList.add('sticky-menu');
      }
    };
  }, []);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isActive) {
      document.body.classList.add('is-fullscreen-mode');
    } else {
      document.body.classList.remove('is-fullscreen-mode');
    }
    return () => {
      if (isActive) {
        document.body.classList.remove('is-fullscreen-mode');
      }
    };
  }, [isActive]);
  return null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FullscreenMode);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/index.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionItem: () => (/* reexport safe */ _action_item__WEBPACK_IMPORTED_MODULE_5__["default"]),
/* harmony export */   ComplementaryArea: () => (/* reexport safe */ _complementary_area__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   ComplementaryAreaMoreMenuItem: () => (/* reexport safe */ _complementary_area_more_menu_item__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   FullscreenMode: () => (/* reexport safe */ _fullscreen_mode__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   InterfaceSkeleton: () => (/* reexport safe */ _interface_skeleton__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   NavigableRegion: () => (/* reexport safe */ _navigable_region__WEBPACK_IMPORTED_MODULE_6__["default"]),
/* harmony export */   PinnedItems: () => (/* reexport safe */ _pinned_items__WEBPACK_IMPORTED_MODULE_4__["default"])
/* harmony export */ });
/* harmony import */ var _complementary_area__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./complementary-area */ "./node_modules/@wordpress/interface/build-module/components/complementary-area/index.js");
/* harmony import */ var _complementary_area_more_menu_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./complementary-area-more-menu-item */ "./node_modules/@wordpress/interface/build-module/components/complementary-area-more-menu-item/index.js");
/* harmony import */ var _fullscreen_mode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fullscreen-mode */ "./node_modules/@wordpress/interface/build-module/components/fullscreen-mode/index.js");
/* harmony import */ var _interface_skeleton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interface-skeleton */ "./node_modules/@wordpress/interface/build-module/components/interface-skeleton/index.js");
/* harmony import */ var _pinned_items__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pinned-items */ "./node_modules/@wordpress/interface/build-module/components/pinned-items/index.js");
/* harmony import */ var _action_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./action-item */ "./node_modules/@wordpress/interface/build-module/components/action-item/index.js");
/* harmony import */ var _navigable_region__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./navigable-region */ "./node_modules/@wordpress/interface/build-module/components/navigable-region/index.js");







//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/interface-skeleton/index.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/interface-skeleton/index.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.mjs");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _navigable_region__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../navigable-region */ "./node_modules/@wordpress/interface/build-module/components/navigable-region/index.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */





/**
 * Internal dependencies
 */


const ANIMATION_DURATION = 0.25;
const commonTransition = {
  type: 'tween',
  duration: ANIMATION_DURATION,
  ease: [0.6, 0, 0.4, 1]
};
function useHTMLClass(className) {
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    const element = document && document.querySelector(`html:not(.${className})`);
    if (!element) {
      return;
    }
    element.classList.toggle(className);
    return () => {
      element.classList.toggle(className);
    };
  }, [className]);
}
const headerVariants = {
  hidden: {
    opacity: 1,
    marginTop: -60
  },
  visible: {
    opacity: 1,
    marginTop: 0
  },
  distractionFreeHover: {
    opacity: 1,
    marginTop: 0,
    transition: {
      ...commonTransition,
      delay: 0.2,
      delayChildren: 0.2
    }
  },
  distractionFreeHidden: {
    opacity: 0,
    marginTop: -60
  },
  distractionFreeDisabled: {
    opacity: 0,
    marginTop: 0,
    transition: {
      ...commonTransition,
      delay: 0.8,
      delayChildren: 0.8
    }
  }
};
function InterfaceSkeleton({
  isDistractionFree,
  footer,
  header,
  editorNotices,
  sidebar,
  secondarySidebar,
  content,
  actions,
  labels,
  className
}, ref) {
  const [secondarySidebarResizeListener, secondarySidebarSize] = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.useResizeObserver)();
  const isMobileViewport = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.useViewportMatch)('medium', '<');
  const disableMotion = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.useReducedMotion)();
  const defaultTransition = {
    type: 'tween',
    duration: disableMotion ? 0 : ANIMATION_DURATION,
    ease: [0.6, 0, 0.4, 1]
  };
  useHTMLClass('interface-interface-skeleton__html-container');
  const defaultLabels = {
    /* translators: accessibility text for the top bar landmark region. */
    header: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__._x)('Header', 'header landmark area'),
    /* translators: accessibility text for the content landmark region. */
    body: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Content'),
    /* translators: accessibility text for the secondary sidebar landmark region. */
    secondarySidebar: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Block Library'),
    /* translators: accessibility text for the settings landmark region. */
    sidebar: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__._x)('Settings', 'settings landmark area'),
    /* translators: accessibility text for the publish landmark region. */
    actions: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Publish'),
    /* translators: accessibility text for the footer landmark region. */
    footer: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Footer')
  };
  const mergedLabels = {
    ...defaultLabels,
    ...labels
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div", {
    ref: ref,
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_0__["default"])(className, 'interface-interface-skeleton', !!footer && 'has-footer'),
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div", {
      className: "interface-interface-skeleton__editor",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__unstableAnimatePresence, {
        initial: false,
        children: !!header && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_navigable_region__WEBPACK_IMPORTED_MODULE_6__["default"], {
          as: _wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__unstableMotion.div,
          className: "interface-interface-skeleton__header",
          "aria-label": mergedLabels.header,
          initial: isDistractionFree && !isMobileViewport ? 'distractionFreeHidden' : 'hidden',
          whileHover: isDistractionFree && !isMobileViewport ? 'distractionFreeHover' : 'visible',
          animate: isDistractionFree && !isMobileViewport ? 'distractionFreeDisabled' : 'visible',
          exit: isDistractionFree && !isMobileViewport ? 'distractionFreeHidden' : 'hidden',
          variants: headerVariants,
          transition: defaultTransition,
          children: header
        })
      }), isDistractionFree && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div", {
        className: "interface-interface-skeleton__header",
        children: editorNotices
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div", {
        className: "interface-interface-skeleton__body",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__unstableAnimatePresence, {
          initial: false,
          children: !!secondarySidebar && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_navigable_region__WEBPACK_IMPORTED_MODULE_6__["default"], {
            className: "interface-interface-skeleton__secondary-sidebar",
            ariaLabel: mergedLabels.secondarySidebar,
            as: _wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__unstableMotion.div,
            initial: "closed",
            animate: "open",
            exit: "closed",
            variants: {
              open: {
                width: secondarySidebarSize.width
              },
              closed: {
                width: 0
              }
            },
            transition: defaultTransition,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__unstableMotion.div, {
              style: {
                position: 'absolute',
                width: isMobileViewport ? '100vw' : 'fit-content',
                height: '100%',
                left: 0
              },
              variants: {
                open: {
                  x: 0
                },
                closed: {
                  x: '-100%'
                }
              },
              transition: defaultTransition,
              children: [secondarySidebarResizeListener, secondarySidebar]
            })
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_navigable_region__WEBPACK_IMPORTED_MODULE_6__["default"], {
          className: "interface-interface-skeleton__content",
          ariaLabel: mergedLabels.body,
          children: content
        }), !!sidebar && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_navigable_region__WEBPACK_IMPORTED_MODULE_6__["default"], {
          className: "interface-interface-skeleton__sidebar",
          ariaLabel: mergedLabels.sidebar,
          children: sidebar
        }), !!actions && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_navigable_region__WEBPACK_IMPORTED_MODULE_6__["default"], {
          className: "interface-interface-skeleton__actions",
          ariaLabel: mergedLabels.actions,
          children: actions
        })]
      })]
    }), !!footer && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_navigable_region__WEBPACK_IMPORTED_MODULE_6__["default"], {
      className: "interface-interface-skeleton__footer",
      ariaLabel: mergedLabels.footer,
      children: footer
    })]
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(InterfaceSkeleton));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/navigable-region/index.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/navigable-region/index.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.mjs");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * WordPress dependencies
 */


/**
 * External dependencies
 */


const NavigableRegion = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({
  children,
  className,
  ariaLabel,
  as: Tag = 'div',
  ...props
}, ref) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Tag, {
    ref: ref,
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_1__["default"])('interface-navigable-region', className),
    "aria-label": ariaLabel,
    role: "region",
    tabIndex: "-1",
    ...props,
    children: children
  });
});
NavigableRegion.displayName = 'NavigableRegion';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NavigableRegion);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/components/pinned-items/index.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/components/pinned-items/index.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.mjs");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/**
 * External dependencies
 */


/**
 * WordPress dependencies
 */


function PinnedItems({
  scope,
  ...props
}) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Fill, {
    name: `PinnedItems/${scope}`,
    ...props
  });
}
function PinnedItemsSlot({
  scope,
  className,
  ...props
}) {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Slot, {
    name: `PinnedItems/${scope}`,
    ...props,
    children: fills => fills?.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {
      className: (0,clsx__WEBPACK_IMPORTED_MODULE_0__["default"])(className, 'interface-pinned-items'),
      children: fills
    })
  });
}
PinnedItems.Slot = PinnedItemsSlot;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PinnedItems);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionItem: () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.ActionItem),
/* harmony export */   ComplementaryArea: () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.ComplementaryArea),
/* harmony export */   ComplementaryAreaMoreMenuItem: () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.ComplementaryAreaMoreMenuItem),
/* harmony export */   FullscreenMode: () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.FullscreenMode),
/* harmony export */   InterfaceSkeleton: () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.InterfaceSkeleton),
/* harmony export */   NavigableRegion: () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.NavigableRegion),
/* harmony export */   PinnedItems: () => (/* reexport safe */ _components__WEBPACK_IMPORTED_MODULE_0__.PinnedItems),
/* harmony export */   store: () => (/* reexport safe */ _store__WEBPACK_IMPORTED_MODULE_1__.store)
/* harmony export */ });
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components */ "./node_modules/@wordpress/interface/build-module/components/index.js");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store */ "./node_modules/@wordpress/interface/build-module/store/index.js");


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/store/actions.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/store/actions.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   closeModal: () => (/* binding */ closeModal),
/* harmony export */   disableComplementaryArea: () => (/* binding */ disableComplementaryArea),
/* harmony export */   enableComplementaryArea: () => (/* binding */ enableComplementaryArea),
/* harmony export */   openModal: () => (/* binding */ openModal),
/* harmony export */   pinItem: () => (/* binding */ pinItem),
/* harmony export */   setDefaultComplementaryArea: () => (/* binding */ setDefaultComplementaryArea),
/* harmony export */   setFeatureDefaults: () => (/* binding */ setFeatureDefaults),
/* harmony export */   setFeatureValue: () => (/* binding */ setFeatureValue),
/* harmony export */   toggleFeature: () => (/* binding */ toggleFeature),
/* harmony export */   unpinItem: () => (/* binding */ unpinItem)
/* harmony export */ });
/* harmony import */ var _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/deprecated */ "@wordpress/deprecated");
/* harmony import */ var _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/preferences */ "@wordpress/preferences");
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _deprecated__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./deprecated */ "./node_modules/@wordpress/interface/build-module/store/deprecated.js");
/**
 * WordPress dependencies
 */



/**
 * Internal dependencies
 */


/**
 * Set a default complementary area.
 *
 * @param {string} scope Complementary area scope.
 * @param {string} area  Area identifier.
 *
 * @return {Object} Action object.
 */
const setDefaultComplementaryArea = (scope, area) => {
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaScope)(scope);
  area = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaName)(scope, area);
  return {
    type: 'SET_DEFAULT_COMPLEMENTARY_AREA',
    scope,
    area
  };
};

/**
 * Enable the complementary area.
 *
 * @param {string} scope Complementary area scope.
 * @param {string} area  Area identifier.
 */
const enableComplementaryArea = (scope, area) => ({
  registry,
  dispatch
}) => {
  // Return early if there's no area.
  if (!area) {
    return;
  }
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaScope)(scope);
  area = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaName)(scope, area);
  const isComplementaryAreaVisible = registry.select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).get(scope, 'isComplementaryAreaVisible');
  if (!isComplementaryAreaVisible) {
    registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).set(scope, 'isComplementaryAreaVisible', true);
  }
  dispatch({
    type: 'ENABLE_COMPLEMENTARY_AREA',
    scope,
    area
  });
};

/**
 * Disable the complementary area.
 *
 * @param {string} scope Complementary area scope.
 */
const disableComplementaryArea = scope => ({
  registry
}) => {
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaScope)(scope);
  const isComplementaryAreaVisible = registry.select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).get(scope, 'isComplementaryAreaVisible');
  if (isComplementaryAreaVisible) {
    registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).set(scope, 'isComplementaryAreaVisible', false);
  }
};

/**
 * Pins an item.
 *
 * @param {string} scope Item scope.
 * @param {string} item  Item identifier.
 *
 * @return {Object} Action object.
 */
const pinItem = (scope, item) => ({
  registry
}) => {
  // Return early if there's no item.
  if (!item) {
    return;
  }
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaScope)(scope);
  item = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaName)(scope, item);
  const pinnedItems = registry.select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).get(scope, 'pinnedItems');

  // The item is already pinned, there's nothing to do.
  if (pinnedItems?.[item] === true) {
    return;
  }
  registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).set(scope, 'pinnedItems', {
    ...pinnedItems,
    [item]: true
  });
};

/**
 * Unpins an item.
 *
 * @param {string} scope Item scope.
 * @param {string} item  Item identifier.
 */
const unpinItem = (scope, item) => ({
  registry
}) => {
  // Return early if there's no item.
  if (!item) {
    return;
  }
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaScope)(scope);
  item = (0,_deprecated__WEBPACK_IMPORTED_MODULE_2__.normalizeComplementaryAreaName)(scope, item);
  const pinnedItems = registry.select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).get(scope, 'pinnedItems');
  registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).set(scope, 'pinnedItems', {
    ...pinnedItems,
    [item]: false
  });
};

/**
 * Returns an action object used in signalling that a feature should be toggled.
 *
 * @param {string} scope       The feature scope (e.g. core/edit-post).
 * @param {string} featureName The feature name.
 */
function toggleFeature(scope, featureName) {
  return function ({
    registry
  }) {
    _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default()(`dispatch( 'core/interface' ).toggleFeature`, {
      since: '6.0',
      alternative: `dispatch( 'core/preferences' ).toggle`
    });
    registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).toggle(scope, featureName);
  };
}

/**
 * Returns an action object used in signalling that a feature should be set to
 * a true or false value
 *
 * @param {string}  scope       The feature scope (e.g. core/edit-post).
 * @param {string}  featureName The feature name.
 * @param {boolean} value       The value to set.
 *
 * @return {Object} Action object.
 */
function setFeatureValue(scope, featureName, value) {
  return function ({
    registry
  }) {
    _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default()(`dispatch( 'core/interface' ).setFeatureValue`, {
      since: '6.0',
      alternative: `dispatch( 'core/preferences' ).set`
    });
    registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).set(scope, featureName, !!value);
  };
}

/**
 * Returns an action object used in signalling that defaults should be set for features.
 *
 * @param {string}                  scope    The feature scope (e.g. core/edit-post).
 * @param {Object<string, boolean>} defaults A key/value map of feature names to values.
 *
 * @return {Object} Action object.
 */
function setFeatureDefaults(scope, defaults) {
  return function ({
    registry
  }) {
    _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default()(`dispatch( 'core/interface' ).setFeatureDefaults`, {
      since: '6.0',
      alternative: `dispatch( 'core/preferences' ).setDefaults`
    });
    registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_1__.store).setDefaults(scope, defaults);
  };
}

/**
 * Returns an action object used in signalling that the user opened a modal.
 *
 * @param {string} name A string that uniquely identifies the modal.
 *
 * @return {Object} Action object.
 */
function openModal(name) {
  return {
    type: 'OPEN_MODAL',
    name
  };
}

/**
 * Returns an action object signalling that the user closed a modal.
 *
 * @return {Object} Action object.
 */
function closeModal() {
  return {
    type: 'CLOSE_MODAL'
  };
}
//# sourceMappingURL=actions.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/store/constants.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/store/constants.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STORE_NAME: () => (/* binding */ STORE_NAME)
/* harmony export */ });
/**
 * The identifier for the data store.
 *
 * @type {string}
 */
const STORE_NAME = 'core/interface';
//# sourceMappingURL=constants.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/store/deprecated.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/store/deprecated.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   normalizeComplementaryAreaName: () => (/* binding */ normalizeComplementaryAreaName),
/* harmony export */   normalizeComplementaryAreaScope: () => (/* binding */ normalizeComplementaryAreaScope)
/* harmony export */ });
/* harmony import */ var _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/deprecated */ "@wordpress/deprecated");
/* harmony import */ var _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0__);
/**
 * WordPress dependencies
 */

function normalizeComplementaryAreaScope(scope) {
  if (['core/edit-post', 'core/edit-site'].includes(scope)) {
    _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default()(`${scope} interface scope`, {
      alternative: 'core interface scope',
      hint: 'core/edit-post and core/edit-site are merging.',
      version: '6.6'
    });
    return 'core';
  }
  return scope;
}
function normalizeComplementaryAreaName(scope, name) {
  if (scope === 'core' && name === 'edit-site/template') {
    _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default()(`edit-site/template sidebar`, {
      alternative: 'edit-post/document',
      version: '6.6'
    });
    return 'edit-post/document';
  }
  if (scope === 'core' && name === 'edit-site/block-inspector') {
    _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_0___default()(`edit-site/block-inspector sidebar`, {
      alternative: 'edit-post/block',
      version: '6.6'
    });
    return 'edit-post/block';
  }
  return name;
}
//# sourceMappingURL=deprecated.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/store/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/store/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   store: () => (/* binding */ store)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions */ "./node_modules/@wordpress/interface/build-module/store/actions.js");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./selectors */ "./node_modules/@wordpress/interface/build-module/store/selectors.js");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reducer */ "./node_modules/@wordpress/interface/build-module/store/reducer.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./node_modules/@wordpress/interface/build-module/store/constants.js");
/**
 * WordPress dependencies
 */


/**
 * Internal dependencies
 */





/**
 * Store definition for the interface namespace.
 *
 * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore
 *
 * @type {Object}
 */
const store = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createReduxStore)(_constants__WEBPACK_IMPORTED_MODULE_1__.STORE_NAME, {
  reducer: _reducer__WEBPACK_IMPORTED_MODULE_2__["default"],
  actions: _actions__WEBPACK_IMPORTED_MODULE_3__,
  selectors: _selectors__WEBPACK_IMPORTED_MODULE_4__
});

// Once we build a more generic persistence plugin that works across types of stores
// we'd be able to replace this with a register call.
(0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.register)(store);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/store/reducer.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/store/reducer.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   activeModal: () => (/* binding */ activeModal),
/* harmony export */   complementaryAreas: () => (/* binding */ complementaryAreas),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/**
 * WordPress dependencies
 */

function complementaryAreas(state = {}, action) {
  switch (action.type) {
    case 'SET_DEFAULT_COMPLEMENTARY_AREA':
      {
        const {
          scope,
          area
        } = action;

        // If there's already an area, don't overwrite it.
        if (state[scope]) {
          return state;
        }
        return {
          ...state,
          [scope]: area
        };
      }
    case 'ENABLE_COMPLEMENTARY_AREA':
      {
        const {
          scope,
          area
        } = action;
        return {
          ...state,
          [scope]: area
        };
      }
  }
  return state;
}

/**
 * Reducer for storing the name of the open modal, or null if no modal is open.
 *
 * @param {Object} state  Previous state.
 * @param {Object} action Action object containing the `name` of the modal
 *
 * @return {Object} Updated state
 */
function activeModal(state = null, action) {
  switch (action.type) {
    case 'OPEN_MODAL':
      return action.name;
    case 'CLOSE_MODAL':
      return null;
  }
  return state;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.combineReducers)({
  complementaryAreas,
  activeModal
}));
//# sourceMappingURL=reducer.js.map

/***/ }),

/***/ "./node_modules/@wordpress/interface/build-module/store/selectors.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@wordpress/interface/build-module/store/selectors.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getActiveComplementaryArea: () => (/* binding */ getActiveComplementaryArea),
/* harmony export */   isComplementaryAreaLoading: () => (/* binding */ isComplementaryAreaLoading),
/* harmony export */   isFeatureActive: () => (/* binding */ isFeatureActive),
/* harmony export */   isItemPinned: () => (/* binding */ isItemPinned),
/* harmony export */   isModalActive: () => (/* binding */ isModalActive)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/deprecated */ "@wordpress/deprecated");
/* harmony import */ var _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/preferences */ "@wordpress/preferences");
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _deprecated__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deprecated */ "./node_modules/@wordpress/interface/build-module/store/deprecated.js");
/**
 * WordPress dependencies
 */




/**
 * Internal dependencies
 */


/**
 * Returns the complementary area that is active in a given scope.
 *
 * @param {Object} state Global application state.
 * @param {string} scope Item scope.
 *
 * @return {string | null | undefined} The complementary area that is active in the given scope.
 */
const getActiveComplementaryArea = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => (state, scope) => {
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_3__.normalizeComplementaryAreaScope)(scope);
  const isComplementaryAreaVisible = select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_2__.store).get(scope, 'isComplementaryAreaVisible');

  // Return `undefined` to indicate that the user has never toggled
  // visibility, this is the vanilla default. Other code relies on this
  // nuance in the return value.
  if (isComplementaryAreaVisible === undefined) {
    return undefined;
  }

  // Return `null` to indicate the user hid the complementary area.
  if (isComplementaryAreaVisible === false) {
    return null;
  }
  return state?.complementaryAreas?.[scope];
});
const isComplementaryAreaLoading = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => (state, scope) => {
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_3__.normalizeComplementaryAreaScope)(scope);
  const isVisible = select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_2__.store).get(scope, 'isComplementaryAreaVisible');
  const identifier = state?.complementaryAreas?.[scope];
  return isVisible && identifier === undefined;
});

/**
 * Returns a boolean indicating if an item is pinned or not.
 *
 * @param {Object} state Global application state.
 * @param {string} scope Scope.
 * @param {string} item  Item to check.
 *
 * @return {boolean} True if the item is pinned and false otherwise.
 */
const isItemPinned = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => (state, scope, item) => {
  var _pinnedItems$item;
  scope = (0,_deprecated__WEBPACK_IMPORTED_MODULE_3__.normalizeComplementaryAreaScope)(scope);
  item = (0,_deprecated__WEBPACK_IMPORTED_MODULE_3__.normalizeComplementaryAreaName)(scope, item);
  const pinnedItems = select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_2__.store).get(scope, 'pinnedItems');
  return (_pinnedItems$item = pinnedItems?.[item]) !== null && _pinnedItems$item !== void 0 ? _pinnedItems$item : true;
});

/**
 * Returns a boolean indicating whether a feature is active for a particular
 * scope.
 *
 * @param {Object} state       The store state.
 * @param {string} scope       The scope of the feature (e.g. core/edit-post).
 * @param {string} featureName The name of the feature.
 *
 * @return {boolean} Is the feature enabled?
 */
const isFeatureActive = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => (state, scope, featureName) => {
  _wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1___default()(`select( 'core/interface' ).isFeatureActive( scope, featureName )`, {
    since: '6.0',
    alternative: `select( 'core/preferences' ).get( scope, featureName )`
  });
  return !!select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_2__.store).get(scope, featureName);
});

/**
 * Returns true if a modal is active, or false otherwise.
 *
 * @param {Object} state     Global application state.
 * @param {string} modalName A string that uniquely identifies the modal.
 *
 * @return {boolean} Whether the modal is active.
 */
function isModalActive(state, modalName) {
  return state.activeModal === modalName;
}
//# sourceMappingURL=selectors.js.map

/***/ }),

/***/ "./src/blocks/core/button.ts":
/*!***********************************!*\
  !*** ./src/blocks/core/button.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   enhanceButtonBlock: () => (/* binding */ enhanceButtonBlock)
/* harmony export */ });
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__);
/**
 * External dependencies
 */

/**
 * Disables Styles for button
 * Currently we are not able to read these styles in renderer
 */
function enhanceButtonBlock() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/change-button', (settings, name) => {
    if (name === 'core/button') {
      return {
        ...settings,
        styles: []
      };
    }
    return settings;
  });
}


/***/ }),

/***/ "./src/blocks/core/buttons.ts":
/*!************************************!*\
  !*** ./src/blocks/core/buttons.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   enhanceButtonsBlock: () => (/* binding */ enhanceButtonsBlock)
/* harmony export */ });
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__);
/**
 * External dependencies
 */

/**
 * Switch layout to reduced flex email layout
 * Email render engine can't handle full flex layout se we need to switch to reduced flex layout
 */
function enhanceButtonsBlock() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/change-buttons', (settings, name) => {
    if (name === 'core/buttons') {
      return {
        ...settings,
        supports: {
          ...settings.supports,
          layout: false,
          // disable block editor's layouts
          // enable MailPoet's reduced flex email layout
          __experimentalEmailFlexLayout: true // eslint-disable-line
        }
      };
    }
    return settings;
  });
}


/***/ }),

/***/ "./src/blocks/core/column.ts":
/*!***********************************!*\
  !*** ./src/blocks/core/column.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   enhanceColumnBlock: () => (/* binding */ enhanceColumnBlock)
/* harmony export */ });
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__);
/**
 * External dependencies
 */

function enhanceColumnBlock() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/change-column', (settings, name) => {
    if (name === 'core/column') {
      return {
        ...settings,
        supports: {
          ...settings.supports,
          background: {
            backgroundImage: true
          }
        }
      };
    }
    return settings;
  });
}


/***/ }),

/***/ "./src/blocks/core/columns.tsx":
/*!*************************************!*\
  !*** ./src/blocks/core/columns.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deactivateStackOnMobile: () => (/* binding */ deactivateStackOnMobile),
/* harmony export */   disableColumnsLayout: () => (/* binding */ disableColumnsLayout),
/* harmony export */   enhanceColumnsBlock: () => (/* binding */ enhanceColumnsBlock)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__);

/**
 * External dependencies
 */



const columnsEditCallback = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.createHigherOrderComponent)(BlockEdit => function alterBlocksEdits(props) {
  if (props.name !== 'core/columns') {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockEdit, {
      ...props
    });
  }
  // CSS sets opacity by the class is-disabled by the toggle component from the Gutenberg package
  // To deactivating the input we use CSS pointer-events because we want to avoid JavaScript hacks
  const deactivateToggleCss = `
      .components-panel__body .components-toggle-control .components-form-toggle { opacity: 0.3; }
      .components-panel__body .components-toggle-control .components-form-toggle__input { pointer-events: none; }
      .components-panel__body .components-toggle-control label { pointer-events: none; }
    `;
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockEdit, {
    ...props
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__.InspectorControls, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("style", null, deactivateToggleCss)));
}, 'columnsEditCallback');
function deactivateStackOnMobile() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('editor.BlockEdit', 'mailpoet-email-editor/deactivate-stack-on-mobile', columnsEditCallback);
}

/**
 * Disables layout support for columns and column blocks because
 * the default layout `flex` add gaps between columns that it is not possible to support in emails.
 */
function disableColumnsLayout() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/disable-columns-layout', (settings, name) => {
    if (name === 'core/columns' || name === 'core/column') {
      // eslint-disable-next-line @typescript-eslint/no-unsafe-return
      return {
        ...settings,
        supports: {
          ...settings.supports,
          layout: false
        }
      };
    }

    // eslint-disable-next-line @typescript-eslint/no-unsafe-return
    return settings;
  });
}
function enhanceColumnsBlock() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/change-columns', (settings, name) => {
    if (name === 'core/columns') {
      return {
        ...settings,
        supports: {
          ...settings.supports,
          background: {
            backgroundImage: true
          }
        }
      };
    }
    return settings;
  });
}


/***/ }),

/***/ "./src/blocks/core/general-block-support.ts":
/*!**************************************************!*\
  !*** ./src/blocks/core/general-block-support.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   alterSupportConfiguration: () => (/* binding */ alterSupportConfiguration)
/* harmony export */ });
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__);
/**
 * External dependencies
 */


// Extend the BlockSupports type to include shadow
// The shadow is not included in WP6.4 but it is in WP6.5
// We can remove it once we upgrade packages to WP6.5

/**
 * Disables Shadow Support for all blocks
 * Currently we are not able to read these styles in renderer
 */
function alterSupportConfiguration() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/block-support', settings => {
    if (settings.supports?.shadow) {
      return {
        ...settings,
        supports: {
          ...settings.supports,
          shadow: false
        }
      };
    }
    return settings;
  });
}


/***/ }),

/***/ "./src/blocks/core/group.tsx":
/*!***********************************!*\
  !*** ./src/blocks/core/group.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   disableGroupVariations: () => (/* binding */ disableGroupVariations)
/* harmony export */ });
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__);
/**
 * External dependencies
 */


/**
 * Disables layout support for group blocks because the default layout `flex` add gaps between columns that it is not possible to support in emails.
 */
function disableGroupVariations() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/disable-group-variations', (settings, name) => {
    if (name === 'core/group') {
      // eslint-disable-next-line @typescript-eslint/no-unsafe-return
      return {
        ...settings,
        variations: settings.variations.filter(variation => variation.name === 'group'),
        supports: {
          ...settings.supports,
          layout: false
        }
      };
    }
    // eslint-disable-next-line @typescript-eslint/no-unsafe-return
    return settings;
  });
}


/***/ }),

/***/ "./src/blocks/core/image.tsx":
/*!***********************************!*\
  !*** ./src/blocks/core/image.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   disableImageFilter: () => (/* binding */ disableImageFilter),
/* harmony export */   hideExpandOnClick: () => (/* binding */ hideExpandOnClick)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__);

/**
 * External dependencies
 */



const imageEditCallback = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.createHigherOrderComponent)(BlockEdit => function alterBlocksEdits(props) {
  if (props.name !== 'core/image') {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockEdit, {
      ...props
    });
  }
  // Because we cannot support displaying the modal with image after clicking in the email we have to hide the toggle
  const deactivateToggleCss = `
        .components-tools-panel .components-toggle-control { display: none; }
      `;
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockEdit, {
    ...props
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__.InspectorControls, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("style", null, deactivateToggleCss)));
}, 'imageEditCallback');

/**
 * Because CSS property filter is not supported in almost 50% of email clients we have to disable it
 */
function disableImageFilter() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/deactivate-image-filter', (settings, name) => {
    if (name === 'core/image') {
      return {
        ...settings,
        supports: {
          ...settings.supports,
          filter: {
            duetone: false
          }
        }
      };
    }
    return settings;
  });
}
function hideExpandOnClick() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('editor.BlockEdit', 'mailpoet-email-editor/hide-expand-on-click', imageEditCallback);
}


/***/ }),

/***/ "./src/blocks/core/post-content.tsx":
/*!******************************************!*\
  !*** ./src/blocks/core/post-content.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   enhancePostContentBlock: () => (/* binding */ enhancePostContentBlock)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__);

/**
 * External dependencies
 */



function Placeholder({
  layoutClassNames
}) {
  const blockProps = (0,_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.useBlockProps)({
    className: layoutClassNames
  });
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    ...blockProps
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('This is the Content block.', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('It will display all the blocks in the email content, which might be only simple text paragraphs. You can enrich your message with images, incorporate data through tables, explore different layout designs with columns, or use any other block type.', 'mailpoet')));
}

// Curried function to add a custom placeholder to the post content block, or just use the original Edit component.
function PostContentEdit(OriginalEditComponent) {
  return function Edit({
    context,
    __unstableLayoutClassNames: layoutClassNames
  }) {
    const {
      postId: contextPostId,
      postType: contextPostType
    } = context;
    const hasContent = contextPostId && contextPostType;
    if (hasContent) {
      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(OriginalEditComponent, {
        context,
        __unstableLayoutClassNames: layoutClassNames
      });
    }
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Placeholder, {
      layoutClassNames: layoutClassNames
    });
  };
}
function enhancePostContentBlock() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/change-post-content', (settings, name) => {
    if (name === 'core/post-content') {
      return {
        ...settings,
        edit: PostContentEdit(settings.edit)
      };
    }
    return settings;
  });
}


/***/ }),

/***/ "./src/blocks/core/rich-text.tsx":
/*!***************************************!*\
  !*** ./src/blocks/core/rich-text.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   activatePersonalizationTagsReplacing: () => (/* binding */ activatePersonalizationTagsReplacing),
/* harmony export */   disableCertainRichTextFormats: () => (/* binding */ disableCertainRichTextFormats),
/* harmony export */   extendRichTextFormats: () => (/* binding */ extendRichTextFormats)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/rich-text */ "@wordpress/rich-text");
/* harmony import */ var _wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _components_personalization_tags_rich_text_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/personalization-tags/rich-text-utils */ "./src/components/personalization-tags/rich-text-utils.ts");
/* harmony import */ var _components_personalization_tags_personalization_tags_modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/personalization-tags/personalization-tags-modal */ "./src/components/personalization-tags/personalization-tags-modal.tsx");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _components_personalization_tags_personalization_tags_popover__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/personalization-tags/personalization-tags-popover */ "./src/components/personalization-tags/personalization-tags-popover.tsx");
/* harmony import */ var _components_personalization_tags_personalization_tags_link_popover__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../components/personalization-tags/personalization-tags-link-popover */ "./src/components/personalization-tags/personalization-tags-link-popover.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */










/**
 * Internal dependencies
 */







/**
 * Disable Rich text formats we currently cannot support
 * Note: This will remove its support for all blocks in the email editor e.g., p, h1,h2, etc
 */
function disableCertainRichTextFormats() {
  // remove support for inline image - We can't use it
  (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.unregisterFormatType)('core/image');

  // remove support for Inline code - Not well formatted
  (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.unregisterFormatType)('core/code');

  // remove support for Language - Not supported for now
  (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.unregisterFormatType)('core/language');
}
/**
 * A button to the rich text editor to open modal with registered personalization tags.
 *
 * @param root0
 * @param root0.contentRef
 */
function PersonalizationTagsButton({
  contentRef
}) {
  const [isModalOpened, setIsModalOpened] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_6__.useState)(false);
  const selectedBlockId = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.useSelect)(select => select('core/block-editor').getSelectedBlockClientId());
  const {
    updateBlockAttributes
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.useDispatch)('core/block-editor');

  // Get the current block content
  const blockContent = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.useSelect)(select => {
    const attributes =
    // @ts-expect-error getBlockAttributes expects one argument, but TS thinks it expects none
    select('core/block-editor').getBlockAttributes(selectedBlockId);
    return attributes?.content?.originalHTML || attributes?.content || ''; // After first saving the content does not have property originalHTML, so we need to check for content as well
  });
  const handleInsert = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_6__.useCallback)((tag, linkText) => {
    let {
      start,
      end
    } = (0,_components_personalization_tags_rich_text_utils__WEBPACK_IMPORTED_MODULE_9__.getCursorPosition)(contentRef, blockContent);
    let updatedContent = '';
    // When we pass linkText, we want to insert the tag as a link
    if (linkText) {
      let richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.create)({
        html: blockContent
      });

      // Insert the new text into the current selection or at the cursor
      richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.insert)(richTextValue, linkText, start, end);
      end = start + linkText.length;
      // The link is inserted via registered format type to avoid breaking the content
      richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.applyFormat)(richTextValue, {
        type: 'mailpoet-email-editor/link-shortcode',
        // @ts-expect-error attributes property is missing in build type for WPFormat type
        attributes: {
          'data-link-href': tag,
          contenteditable: 'false',
          style: 'text-decoration: underline;'
        }
      }, start, end);
      updatedContent = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.toHTMLString)({
        value: richTextValue
      });
    } else {
      let richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.create)({
        html: blockContent
      });
      richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.insert)(richTextValue, (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.create)({
        html: `<!--${tag}-->&nbsp;`
      }),
      // Add a non-breaking space to avoid an issue when WP renderer removes blog containing only a comment
      start, end);
      updatedContent = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.toHTMLString)({
        value: richTextValue
      });
    }
    updateBlockAttributes(selectedBlockId, {
      content: updatedContent
    });
  }, [blockContent, contentRef, selectedBlockId, updateBlockAttributes]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.BlockControls, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.ToolbarGroup, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.ToolbarButton, {
    icon: "shortcode",
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Personalization Tags', 'mailpoet'),
    onClick: () => {
      setIsModalOpened(true);
      (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEvent)('block_controls_personalization_tags_button_clicked');
    }
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_personalization_tags_personalization_tags_popover__WEBPACK_IMPORTED_MODULE_11__.PersonalizationTagsPopover, {
    contentRef: contentRef,
    onUpdate: (originalTag, updatedTag) => {
      // When we update the tag, we need to add brackets to the tag, because the popover removes them
      const updatedContent = blockContent.replace(`<!--[${originalTag}]-->`, `<!--[${updatedTag}]-->`);
      updateBlockAttributes(selectedBlockId, {
        content: updatedContent
      });
    }
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_personalization_tags_personalization_tags_link_popover__WEBPACK_IMPORTED_MODULE_12__.PersonalizationTagsLinkPopover, {
    contentRef: contentRef,
    onUpdate: (htmlElement, newTag, newText) => {
      const oldTag = htmlElement.getAttribute('data-link-href').replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      const regex = new RegExp(`<a([^>]*?)data-link-href="${oldTag}"([^>]*?)>${htmlElement.textContent}</a>`, 'gi');

      // Replace the matched link with the new link
      const updatedContent = blockContent.replace(regex, (_, beforeAttrs, afterAttrs) => {
        // Construct the new <a> tag
        return `<a${beforeAttrs}data-link-href="${newTag}"${afterAttrs}>${newText}</a>`;
      });
      updateBlockAttributes(selectedBlockId, {
        content: updatedContent
      });
    }
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_personalization_tags_personalization_tags_modal__WEBPACK_IMPORTED_MODULE_13__.PersonalizationTagsModal, {
    isOpened: isModalOpened,
    onInsert: (value, linkText) => {
      handleInsert(value, linkText);
      setIsModalOpened(false);
    },
    closeCallback: () => setIsModalOpened(false),
    canInsertLink: true,
    openedBy: "block-controls"
  })));
}

/**
 * Extend the rich text formats with a button for personalization tags.
 */
function extendRichTextFormats() {
  (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.registerFormatType)('mailpoet-email-editor/shortcode', {
    name: 'mailpoet-email-editor/shortcode',
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Personalization Tags', 'mailpoet'),
    className: 'mailpoet-email-editor-personalization-tags',
    tagName: 'span',
    // @ts-expect-error attributes property is missing in build type for WPFormat type
    attributes: {},
    edit: PersonalizationTagsButton
  });

  // Register format type for using personalization tags as link attributes
  (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_1__.registerFormatType)('mailpoet-email-editor/link-shortcode', {
    name: 'mailpoet-email-editor/link-shortcode',
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Personalization Tags Link', 'mailpoet'),
    className: 'mailpoet-email-editor__personalization-tags-link',
    tagName: 'a',
    // @ts-expect-error attributes property is missing in build type for WPFormat type
    attributes: {
      'data-link-href': 'data-link-href',
      contenteditable: 'contenteditable',
      style: 'style'
    },
    edit: null
  });
}
const personalizationTagsLiveContentUpdate = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_8__.createHigherOrderComponent)(BlockEdit => props => {
  const {
    attributes,
    setAttributes,
    name
  } = props;
  const {
    content
  } = attributes;

  // Fetch the personalization tags list
  const list = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_14__.storeName).getPersonalizationTagsList(), []);

  // Memoized function to replace content tags
  const updateContent = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_6__.useCallback)(() => {
    if (!content) {
      return '';
    }
    return (0,_components_personalization_tags_rich_text_utils__WEBPACK_IMPORTED_MODULE_9__.replacePersonalizationTagsWithHTMLComments)(content, list);
  }, [content, list]);

  // Handle content updates
  const handleSetAttributes = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_6__.useCallback)(newAttributes => {
    if (newAttributes.content !== undefined) {
      const replacedContent = (0,_components_personalization_tags_rich_text_utils__WEBPACK_IMPORTED_MODULE_9__.replacePersonalizationTagsWithHTMLComments)(newAttributes.content, list);
      setAttributes({
        ...newAttributes,
        content: replacedContent
      });
    } else {
      setAttributes(newAttributes);
    }
  }, [list, setAttributes]);

  // Only process supported blocks
  if (name === 'core/paragraph' || name === 'core/heading' || name === 'core/list-item') {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockEdit, {
      ...props,
      attributes: {
        ...attributes,
        content: updateContent()
      },
      setAttributes: handleSetAttributes
    });
  }

  // Return default for unsupported blocks
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockEdit, {
    ...props
  });
}, 'personalizationTagsLiveContentUpdate');

/**
 * Replace written personalization tags with HTML comments in real-time.
 */
function activatePersonalizationTagsReplacing() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_7__.addFilter)('editor.BlockEdit', 'mailpoet-email-editor/with-live-content-update', personalizationTagsLiveContentUpdate);
}


/***/ }),

/***/ "./src/blocks/index.ts":
/*!*****************************!*\
  !*** ./src/blocks/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initBlocks: () => (/* binding */ initBlocks)
/* harmony export */ });
/* harmony import */ var _wordpress_block_library__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/block-library */ "@wordpress/block-library");
/* harmony import */ var _wordpress_block_library__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_library__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_column__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core/column */ "./src/blocks/core/column.ts");
/* harmony import */ var _core_columns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/columns */ "./src/blocks/core/columns.tsx");
/* harmony import */ var _core_post_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./core/post-content */ "./src/blocks/core/post-content.tsx");
/* harmony import */ var _core_group__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/group */ "./src/blocks/core/group.tsx");
/* harmony import */ var _core_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/image */ "./src/blocks/core/image.tsx");
/* harmony import */ var _core_rich_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/rich-text */ "./src/blocks/core/rich-text.tsx");
/* harmony import */ var _core_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/button */ "./src/blocks/core/button.ts");
/* harmony import */ var _core_buttons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/buttons */ "./src/blocks/core/buttons.ts");
/* harmony import */ var _core_general_block_support__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./core/general-block-support */ "./src/blocks/core/general-block-support.ts");
/**
 * External dependencies
 */


/**
 * Internal dependencies
 */









function initBlocks() {
  (0,_core_columns__WEBPACK_IMPORTED_MODULE_1__.deactivateStackOnMobile)();
  (0,_core_image__WEBPACK_IMPORTED_MODULE_2__.hideExpandOnClick)();
  (0,_core_image__WEBPACK_IMPORTED_MODULE_2__.disableImageFilter)();
  (0,_core_rich_text__WEBPACK_IMPORTED_MODULE_3__.disableCertainRichTextFormats)();
  (0,_core_columns__WEBPACK_IMPORTED_MODULE_1__.disableColumnsLayout)();
  (0,_core_group__WEBPACK_IMPORTED_MODULE_4__.disableGroupVariations)();
  (0,_core_button__WEBPACK_IMPORTED_MODULE_5__.enhanceButtonBlock)();
  (0,_core_buttons__WEBPACK_IMPORTED_MODULE_6__.enhanceButtonsBlock)();
  (0,_core_column__WEBPACK_IMPORTED_MODULE_7__.enhanceColumnBlock)();
  (0,_core_columns__WEBPACK_IMPORTED_MODULE_1__.enhanceColumnsBlock)();
  (0,_core_post_content__WEBPACK_IMPORTED_MODULE_8__.enhancePostContentBlock)();
  (0,_core_rich_text__WEBPACK_IMPORTED_MODULE_3__.extendRichTextFormats)();
  (0,_core_rich_text__WEBPACK_IMPORTED_MODULE_3__.activatePersonalizationTagsReplacing)();
  (0,_core_general_block_support__WEBPACK_IMPORTED_MODULE_9__.alterSupportConfiguration)();
  (0,_wordpress_block_library__WEBPACK_IMPORTED_MODULE_0__.registerCoreBlocks)();
}

/***/ }),

/***/ "./src/components/autosave/autosave-monitor.tsx":
/*!******************************************************!*\
  !*** ./src/components/autosave/autosave-monitor.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AutosaveMonitor: () => (/* binding */ AutosaveMonitor)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");
/**
 * External dependencies
 */



/**
 * Internal dependencies
 */



/**
 * This component is simplified version of the original one from @wordpress/editor package.
 * The original component can be found here: https://github.com/WordPress/gutenberg/blob/46446b853d740c309c0675c7bf2ca4170a618c42/packages/editor/src/components/autosave-monitor/index.js
 * The main reason for the own solution is that the original component needs to initialize the @wordpress/editor store.
 * We could use the action `setEditedPost` from the editor package, but it is only in a newer version of the editor package.
 */
function AutosaveMonitor() {
  const {
    hasEdits,
    autosaveInterval
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useSelect)(select => ({
    hasEdits: select(_store__WEBPACK_IMPORTED_MODULE_2__.storeName).hasEdits(),
    autosaveInterval: select(_store__WEBPACK_IMPORTED_MODULE_2__.storeName).getAutosaveInterval()
  }), []);
  const {
    saveEditedEmail
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_2__.storeName);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    let autosaveTimer;
    if (hasEdits && autosaveInterval > 0) {
      autosaveTimer = setTimeout(() => {
        void saveEditedEmail();
        (0,_events__WEBPACK_IMPORTED_MODULE_3__.recordEvent)('editor_content_auto_saved');
      }, autosaveInterval * 1000);
    }
    return () => {
      if (autosaveTimer) {
        clearTimeout(autosaveTimer);
      }
    };
  }, [hasEdits, autosaveInterval, saveEditedEmail]);
  return null;
}

/***/ }),

/***/ "./src/components/block-editor/editor.tsx":
/*!************************************************!*\
  !*** ./src/components/block-editor/editor.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InnerEditor: () => (/* binding */ InnerEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./layout */ "./src/components/block-editor/layout.tsx");
/* harmony import */ var _hooks_use_navigate_to_entity_record__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/use-navigate-to-entity-record */ "./src/hooks/use-navigate-to-entity-record.js");
/* harmony import */ var _private_apis__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../private-apis */ "./src/private-apis/index.ts");

/**
 * External dependencies
 */





/**
 * Internal dependencies
 */




function InnerEditor({
  postId: initialPostId,
  postType: initialPostType,
  settings,
  initialEdits,
  ...props
}) {
  const {
    currentPost,
    onNavigateToEntityRecord,
    onNavigateToPreviousEntityRecord
  } = (0,_hooks_use_navigate_to_entity_record__WEBPACK_IMPORTED_MODULE_6__.useNavigateToEntityRecord)(
  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
  initialPostId,
  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
  initialPostType, 'post-only');
  const {
    post,
    template
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    const {
      getEntityRecord
    } = select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_5__.store);
    const {
      getEditedPostTemplate
    } = select(_store__WEBPACK_IMPORTED_MODULE_7__.storeName);
    const postObject = getEntityRecord('postType',
    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
    currentPost.postType,
    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
    currentPost.postId);
    return {
      template: currentPost.postType !== 'wp_template' ? getEditedPostTemplate() : null,
      post: postObject
    };
  }, [currentPost.postType, currentPost.postId]);

  /*
   * We need to fetch patterns ourselves. Automatic fetching of patterns is currently a private functionality
   * that is not available in EditorProvider but only in the ExperimentalBlockEditorProvider which
   * is not exported in the public components nor private components.
   */
  const blockPatterns = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    const {
      hasFinishedResolution,
      getBlockPatternsForPostType
    } = (0,_private_apis__WEBPACK_IMPORTED_MODULE_8__.unlockPatternsRelatedSelectorsFromCoreStore)(select);
    const patterns = getBlockPatternsForPostType(currentPost.postType);
    return hasFinishedResolution('getBlockPatterns') ? patterns : undefined;
  }, [currentPost.postType]);
  const editorSettings = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useMemo)(
  // eslint-disable-next-line @typescript-eslint/no-unsafe-return
  () => ({
    ...settings,
    onNavigateToEntityRecord,
    onNavigateToPreviousEntityRecord,
    defaultRenderingMode: 'template-locked',
    supportsTemplateMode: true,
    __experimentalBlockPatterns: blockPatterns // eslint-disable-line
  }), [settings, onNavigateToEntityRecord, onNavigateToPreviousEntityRecord, blockPatterns]);
  if (!post || currentPost.postType !== 'wp_template' && !template) {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
      className: "spinner-container"
    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Spinner, {
      style: {
        width: '80px',
        height: '80px'
      }
    }));
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.SlotFillProvider, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.EditorProvider, {
    settings: editorSettings,
    post: post,
    initialEdits: initialEdits,
    useSubRegistry: false
    // @ts-expect-error __unstableTemplate is not in the EditorProvider props in the installed version of packages
    ,
    __unstableTemplate: template,
    ...props
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.ErrorBoundary, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_layout__WEBPACK_IMPORTED_MODULE_9__.Layout, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.PostLockedModal, null))));
}

/***/ }),

/***/ "./src/components/block-editor/layout.tsx":
/*!************************************************!*\
  !*** ./src/components/block-editor/layout.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Layout: () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_media_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/media-utils */ "@wordpress/media-utils");
/* harmony import */ var _wordpress_media_utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_media_utils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_interface__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/interface */ "./node_modules/@wordpress/interface/build-module/index.js");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index.scss */ "./src/components/block-editor/index.scss");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-email-css.ts");
/* harmony import */ var _autosave__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../autosave */ "./src/components/autosave/autosave-monitor.tsx");
/* harmony import */ var _sidebar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../sidebar */ "./src/components/sidebar/sidebar.tsx");
/* harmony import */ var _sidebar__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../sidebar */ "./src/components/sidebar/block-compatibility-warnings.tsx");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../header */ "./src/components/header/header.tsx");
/* harmony import */ var _listview_sidebar_listview_sidebar__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../listview-sidebar/listview-sidebar */ "./src/components/listview-sidebar/listview-sidebar.tsx");
/* harmony import */ var _inserter_sidebar_inserter_sidebar__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../inserter-sidebar/inserter-sidebar */ "./src/components/inserter-sidebar/inserter-sidebar.tsx");
/* harmony import */ var _notices__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../notices */ "./src/components/notices/sent-email-notice.tsx");
/* harmony import */ var _notices__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../notices */ "./src/components/notices/notices.tsx");
/* harmony import */ var _styles_sidebar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../styles-sidebar */ "./src/components/styles-sidebar/styles-sidebar.tsx");
/* harmony import */ var _visual_editor_visual_editor__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./visual-editor/visual-editor */ "./src/components/block-editor/visual-editor/visual-editor.tsx");
/* harmony import */ var _template_select__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../template-select */ "./src/components/template-select/template-selection.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */









/**
 * Internal dependencies
 */













function Layout() {
  (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEventOnce)('editor_layout_loaded');
  const {
    isFullscreenActive,
    isSidebarOpened,
    initialSettings,
    previewDeviceType,
    isInserterSidebarOpened,
    isListviewSidebarOpened,
    canUserEditMedia,
    hasFixedToolbar,
    focusMode,
    styles
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.useSelect)(select => ({
    isFullscreenActive: select(_store__WEBPACK_IMPORTED_MODULE_11__.storeName).isFeatureActive('fullscreenMode'),
    isSidebarOpened: select(_store__WEBPACK_IMPORTED_MODULE_11__.storeName).isSidebarOpened(),
    // @ts-expect-error isInserterOpened is missing in types.
    isInserterSidebarOpened: select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store).isInserterOpened(),
    // @ts-expect-error isListViewOpened is missing in types.
    isListviewSidebarOpened: select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store).isListViewOpened(),
    initialSettings: select(_store__WEBPACK_IMPORTED_MODULE_11__.storeName).getInitialEditorSettings(),
    previewDeviceType: select(_store__WEBPACK_IMPORTED_MODULE_11__.storeName).getDeviceType(),
    canUserEditMedia: select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_8__.store).canUser('create', 'media'),
    hasFixedToolbar: select(_store__WEBPACK_IMPORTED_MODULE_11__.storeName).isFeatureActive('fixedToolbar'),
    focusMode: select(_store__WEBPACK_IMPORTED_MODULE_11__.storeName).isFeatureActive('focusMode'),
    styles: select(_store__WEBPACK_IMPORTED_MODULE_11__.storeName).getStyles()
  }), []);

  // @ts-expect-error isInserterOpened is missing in types.
  const {
    setIsInserterOpened
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.useDispatch)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store);
  const [emailCss] = (0,_hooks__WEBPACK_IMPORTED_MODULE_12__.useEmailCss)();
  const className = classnames__WEBPACK_IMPORTED_MODULE_4___default()('edit-post-layout', {
    'is-sidebar-opened': isSidebarOpened
  });
  const contentRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);

  // Styles for the canvas. Based on template-canvas.php, this equates to the body element.
  const canvasStyles = {
    background: previewDeviceType === 'Desktop' ? styles.color.background : 'transparent',
    fontFamily: styles.typography.fontFamily,
    transition: 'all 0.3s ease 0s'
  };
  const settings = {
    ...initialSettings,
    mediaUpload: canUserEditMedia ? _wordpress_media_utils__WEBPACK_IMPORTED_MODULE_3__.uploadMedia : null,
    hasFixedToolbar,
    focusMode
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_interface__WEBPACK_IMPORTED_MODULE_6__.FullscreenMode, {
    isActive: isFullscreenActive
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.UnsavedChangesWarning, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_autosave__WEBPACK_IMPORTED_MODULE_13__.AutosaveMonitor, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_notices__WEBPACK_IMPORTED_MODULE_14__.SentEmailNotice, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_sidebar__WEBPACK_IMPORTED_MODULE_15__.Sidebar, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_styles_sidebar__WEBPACK_IMPORTED_MODULE_16__.StylesSidebar, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_template_select__WEBPACK_IMPORTED_MODULE_17__.TemplateSelection, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_interface__WEBPACK_IMPORTED_MODULE_6__.InterfaceSkeleton, {
    className: className,
    header: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_header__WEBPACK_IMPORTED_MODULE_18__.Header, null),
    editorNotices: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_notices__WEBPACK_IMPORTED_MODULE_19__.EditorNotices, null),
    content: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_notices__WEBPACK_IMPORTED_MODULE_19__.EditorNotices, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__.BlockSelectionClearer, {
      className: "edit-post-visual-editor",
      style: canvasStyles,
      onClick: () => {
        // Clear inserter sidebar when canvas is clicked.
        if (isInserterSidebarOpened) {
          void setIsInserterOpened(false);
        }
      }
    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
      className: "visual-editor__email_content_wrapper"
    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_visual_editor_visual_editor__WEBPACK_IMPORTED_MODULE_20__.VisualEditor, {
      disableIframe: false,
      styles: [...settings.styles, ...emailCss],
      className: "has-global-padding",
      contentRef: contentRef,
      iframeProps: {}
    })))),
    sidebar: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_interface__WEBPACK_IMPORTED_MODULE_6__.ComplementaryArea.Slot, {
      scope: _store__WEBPACK_IMPORTED_MODULE_11__.storeName
    }),
    secondarySidebar: isInserterSidebarOpened && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_inserter_sidebar_inserter_sidebar__WEBPACK_IMPORTED_MODULE_21__.InserterSidebar, null) || isListviewSidebarOpened && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_listview_sidebar_listview_sidebar__WEBPACK_IMPORTED_MODULE_22__.ListviewSidebar, null)
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_sidebar__WEBPACK_IMPORTED_MODULE_23__.BlockCompatibilityWarnings, null));
}

/***/ }),

/***/ "./src/components/block-editor/visual-editor/edit-template-blocks-notification.tsx":
/*!*****************************************************************************************!*\
  !*** ./src/components/block-editor/visual-editor/edit-template-blocks-notification.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ EditTemplateBlocksNotification)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */
 // eslint-disable-line

/**
 * Component that:
 *
 * - Displays a 'Edit your template to edit this block' dialog when the user
 *   is focusing on editing email content and double clicks on a disabled
 *   template block.
 *
 *   @see https://github.com/WordPress/gutenberg/blob/c754c783a9004db678fcfebd9a21a22820f2115c/packages/editor/src/components/visual-editor/edit-template-blocks-notification.js
 *
 * @param {Object}                                 props
 * @param {import('react').RefObject<HTMLElement>} props.contentRef Ref to the block
 *                                                                  editor iframe canvas.
 */
function EditTemplateBlocksNotification({
  contentRef
}) {
  const {
    onNavigateToEntityRecord,
    templateId
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    // @ts-expect-error getCurrentTemplateId is missing in types.
    const {
      getEditorSettings,
      getCurrentTemplateId
    } = select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_3__.store);
    return {
      // onNavigateToEntityRecord is missing in EditorSettings.
      // prettier-ignore
      onNavigateToEntityRecord:
      // @ts-expect-error onNavigateToEntityRecord is not typed on EditorSettings.
      getEditorSettings().onNavigateToEntityRecord,
      templateId: getCurrentTemplateId()
    };
  }, []);
  const [isDialogOpen, setIsDialogOpen] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    const handleDblClick = event => {
      if (!event.target.classList.contains('is-root-container')) {
        return;
      }
      setIsDialogOpen(true);
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEventOnce)('edit_template_blocks_notification_opened');
    };
    const canvas = contentRef.current;
    canvas?.addEventListener('dblclick', handleDblClick);
    return () => {
      canvas?.removeEventListener('dblclick', handleDblClick);
    };
  }, [contentRef]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalConfirmDialog, {
    isOpen: isDialogOpen,
    confirmButtonText: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Edit template', 'mailpoet'),
    onConfirm: () => {
      setIsDialogOpen(false);
      onNavigateToEntityRecord({
        postId: templateId,
        postType: 'wp_template'
      });
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('edit_template_blocks_notification_edit_template_button_clicked', {
        templateId
      });
    },
    onCancel: () => {
      setIsDialogOpen(false);
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('edit_template_blocks_notification_cancel_button_clicked', {
        templateId
      });
    },
    size: "medium"
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('The block youve selected is part of a template that might be used in other emails. Are you sure you want to edit the template?', 'mailpoet'));
}

/***/ }),

/***/ "./src/components/block-editor/visual-editor/use-select-nearest-editable-block.ts":
/*!****************************************************************************************!*\
  !*** ./src/components/block-editor/visual-editor/use-select-nearest-editable-block.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useSelectNearestEditableBlock)
/* harmony export */ });
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _private_apis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../private-apis */ "./src/private-apis/index.ts");
/**
 * External dependencies
 */




/**
 * Internal dependencies
 */

const DISTANCE_THRESHOLD = 500;
function clamp(value, min, max) {
  return Math.min(Math.max(value, min), max);
}
function distanceFromRect(x, y, rect) {
  const dx = x - clamp(x, Number(rect.left), Number(rect.right));
  const dy = y - clamp(y, Number(rect.top), Number(rect.bottom));
  return Math.sqrt(dx * dx + dy * dy);
}
function useSelectNearestEditableBlock({
  isEnabled = true
} = {}) {
  const getEnabledClientIdsTree = (0,_private_apis__WEBPACK_IMPORTED_MODULE_3__.unlockGetEnabledClientIdsTree)((0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_2__.store));
  const {
    getBlockName,
    getBlockOrder
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_2__.store);
  const {
    selectBlock
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_2__.store);
  return (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_0__.useRefEffect)(element => {
    if (!isEnabled) {
      return null;
    }
    const selectNearestEditableBlock = (x, y) => {
      const editableBlockClientIds = getEnabledClientIdsTree().flatMap(({
        clientId
      }) => {
        // @ts-expect-error getBlockName is not typed
        const blockName = getBlockName(clientId);
        if (blockName === 'core/template-part') {
          return [];
        }
        if (blockName === 'core/post-content') {
          // @ts-expect-error getBlockOrder is not typed
          const innerBlocks = getBlockOrder(clientId);
          if (innerBlocks.length) {
            return innerBlocks;
          }
        }
        return [clientId];
      });

      // Extract the nearest client ID
      const nearestClientIdData = editableBlockClientIds.reduce((acc, clientId) => {
        const block = element.querySelector(`[data-block="${clientId}"]`);
        if (!block) {
          return acc;
        }
        const rect = block.getBoundingClientRect();
        const distance = distanceFromRect(Number(x), Number(y), rect);
        if (distance < acc.distance && distance < DISTANCE_THRESHOLD) {
          return {
            clientId,
            distance
          };
        }
        return acc;
      }, {
        clientId: null,
        distance: Number.POSITIVE_INFINITY
      });
      const nearestClientId = nearestClientIdData?.clientId || '';
      if (nearestClientId) {
        void selectBlock(nearestClientId);
      }
    };
    const handleClick = event => {
      const shouldSelect = event.target === element || event.target.classList.contains('is-root-container');
      if (shouldSelect) {
        selectNearestEditableBlock(event.clientX, event.clientY);
      }
    };
    element.addEventListener('click', handleClick);
    return () => element.removeEventListener('click', handleClick);
  }, [isEnabled]);
}

/***/ }),

/***/ "./src/components/block-editor/visual-editor/visual-editor.tsx":
/*!*********************************************************************!*\
  !*** ./src/components/block-editor/visual-editor/visual-editor.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NAVIGATION_POST_TYPE: () => (/* binding */ NAVIGATION_POST_TYPE),
/* harmony export */   PATTERN_POST_TYPE: () => (/* binding */ PATTERN_POST_TYPE),
/* harmony export */   TEMPLATE_PART_POST_TYPE: () => (/* binding */ TEMPLATE_PART_POST_TYPE),
/* harmony export */   TEMPLATE_POST_TYPE: () => (/* binding */ TEMPLATE_POST_TYPE),
/* harmony export */   VisualEditor: () => (/* binding */ VisualEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _edit_template_blocks_notification__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./edit-template-blocks-notification */ "./src/components/block-editor/visual-editor/edit-template-blocks-notification.tsx");
/* harmony import */ var _use_select_nearest_editable_block__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./use-select-nearest-editable-block */ "./src/components/block-editor/visual-editor/use-select-nearest-editable-block.ts");
/* harmony import */ var _private_apis__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../private-apis */ "./src/private-apis/index.ts");

/**
 * External dependencies
 */







/**
 * Internal dependencies
 */



const TEMPLATE_POST_TYPE = 'wp_template';
const TEMPLATE_PART_POST_TYPE = 'wp_template_part';
const PATTERN_POST_TYPE = 'wp_block';
const NAVIGATION_POST_TYPE = 'wp_navigation';

/**
 * These post types have a special editor where they don't allow you to fill the title
 * and they don't apply the layout styles.
 */
const DESIGN_POST_TYPES = [PATTERN_POST_TYPE, TEMPLATE_POST_TYPE, NAVIGATION_POST_TYPE, TEMPLATE_PART_POST_TYPE];

/**
 * Copied and simplified from https://github.com/WordPress/gutenberg/blob/c754c783a9004db678fcfebd9a21a22820f2115c/packages/editor/src/components/visual-editor/index.js
 * Simplifications:
 *  - doesn't support post-only mode for no design post types. We use the post-only mode only for templates
 *  - removed logic for layout styles. We currently pass them among all styles in styles property
 *  - removed support for post title
 *  - removed support for zooming
 *  - removed support for resizing
 * @param root0
 * @param root0.styles
 * @param root0.disableIframe
 * @param root0.iframeProps
 * @param root0.contentRef
 * @param root0.className
 *  @todo Need to fix layout so that we support Align settings properly
 */
function VisualEditor({
  // Ideally as we unify post and site editors, we won't need these props
  styles,
  disableIframe = false,
  iframeProps,
  contentRef,
  className
}) {
  var _ref;
  const {
    renderingMode,
    wrapperBlockName,
    wrapperUniqueId,
    deviceType,
    isFocusedEntity,
    layout
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => {
    const {
      getCurrentPostId,
      getCurrentPostType,
      getEditorSettings,
      // @ts-expect-error No types for this exist yet.
      getRenderingMode,
      // @ts-expect-error No types for this exist yet.
      getDeviceType
    } = select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__.store);
    const postTypeSlug = getCurrentPostType();
    const checkRenderingMode = getRenderingMode();
    let checkWrapperBlockName;
    if (postTypeSlug === PATTERN_POST_TYPE) {
      checkWrapperBlockName = 'core/block';
    } else if (checkRenderingMode === 'post-only') {
      checkWrapperBlockName = 'core/post-content';
    }
    const editorSettings = getEditorSettings();
    return {
      renderingMode: checkRenderingMode,
      isDesignPostType: DESIGN_POST_TYPES.includes(postTypeSlug),
      // Post template fetch returns a 404 on classic themes, which
      // messes with e2e tests, so check it's a block theme first.
      wrapperBlockName: checkWrapperBlockName,
      wrapperUniqueId: getCurrentPostId(),
      deviceType: getDeviceType(),
      // @ts-expect-error No types for this exist yet.
      isFocusedEntity: !!editorSettings.onNavigateToPreviousEntityRecord,
      postType: postTypeSlug,
      // @ts-expect-error No types for this exist yet.
      // eslint-disable-next-line no-underscore-dangle
      isPreview: editorSettings.__unstableIsPreviewMode,
      // @ts-expect-error There are no types for the experimental features settings.
      // eslint-disable-next-line no-underscore-dangle
      layout: editorSettings.__experimentalFeatures.layout
    };
  }, []);
  const deviceStyles = (0,_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__.__experimentalUseResizeCanvas)(deviceType);

  // We want to use the same layout.
  const blockListLayout = layout;
  const localRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)();
  const typewriterRef = (0,_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__.__unstableUseTypewriter)();
  const newContentRef = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.useMergeRefs)([localRef, contentRef, renderingMode === 'post-only' ? typewriterRef : null, (0,_use_select_nearest_editable_block__WEBPACK_IMPORTED_MODULE_7__["default"])({
    isEnabled: renderingMode === 'template-locked'
  })]);
  const shouldIframe = !disableIframe || ['Tablet', 'Mobile'].includes(deviceType);
  const containerWidth = deviceType === 'Desktop' ? layout.contentSize : '100%';
  const iframeStyles = [...((_ref = styles) !== null && _ref !== void 0 ? _ref : []), {
    css: `.is-root-container{display:flow-root; width:${containerWidth}; margin: 0 auto;box-sizing: border-box;}`
  }];
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('editor-visual-editor',
    // this class is here for backward compatibility reasons.
    'edit-post-visual-editor', className, {
      'has-padding': isFocusedEntity,
      'is-iframed': shouldIframe
    })
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_8__.BlockCanvas, {
    shouldIframe: shouldIframe,
    contentRef: newContentRef,
    styles: iframeStyles,
    height: "100%",
    iframeProps: {
      ...iframeProps,
      style: {
        ...iframeProps?.style,
        ...deviceStyles
      }
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__.RecursionProvider, {
    blockName: wrapperBlockName,
    uniqueId: wrapperUniqueId
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__.BlockList, {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(`is-${deviceType.toLowerCase()}-preview`, 'has-global-padding' // Ensures that padding is applied at the top level
    )
    // @ts-expect-error No types for this exist yet.
    ,
    layout: blockListLayout,
    dropZoneElement:
    // When iframed, pass in the html element of the iframe to
    // ensure the drop zone extends to the edges of the iframe.
    disableIframe ? localRef.current // @ts-expect-error No types for this exist yet.
    : localRef.current?.parentNode,
    __unstableDisableDropZone:
    // In template preview mode, disable drop zones at the root of the template.
    renderingMode === 'template-locked'
  }), renderingMode === 'template-locked' && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_edit_template_blocks_notification__WEBPACK_IMPORTED_MODULE_9__["default"], {
    contentRef: localRef
  }))));
}

/***/ }),

/***/ "./src/components/header/campaign-name.tsx":
/*!*************************************************!*\
  !*** ./src/components/header/campaign-name.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CampaignName: () => (/* binding */ CampaignName)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/chevron-down.js");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */







/**
 * Internal dependencies
 */



// @see https://github.com/WordPress/gutenberg/blob/5e0ffdbc36cb2e967dfa6a6b812a10a2e56a598f/packages/edit-post/src/components/header/document-actions/index.js

function CampaignName() {
  const {
    showIconLabels
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => ({
    showIconLabels: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).isFeatureActive('showIconLabels'),
    postId: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId()
  }), []);
  const [emailTitle = '', setTitle] = (0,_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__.useEntityProp)('postType', _store__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, 'title');
  const titleRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    ref: titleRef,
    className: "mailpoet-email-editor-campaign-name"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Dropdown, {
    popoverProps: {
      placement: 'bottom',
      anchor: titleRef.current
    },
    contentClassName: "mailpoet-email-editor-campaign-name__dropdown",
    renderToggle: ({
      isOpen,
      onToggle
    }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Button, {
      onClick: () => {
        onToggle();
        (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('header_campaign_name_email_title_clicked', {
          isOpen
        });
      },
      className: "mailpoet-email-campaign-name__link"
    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalText, {
      size: "body",
      as: "h1"
    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.VisuallyHidden, {
      as: "span"
    }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Editing email:', 'mailpoet')), emailTitle)), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.Button, {
      className: "mailpoet-email-campaign-name__toggle",
      icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__["default"],
      "aria-expanded": isOpen,
      "aria-haspopup": "true",
      onClick: () => {
        onToggle();
        (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('header_campaign_name_toggle_icon_clicked', {
          isOpen
        });
      },
      label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Change campaign name', 'mailpoet')
    }, showIconLabels && (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Rename', 'mailpoet'))),
    renderContent: () => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
      className: "mailpoet-email-editor-email-title-edit"
    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.TextControl, {
      label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Campaign name', 'mailpoet'),
      value: emailTitle,
      onChange: newTitle => {
        setTitle(newTitle);
        (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEventOnce)('header_campaign_name_title_updated');
      },
      name: "campaign_name",
      help: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)(`Name your email campaign to indicate its purpose. This would only be visible to you and not shown to your subscribers.`, 'mailpoet')
    }))
  }));
}

/***/ }),

/***/ "./src/components/header/header.tsx":
/*!******************************************!*\
  !*** ./src/components/header/header.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Header: () => (/* binding */ Header)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/interface */ "./node_modules/@wordpress/interface/build-module/index.js");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/preferences */ "@wordpress/preferences");
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/plus.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/undo.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/redo.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/list-view.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/next.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/previous.js");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _more_menu__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./more-menu */ "./src/components/header/more-menu.tsx");
/* harmony import */ var _preview__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../preview */ "./src/components/preview/preview-dropdown.tsx");
/* harmony import */ var _save_email_button__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./save-email-button */ "./src/components/header/save-email-button.tsx");
/* harmony import */ var _campaign_name__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./campaign-name */ "./src/components/header/campaign-name.tsx");
/* harmony import */ var _send_button__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./send-button */ "./src/components/header/send-button.tsx");
/* harmony import */ var _save_all_button__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./save-all-button */ "./src/components/header/save-all-button.tsx");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-editor-mode.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-content-validation.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */












/**
 * Internal dependencies
 */











// Build type for ToolbarItem contains only "as" and "children" properties but it takes all props from
// component passed to "as" property (in this case Button). So as fix for TS errors we need to pass all props from Button to ToolbarItem.
// We should be able to remove this fix when ToolbarItem will be fixed in Gutenberg.
const ToolbarItem = _wordpress_components__WEBPACK_IMPORTED_MODULE_4__.ToolbarItem;

// Definition of BlockToolbar in currently installed Gutenberg packages (wp-6.4) is missing hideDragHandle prop
// After updating to newer version of Gutenberg we should be able to remove this fix
const BlockToolbar = _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_5__.BlockToolbar;
function Header() {
  const inserterButton = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)();
  const listviewButton = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)();
  const undoButton = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)();
  const redoButton = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)();
  const [isBlockToolsCollapsed, setIsBlockToolsCollapsed] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
  const {
    undo: undoAction,
    redo: redoAction
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_6__.useDispatch)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__.store);
  // @ts-expect-error missing types.
  const {
    setIsInserterOpened,
    setIsListViewOpened
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_6__.useDispatch)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_10__.store);
  const {
    isInserterSidebarOpened,
    isListviewSidebarOpened,
    isFixedToolbarActive,
    isBlockSelected,
    hasUndo,
    hasRedo
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_6__.useSelect)(select => {
    return {
      // @ts-expect-error missing types.
      isInserterSidebarOpened: select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_10__.store).isInserterOpened(),
      // @ts-expect-error missing types.
      isListviewSidebarOpened: select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_10__.store).isListViewOpened(),
      isFixedToolbarActive: select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_8__.store).get('core', 'fixedToolbar'),
      isBlockSelected: !!select(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_5__.store).getBlockSelectionStart(),
      hasUndo: select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__.store).hasUndo(),
      hasRedo: select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__.store).hasRedo()
    };
  }, []);
  const [editorMode] = (0,_hooks__WEBPACK_IMPORTED_MODULE_11__.useEditorMode)();
  const {
    validateContent,
    isInvalid
  } = (0,_hooks__WEBPACK_IMPORTED_MODULE_12__.useContentValidation)();
  const {
    dirtyEntityRecords
  } = (0,_wordpress_editor__WEBPACK_IMPORTED_MODULE_10__.useEntitiesSavedStatesIsDirty)();
  const hasNonEmailEdits = dirtyEntityRecords.some(entity => entity.name !== _store__WEBPACK_IMPORTED_MODULE_13__.editorCurrentPostType);
  const preventDefault = event => {
    event.preventDefault();
  };
  const toggleTheInserterSidebar = () => {
    if (isInserterSidebarOpened) {
      (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('header_inserter_sidebar_closed');
      return setIsInserterOpened(false);
    }
    (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('header_inserter_sidebar_opened');
    return setIsInserterOpened(true);
  };
  const toggleTheListviewSidebar = () => {
    if (isListviewSidebarOpened) {
      (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('header_listview_sidebar_closed');
      return setIsListViewOpened(false);
    }
    (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('header_listview_sidebar_opened');
    return setIsListViewOpened(true);
  };
  const shortLabelInserter = !isInserterSidebarOpened ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('Add', 'mailpoet') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('Close', 'mailpoet');
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-header edit-post-header"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-header__toolbar"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_5__.NavigableToolbar, {
    className: "editor-document-tools edit-post-header-toolbar is-unstyled",
    "aria-label": (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('Email document tools', 'mailpoet')
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-document-tools__left"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ToolbarItem, {
    ref: inserterButton,
    as: _wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,
    className: "editor-header-toolbar__inserter-toggle edit-post-header-toolbar__inserter-toggle",
    variant: "primary",
    isPressed: isInserterSidebarOpened,
    onMouseDown: preventDefault,
    onClick: toggleTheInserterSidebar,
    disabled: false,
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_15__["default"],
    label: shortLabelInserter,
    showTooltip: true,
    "aria-expanded": isInserterSidebarOpened
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ToolbarItem, {
    ref: undoButton,
    as: _wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,
    className: "editor-history__undo",
    isPressed: false,
    onMouseDown: preventDefault,
    onClick: () => {
      void undoAction();
      (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('header_undo_icon_clicked');
    },
    disabled: !hasUndo,
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_16__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('Undo', 'mailpoet'),
    showTooltip: true
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ToolbarItem, {
    ref: redoButton,
    as: _wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,
    className: "editor-history__redo",
    isPressed: false,
    onMouseDown: preventDefault,
    onClick: () => {
      void redoAction();
      (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('header_redo_icon_clicked');
    },
    disabled: !hasRedo,
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_17__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('Redo', 'mailpoet'),
    showTooltip: true
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ToolbarItem, {
    ref: listviewButton,
    as: _wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,
    className: "editor-header-toolbar__document-overview-toggle edit-post-header-toolbar__document-overview-toggle",
    isPressed: isListviewSidebarOpened,
    onMouseDown: preventDefault,
    onClick: toggleTheListviewSidebar,
    disabled: false,
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_18__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('List view', 'mailpoet'),
    showTooltip: true,
    "aria-expanded": isInserterSidebarOpened
  }))), isFixedToolbarActive && isBlockSelected && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('editor-collapsible-block-toolbar', {
      'is-collapsed': isBlockToolsCollapsed
    })
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockToolbar, {
    hideDragHandle: true
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button, {
    className: "editor-header__block-tools-toggle edit-post-header__block-tools-toggle",
    icon: isBlockToolsCollapsed ? _wordpress_icons__WEBPACK_IMPORTED_MODULE_19__["default"] : _wordpress_icons__WEBPACK_IMPORTED_MODULE_20__["default"],
    onClick: () => {
      setIsBlockToolsCollapsed(collapsed => !collapsed);
      (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('header_blocks_tool_button_clicked', {
        isBlockToolsCollapsed
      });
    },
    label: isBlockToolsCollapsed ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('Show block tools', 'mailpoet') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__.__)('Hide block tools', 'mailpoet')
  }))), (!isFixedToolbarActive || !isBlockSelected || isBlockToolsCollapsed) && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-header__center edit-post-header__center"
  }, editorMode === 'template' ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_10__.DocumentBar, null) : (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_campaign_name__WEBPACK_IMPORTED_MODULE_21__.CampaignName, null)), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-header__settings edit-post-header__settings"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_save_email_button__WEBPACK_IMPORTED_MODULE_22__.SaveEmailButton, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_preview__WEBPACK_IMPORTED_MODULE_23__.PreviewDropdown, null), hasNonEmailEdits ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_save_all_button__WEBPACK_IMPORTED_MODULE_24__.SaveAllButton, null) : (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_send_button__WEBPACK_IMPORTED_MODULE_25__.SendButton, {
    validateContent: validateContent,
    isContentInvalid: isInvalid
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_interface__WEBPACK_IMPORTED_MODULE_3__.PinnedItems.Slot, {
    scope: _store__WEBPACK_IMPORTED_MODULE_13__.storeName
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_more_menu__WEBPACK_IMPORTED_MODULE_26__.MoreMenu, null)));
}

/***/ }),

/***/ "./src/components/header/more-menu.tsx":
/*!*********************************************!*\
  !*** ./src/components/header/more-menu.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MoreMenu: () => (/* binding */ MoreMenu)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/keycodes */ "@wordpress/keycodes");
/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/more-vertical.js");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/preferences */ "@wordpress/preferences");
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _trash_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./trash-modal */ "./src/components/header/trash-modal.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */









/**
 * Internal dependencies
 */




// See:
//   https://github.com/WordPress/gutenberg/blob/9601a33e30ba41bac98579c8d822af63dd961488/packages/edit-post/src/components/header/more-menu/index.js
//   https://github.com/WordPress/gutenberg/blob/0ee78b1bbe9c6f3e6df99f3b967132fa12bef77d/packages/edit-site/src/components/header/more-menu/index.js

function MoreMenu() {
  const [showTrashModal, setShowTrashModal] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
  const {
    urls,
    postId
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_7__.useSelect)(select => ({
    urls: select(_store__WEBPACK_IMPORTED_MODULE_8__.storeName).getUrls(),
    postId: select(_store__WEBPACK_IMPORTED_MODULE_8__.storeName).getEmailPostId()
  }), []);
  const [status, setStatus] = (0,_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__.useEntityProp)('postType', _store__WEBPACK_IMPORTED_MODULE_8__.editorCurrentPostType, 'status');
  const {
    saveEditedEmail,
    updateEmailMailPoetProperty
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_7__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_8__.storeName);
  const goToListings = () => {
    window.location.href = urls.listings;
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, {
    className: "edit-site-more-menu",
    popoverProps: {
      className: 'edit-site-more-menu__content'
    },
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_9__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('More', 'mailpoet'),
    onToggle: isOpened => (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEvent)('header_more_menu_dropdown_toggle', {
      isOpened
    })
  }, ({
    onClose
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuGroup, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__._x)('View', 'noun', 'mailpoet')
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__.PreferenceToggleMenuItem, {
    scope: "core",
    name: "fixedToolbar",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Top toolbar', 'mailpoet'),
    info: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Access all block and document tools in a single place', 'mailpoet'),
    messageActivated: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Top toolbar activated', 'mailpoet'),
    messageDeactivated: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Top toolbar deactivated', 'mailpoet'),
    onToggle: () => (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEvent)('header_more_menu_fixed_toolbar_toggle')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__.PreferenceToggleMenuItem, {
    scope: "core",
    name: "focusMode",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Spotlight mode', 'mailpoet'),
    info: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Focus at one block at a time', 'mailpoet'),
    messageActivated: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Spotlight mode activated', 'mailpoet'),
    messageDeactivated: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Spotlight mode deactivated', 'mailpoet'),
    onToggle: () => (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEvent)('header_more_menu_focus_mode_toggle')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_6__.PreferenceToggleMenuItem, {
    scope: _store__WEBPACK_IMPORTED_MODULE_8__.storeName,
    name: "fullscreenMode",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Fullscreen mode', 'mailpoet'),
    info: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Work without distraction', 'mailpoet'),
    messageActivated: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Fullscreen mode activated', 'mailpoet'),
    messageDeactivated: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Fullscreen mode deactivated', 'mailpoet'),
    shortcut: _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_3__.displayShortcut.secondary('f'),
    onToggle: () => (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEvent)('header_more_menu_fullscreen_mode_toggle')
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuGroup, null, status === 'trash' ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    onClick: async () => {
      await setStatus('draft');
      await updateEmailMailPoetProperty('deleted_at', '');
      await saveEditedEmail();
      (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEvent)('header_more_menu_restore_from_trash_button_clicked');
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Restore from trash', 'mailpoet')) : (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    onClick: () => {
      setShowTrashModal(true);
      (0,_events__WEBPACK_IMPORTED_MODULE_10__.recordEvent)('header_more_menu_move_to_trash_button_clicked');
      onClose();
    },
    isDestructive: true
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Move to trash', 'mailpoet'))))), showTrashModal && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_trash_modal__WEBPACK_IMPORTED_MODULE_11__.TrashModal, {
    onClose: () => setShowTrashModal(false),
    onRemove: goToListings,
    postId: postId
  }));
}

/***/ }),

/***/ "./src/components/header/save-all-button.tsx":
/*!***************************************************!*\
  !*** ./src/components/header/save-all-button.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SaveAllButton: () => (/* binding */ SaveAllButton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */


const SaveAllContent = ({
  onToggle
}) => {
  // Hacky way to change the text in the templates row of the save dropdown
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    const panels = document.querySelectorAll('.mailpoet-email-editor-save-button__dropdown  .components-panel__body');
    panels.forEach(panel => {
      const titleButton = panel.querySelector('.components-panel__body-title button');
      if (titleButton && titleButton.textContent.trim() === (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Templates', 'mailpoet')) {
        const rows = panel.querySelectorAll('.components-panel__row');
        if (rows.length) {
          rows[0].textContent = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('This change will affect emails that use this template.', 'mailpoet');
        }
      }
    });
  }, []);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__.EntitiesSavedStates, {
    close: onToggle
  });
};
function SaveAllButton() {
  const {
    isSaving
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_4__.useSelect)(select => ({
    isSaving: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).isSaving()
  }), []);
  const buttonRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  let label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Save', 'mailpoet');
  if (isSaving) {
    label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Saving', 'mailpoet');
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    ref: buttonRef
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Dropdown, {
    popoverProps: {
      placement: 'bottom',
      anchor: buttonRef.current
    },
    contentClassName: "mailpoet-email-editor-save-button__dropdown",
    renderToggle: ({
      onToggle
    }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
      onClick: () => {
        (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('header_save_all_button_save_button_clicked');
        onToggle();
      },
      variant: "primary",
      disabled: isSaving
    }, label),
    renderContent: ({
      onToggle
    }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(SaveAllContent, {
      onToggle: onToggle
    })
  }));
}

/***/ }),

/***/ "./src/components/header/save-email-button.tsx":
/*!*****************************************************!*\
  !*** ./src/components/header/save-email-button.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SaveEmailButton: () => (/* binding */ SaveEmailButton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/icon/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/cloud.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/check.js");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */





/**
 * Internal dependencies
 */


function SaveEmailButton() {
  const {
    saveEditedEmail
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_4__.storeName);
  const {
    hasEdits,
    isEmpty,
    isSaving
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => ({
    hasEdits: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).hasEdits(),
    isEmpty: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).isEmpty(),
    isSaving: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).isSaving()
  }), []);
  const isSaved = !isEmpty && !isSaving && !hasEdits;
  const isDisabled = isEmpty || isSaving || isSaved;
  let label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Save Draft', 'mailpoet');
  if (isSaved) {
    label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Saved', 'mailpoet');
  } else if (isSaving) {
    label = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Saving', 'mailpoet');
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    variant: "tertiary",
    disabled: isDisabled,
    onClick: () => {
      void saveEditedEmail();
      (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('header_save_email_button_clicked', {
        label,
        isSaving,
        isSaved
      });
    }
  }, isSaving && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__["default"]
  }), isSaved && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__["default"]
  }), label);
}

/***/ }),

/***/ "./src/components/header/send-button.tsx":
/*!***********************************************!*\
  !*** ./src/components/header/send-button.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SendButton: () => (/* binding */ SendButton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-editor-mode.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */



function SendButton({
  validateContent,
  isContentInvalid
}) {
  const {
    isDirty
  } = (0,_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__.useEntitiesSavedStatesIsDirty)();
  const {
    hasEmptyContent,
    isEmailSent,
    urls
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_4__.useSelect)(select => ({
    hasEmptyContent: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).hasEmptyContent(),
    isEmailSent: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).isEmailSent(),
    urls: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).getUrls()
  }), []);
  function sendAction() {
    if (urls.send) {
      window.location.href = urls.send;
    }
  }
  const [editorMode] = (0,_hooks__WEBPACK_IMPORTED_MODULE_7__.useEditorMode)();
  const isDisabled = editorMode === 'template' || hasEmptyContent || isEmailSent || isContentInvalid || isDirty;
  const label = (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.applyFilters)('mailpoet_email_editor_send_button_label', (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Send', 'mailpoet'));
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    variant: "primary",
    onClick: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('header_send_button_clicked');
      if (validateContent()) {
        const action = (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.applyFilters)('mailpoet_email_editor_send_action_callback', sendAction);
        action();
      }
    },
    disabled: isDisabled
  }, label);
}

/***/ }),

/***/ "./src/components/header/trash-modal.tsx":
/*!***********************************************!*\
  !*** ./src/components/header/trash-modal.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TrashModal: () => (/* binding */ TrashModal),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */


function TrashModal({
  onClose,
  onRemove,
  postId
}) {
  const {
    getLastEntityDeleteError
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__.store);
  const {
    deleteEntityRecord
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__.store);
  const {
    createErrorNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_5__.store);
  const closeCallback = () => {
    onClose();
  };
  const trashCallback = async () => {
    (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('trash_modal_move_to_trash_button_clicked');
    const success = await deleteEntityRecord('postType', _store__WEBPACK_IMPORTED_MODULE_7__.editorCurrentPostType, postId, {}, {
      throwOnError: false
    });
    if (success) {
      onRemove();
    } else {
      const lastError = getLastEntityDeleteError('postType', _store__WEBPACK_IMPORTED_MODULE_7__.editorCurrentPostType, postId);
      // Already deleted.
      if (lastError?.code === 410) {
        onRemove();
      } else {
        const errorMessage = lastError?.message ? lastError.message : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('An error occurred while moving the email to the trash.', 'mailpoet');
        (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('trash_modal_move_to_trash_error', {
          errorMessage
        });
        await createErrorNotice(errorMessage, {
          type: 'snackbar',
          isDismissible: true,
          context: 'email-editor'
        });
      }
    }
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Modal, {
    className: "mailpoet-move-to-trash-modal",
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Move to trash', 'mailpoet'),
    onRequestClose: () => {
      closeCallback();
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('trash_modal_closed');
    },
    focusOnMount: true
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Are you sure you want to move this email to trash?', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-send-preview-modal-footer"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    variant: "tertiary",
    onClick: () => {
      closeCallback();
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('trash_modal_cancel_button_clicked');
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Cancel', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    variant: "primary",
    onClick: trashCallback
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Move to trash', 'mailpoet'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TrashModal);

/***/ }),

/***/ "./src/components/inserter-sidebar/inserter-sidebar.tsx":
/*!**************************************************************!*\
  !*** ./src/components/inserter-sidebar/inserter-sidebar.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InserterSidebar: () => (/* binding */ InserterSidebar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-editor-mode.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */




/**
 * Internal dependencies
 */


function InserterSidebar() {
  const {
    postContentId
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    const blocks = select(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.store).getBlocks();
    return {
      postContentId: blocks.find(block => block.name === 'core/post-content')?.clientId
    };
  });
  const [editorMode] = (0,_hooks__WEBPACK_IMPORTED_MODULE_4__.useEditorMode)();

  // @ts-expect-error missing types.
  const {
    setIsInserterOpened
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-inserter-sidebar"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-inserter-sidebar__content"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.__experimentalLibrary, {
    showMostUsedBlocks: true,
    showInserterHelpPanel: false
    // In the email content mode we insert primarily into the post content block.
    ,
    rootClientId: editorMode === 'email' ? postContentId : null,
    onClose: () => {
      setIsInserterOpened(false);
      (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('inserter_sidebar_library_close_icon_clicked', {
        editorMode
      });
    },
    onSelect: selectedBlock => {
      (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('inserter_sidebar_library_block_selected', {
        editorMode,
        blockName: selectedBlock?.name
      });
    }
  })));
}

/***/ }),

/***/ "./src/components/keybord-shortcuts/index.tsx":
/*!****************************************************!*\
  !*** ./src/components/keybord-shortcuts/index.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KeyboardShortcuts: () => (/* binding */ KeyboardShortcuts)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/keyboard-shortcuts */ "@wordpress/keyboard-shortcuts");
/* harmony import */ var _wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");
/**
 * External dependencies
 */






/**
 * Internal dependencies
 */



// See:
//    https://github.com/WordPress/gutenberg/blob/9601a33e30ba41bac98579c8d822af63dd961488/packages/edit-post/src/components/keyboard-shortcuts/index.js
//    https://github.com/WordPress/gutenberg/blob/0ee78b1bbe9c6f3e6df99f3b967132fa12bef77d/packages/edit-site/src/components/keyboard-shortcuts/index.js

function KeyboardShortcuts() {
  const {
    undo: undoAction,
    redo: redoAction
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useDispatch)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store);
  const {
    isSidebarOpened,
    hasEdits,
    isSaving
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useSelect)(select => ({
    isSidebarOpened: select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).isSidebarOpened(),
    isSaving: select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).isSaving(),
    hasEdits: select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).hasEdits()
  }));
  const {
    openSidebar,
    closeSidebar,
    saveEditedEmail,
    toggleFeature
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_5__.storeName);
  const {
    registerShortcut
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useDispatch)(_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__.store);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    void registerShortcut({
      name: 'mailpoet/email-editor/toggle-fullscreen',
      category: 'global',
      description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Toggle fullscreen mode.', 'mailpoet'),
      keyCombination: {
        modifier: 'secondary',
        character: 'f'
      }
    });
    void registerShortcut({
      name: 'mailpoet/email-editor/toggle-sidebar',
      category: 'global',
      description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Show or hide the settings sidebar.', 'mailpoet'),
      keyCombination: {
        modifier: 'primaryShift',
        character: ','
      }
    });
    void registerShortcut({
      name: 'mailpoet/email-editor/save',
      category: 'global',
      description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Save your changes.', 'mailpoet'),
      keyCombination: {
        modifier: 'primary',
        character: 's'
      }
    });
    void registerShortcut({
      name: 'mailpoet/email-editor/undo',
      category: 'block',
      description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Undo your last changes.', 'mailpoet'),
      keyCombination: {
        modifier: 'primary',
        character: 'z'
      }
    });
    void registerShortcut({
      name: 'mailpoet/email-editor/redo',
      category: 'block',
      description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Redo your last undo.', 'mailpoet'),
      keyCombination: {
        modifier: 'primaryShift',
        character: 'z'
      }
    });
  }, [registerShortcut]);
  (0,_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__.useShortcut)('mailpoet/email-editor/toggle-fullscreen', () => {
    (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('keyboard_shortcuts_toggle_fullscreen');
    void toggleFeature('fullscreenMode');
  });
  (0,_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__.useShortcut)('mailpoet/email-editor/toggle-sidebar', event => {
    (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('keyboard_shortcuts_toggle_sidebar');
    event.preventDefault();
    if (isSidebarOpened) {
      void closeSidebar();
    } else {
      void openSidebar();
    }
  });
  (0,_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__.useShortcut)('mailpoet/email-editor/save', event => {
    (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('keyboard_shortcuts_save');
    event.preventDefault();
    if (!hasEdits || isSaving) {
      return;
    }
    void saveEditedEmail();
  });
  (0,_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__.useShortcut)(
  // Shortcut name
  'mailpoet/email-editor/undo',
  // Shortcut callback
  event => {
    void undoAction();
    event.preventDefault();
  });
  (0,_wordpress_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__.useShortcut)(
  // Shortcut name
  'mailpoet/email-editor/redo',
  // Shortcut callback
  event => {
    void redoAction();
    event.preventDefault();
  });
  return null;
}

/***/ }),

/***/ "./src/components/listview-sidebar/listview-sidebar.tsx":
/*!**************************************************************!*\
  !*** ./src/components/listview-sidebar/listview-sidebar.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ListviewSidebar: () => (/* binding */ ListviewSidebar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__);

/**
 * External dependencies
 */
// eslint-disable-next-line

function ListviewSidebar() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "editor-list-view-sidebar"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__.__experimentalListView, null));
}

/***/ }),

/***/ "./src/components/notices/notices.tsx":
/*!********************************************!*\
  !*** ./src/components/notices/notices.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorNotices: () => (/* binding */ EditorNotices)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _validation_notices__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./validation-notices */ "./src/components/notices/validation-notices.tsx");
/* harmony import */ var _snackbars__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./snackbars */ "./src/components/notices/snackbars.tsx");

/**
 * External dependencies
 */




/**
 * Internal dependencies
 */



// See: https://github.com/WordPress/gutenberg/blob/5be0ec4153c3adf9f0f2513239f4f7a358ba7948/packages/editor/src/components/editor-notices/index.js

function EditorNotices() {
  const {
    notices
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => ({
    notices: select(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__.store).getNotices('email-editor')
  }), []);
  const {
    removeNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_3__.store);
  const dismissibleNotices = notices.filter(({
    isDismissible,
    type
  }) => isDismissible && type === 'default');
  const nonDismissibleNotices = notices.filter(({
    isDismissible,
    type
  }) => !isDismissible && type === 'default');
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.NoticeList, {
    notices: nonDismissibleNotices,
    className: "components-editor-notices__pinned"
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.NoticeList, {
    notices: dismissibleNotices,
    className: "components-editor-notices__dismissible",
    onRemove: id => removeNotice(id, 'email-editor')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_validation_notices__WEBPACK_IMPORTED_MODULE_4__.ValidationNotices, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_snackbars__WEBPACK_IMPORTED_MODULE_5__.EditorSnackbars, {
    context: "global"
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_snackbars__WEBPACK_IMPORTED_MODULE_5__.EditorSnackbars, {
    context: "email-editor"
  }));
}

/***/ }),

/***/ "./src/components/notices/sent-email-notice.tsx":
/*!******************************************************!*\
  !*** ./src/components/notices/sent-email-notice.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SentEmailNotice: () => (/* binding */ SentEmailNotice)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");
/**
 * External dependencies
 */





/**
 * Internal dependencies
 */


function SentEmailNotice() {
  const {
    isEmailSent
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useSelect)(select => ({
    isEmailSent: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).isEmailSent()
  }), []);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (isEmailSent) {
      void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__.store).createNotice('warning', (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('This email has already been sent. It can be edited, but not sent again. Duplicate this email if you want to send it again.', 'mailpoet'), {
        id: 'email-sent',
        isDismissible: false,
        context: 'email-editor'
      });
      (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('editor_showed_email_sent_notice');
    }
  }, [isEmailSent]);
  return null;
}

/***/ }),

/***/ "./src/components/notices/snackbars.tsx":
/*!**********************************************!*\
  !*** ./src/components/notices/snackbars.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditorSnackbars: () => (/* binding */ EditorSnackbars)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_5__);

/**
 * External dependencies
 */






// See: https://github.com/WordPress/gutenberg/blob/2788a9cf8b8149be3ee52dd15ce91fa55815f36a/packages/editor/src/components/editor-snackbars/index.js

function EditorSnackbars({
  context = 'email-editor'
}) {
  const {
    notices
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_4__.useSelect)(select => ({
    notices: select(_wordpress_notices__WEBPACK_IMPORTED_MODULE_5__.store).getNotices(context)
  }), [context]);

  // Some global notices are not suitable for the email editor context
  // This map allows us to change the content of the notice
  const globalNoticeChangeMap = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    return {
      'site-editor-save-success': {
        content: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Email design updated.', 'mailpoet'),
        removeActions: true
      }
    };
  }, []);
  const {
    removeNotice
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_4__.useDispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_5__.store);
  const snackbarNotices = notices.filter(({
    type
  }) => type === 'snackbar').map(notice => {
    if (!globalNoticeChangeMap[notice.id]) {
      return notice;
    }
    return {
      ...notice,
      content: globalNoticeChangeMap[notice.id].content,
      actions: globalNoticeChangeMap[notice.id].removeActions ? [] : notice.actions
    };
  });
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.SnackbarList, {
    notices: snackbarNotices,
    className: "components-editor-notices__snackbar",
    onRemove: id => removeNotice(id, context)
  });
}

/***/ }),

/***/ "./src/components/notices/validation-notices.tsx":
/*!*******************************************************!*\
  !*** ./src/components/notices/validation-notices.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ValidationNotices: () => (/* binding */ ValidationNotices)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-validation-notices.ts");

/**
 * External dependencies
 */



/**
 * Internal dependencies
 */

function ValidationNotices() {
  const {
    notices
  } = (0,_hooks__WEBPACK_IMPORTED_MODULE_3__.useValidationNotices)();
  if (notices.length === 0) {
    return null;
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Notice, {
    status: "error",
    className: "mailpoet-email-editor-validation-errors components-editor-notices__pinned",
    isDismissible: false
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("strong", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Fix errors to continue:', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("ul", null, notices.map(({
    id,
    content,
    actions
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("li", {
    key: id
  }, content, actions.length > 0 ? actions.map(({
    label,
    onClick
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    key: label,
    onClick: onClick,
    variant: "link"
  }, label)) : null)))));
}

/***/ }),

/***/ "./src/components/personalization-tags/category-menu.tsx":
/*!***************************************************************!*\
  !*** ./src/components/personalization-tags/category-menu.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CategoryMenu: () => (/* binding */ CategoryMenu)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);

/**
 * External dependencies
 */



const CategoryMenu = ({
  groupedTags,
  activeCategory,
  onCategorySelect
}) => {
  const getMenuItemClass = category => category === activeCategory ? 'mailpoet-personalization-tags-modal__menu-item-active' : '';
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.MenuGroup, {
    className: "mailpoet-personalization-tags-modal__menu"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {
    onClick: () => onCategorySelect(null),
    className: getMenuItemClass(null)
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('All', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tags-modal__menu-separator",
    "aria-hidden": "true"
  }), Object.keys(groupedTags).map((category, index, array) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.Fragment, {
    key: category
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {
    onClick: () => onCategorySelect(category),
    className: getMenuItemClass(category)
  }, category), index < array.length - 1 && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tags-modal__menu-separator",
    "aria-hidden": "true"
  }))));
};


/***/ }),

/***/ "./src/components/personalization-tags/category-section.tsx":
/*!******************************************************************!*\
  !*** ./src/components/personalization-tags/category-section.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CategorySection: () => (/* binding */ CategorySection)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);

/**
 * External dependencies
 */



/**
 * Internal dependencies
 */

const CategorySection = ({
  groupedTags,
  activeCategory,
  onInsert,
  canInsertLink,
  closeCallback,
  openLinkModal
}) => {
  const categoriesToRender = activeCategory === null ? Object.entries(groupedTags) // Render all categories
  : [[activeCategory, groupedTags[activeCategory] || []]]; // Render only one selected category

  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, categoriesToRender.map(([category, items]) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    key: category
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tags-modal__category"
  }, category), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tags-modal__category-group"
  }, items.map(item => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tags-modal__category-group-item",
    key: item.token
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tags-modal__item-text"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("strong", null, item.name), item.valueToInsert), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    style: {
      display: 'flex',
      flexDirection: 'column',
      alignItems: 'flex-end'
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    variant: "link",
    onClick: () => {
      if (onInsert) {
        onInsert(item.valueToInsert, false);
      }
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Insert', 'mailpoet')), category === (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Link', 'mailpoet') && canInsertLink && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    variant: "link",
    onClick: () => {
      closeCallback();
      openLinkModal(item);
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Insert as link', 'mailpoet'))))))))));
};


/***/ }),

/***/ "./src/components/personalization-tags/link-modal.tsx":
/*!************************************************************!*\
  !*** ./src/components/personalization-tags/link-modal.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LinkModal: () => (/* binding */ LinkModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.scss */ "./src/components/personalization-tags/index.scss");

/**
 * External dependencies
 */




/**
 * Internal dependencies
 */

const LinkModal = ({
  onInsert,
  isOpened,
  closeCallback,
  tag
}) => {
  const [linkText, setLinkText] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Link', 'mailpoet'));
  if (!isOpened) {
    return null;
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Modal, {
    size: "small",
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Insert Link', 'mailpoet'),
    onRequestClose: closeCallback,
    className: "mailpoet-personalization-tags-modal"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.TextControl, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Link Text', 'mailpoet'),
    value: linkText,
    onChange: setLinkText
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    isPrimary: true,
    onClick: () => {
      if (onInsert) {
        onInsert(tag.token, linkText);
      }
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Insert', 'mailpoet')));
};


/***/ }),

/***/ "./src/components/personalization-tags/personalization-tags-link-popover.tsx":
/*!***********************************************************************************!*\
  !*** ./src/components/personalization-tags/personalization-tags-link-popover.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PersonalizationTagsLinkPopover: () => (/* binding */ PersonalizationTagsLinkPopover)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");

/**
 * External dependencies
 */





/**
 * Internal dependencies
 */

const PersonalizationTagsLinkPopover = ({
  contentRef,
  onUpdate
}) => {
  const [isPopoverVisible, setIsPopoverVisible] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [linkElement, setLinkElement] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
  const [linkText, setLinkText] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)('');
  const [linkHref, setLinkHref] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)('');
  const list = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getPersonalizationTagsList(), []);
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!contentRef || !contentRef.current) {
      return undefined;
    }
    const container = contentRef.current;

    // Handle clicks within the referenced container
    const handleContainerClick = event => {
      const target = event.target;
      const element = target.closest('a[data-link-href]');
      if (element) {
        // Remove brackets from the text content for better user experience
        setLinkElement(element);
        setLinkHref(element.getAttribute('data-link-href') || '');
        setLinkText(element.textContent || '');
        setIsPopoverVisible(true);
      }
    };

    // Add the event listener to the container
    container.addEventListener('click', handleContainerClick);

    // Cleanup function to remove the event listener on unmount
    return () => {
      container.removeEventListener('click', handleContainerClick);
    };
  }, [contentRef]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, isPopoverVisible && linkElement && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Popover, {
    position: "bottom left",
    onClose: () => setIsPopoverVisible(false),
    anchor: linkElement // Directly use commentSpan as the anchor
    ,
    className: "mailpoet-personalization-tag-popover"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tag-popover__content"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.TextControl, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Link Text', 'mailpoet'),
    value: linkText,
    onChange: value => setLinkText(value),
    __nextHasNoMarginBottom: true // To avoid warning about deprecation in console
    ,
    __next40pxDefaultSize: true,
    autoComplete: "off"
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.SelectControl, {
    __next40pxDefaultSize: true,
    __nextHasNoMarginBottom: true,
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Link tag', 'mailpoet'),
    value: linkHref,
    onChange: value => {
      setLinkHref(value);
    },
    options: list.filter(tag => {
      return tag.category === (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Link', 'mailpoet');
    }).map(tag => {
      return {
        label: tag.name,
        value: tag.token
      };
    })
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tag-popover__content-buttons"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button, {
    isTertiary: true,
    onClick: () => {
      setIsPopoverVisible(false);
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Cancel', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button, {
    isPrimary: true,
    onClick: () => {
      setIsPopoverVisible(false);
      onUpdate(linkElement, linkHref, linkText);
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Update link', 'mailpoet'))))));
};


/***/ }),

/***/ "./src/components/personalization-tags/personalization-tags-modal.tsx":
/*!****************************************************************************!*\
  !*** ./src/components/personalization-tags/personalization-tags-modal.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PersonalizationTagsModal: () => (/* binding */ PersonalizationTagsModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.scss */ "./src/components/personalization-tags/index.scss");
/* harmony import */ var _category_menu__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./category-menu */ "./src/components/personalization-tags/category-menu.tsx");
/* harmony import */ var _category_section__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./category-section */ "./src/components/personalization-tags/category-section.tsx");
/* harmony import */ var _link_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./link-modal */ "./src/components/personalization-tags/link-modal.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");

/**
 * External dependencies
 */





/**
 * Internal dependencies
 */






const PersonalizationTagsModal = ({
  onInsert,
  isOpened,
  closeCallback,
  canInsertLink = false,
  openedBy = ''
}) => {
  const [activeCategory, setActiveCategory] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(null);
  const [searchQuery, setSearchQuery] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)('');
  const [selectedTag, setSelectedTag] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(null);
  const [isLinkModalOpened, setIsLinkModalOpened] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(false);
  const list = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_4__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).getPersonalizationTagsList(), []);
  if (isLinkModalOpened) {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_link_modal__WEBPACK_IMPORTED_MODULE_7__.LinkModal, {
      onInsert: (tag, linkText) => {
        onInsert(tag, linkText);
        setIsLinkModalOpened(false);
      },
      isOpened: isLinkModalOpened,
      closeCallback: () => setIsLinkModalOpened(false),
      tag: selectedTag
    });
  }
  if (!isOpened) {
    return null;
  }
  (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEventOnce)('personalization_tags_modal_opened', {
    openedBy
  });
  const groupedTags = list.reduce((groups, item) => {
    const {
      category,
      name,
      token
    } = item;
    if (!searchQuery || name.toLowerCase().includes(searchQuery.toLowerCase()) || token.toLowerCase().includes(searchQuery.toLowerCase())) {
      if (!groups[category]) {
        groups[category] = [];
      }
      groups[category].push(item);
    }
    return groups;
  }, {});
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Modal, {
    size: "medium",
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Personalization Tags', 'mailpoet'),
    onRequestClose: () => {
      closeCallback();
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('personalization_tags_modal_closed', {
        openedBy
      });
    },
    className: "mailpoet-personalization-tags-modal"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Insert personalization tags to dynamically fill in information and personalize your emails.', 'mailpoet'), ' ', (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.ExternalLink, {
    href: "https://kb.mailpoet.com/article/435-a-guide-to-personalisation-tags-for-tailored-newsletters#list",
    onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('personalization_tags_modal_learn_more_link_clicked', {
      openedBy
    })
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Learn more', 'mailpoet'))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.SearchControl, {
    onChange: theSearchQuery => {
      setSearchQuery(theSearchQuery);
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEventOnce)('personalization_tags_modal_search_control_input_updated', {
        openedBy
      });
    },
    value: searchQuery
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_category_menu__WEBPACK_IMPORTED_MODULE_9__.CategoryMenu, {
    groupedTags: groupedTags,
    activeCategory: activeCategory,
    onCategorySelect: category => {
      setActiveCategory(category);
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('personalization_tags_modal_category_menu_clicked', {
        category,
        openedBy
      });
    }
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_category_section__WEBPACK_IMPORTED_MODULE_10__.CategorySection, {
    groupedTags: groupedTags,
    activeCategory: activeCategory,
    onInsert: insertedTag => {
      onInsert(insertedTag);
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('personalization_tags_modal_tag_insert_button_clicked', {
        insertedTag,
        activeCategory,
        openedBy
      });
    },
    closeCallback: closeCallback,
    canInsertLink: canInsertLink,
    openLinkModal: tag => {
      setSelectedTag(tag);
      setIsLinkModalOpened(true);
    }
  }));
};


/***/ }),

/***/ "./src/components/personalization-tags/personalization-tags-popover.tsx":
/*!******************************************************************************!*\
  !*** ./src/components/personalization-tags/personalization-tags-popover.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PersonalizationTagsPopover: () => (/* binding */ PersonalizationTagsPopover)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);

/**
 * External dependencies
 */



/**
 * Component to display a popover with a text control to update personalization tags.
 * The popover is displayed when a user clicks on a personalization tag in the editor.
 * @param root0
 * @param root0.contentRef Reference to the container where the popover should be displayed
 * @param root0.onUpdate   Callback to update the personalization tag
 */
const PersonalizationTagsPopover = ({
  contentRef,
  onUpdate
}) => {
  const [isPopoverVisible, setIsPopoverVisible] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [anchor, setAnchor] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
  const [updatedValue, setUpdatedValue] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)('');
  const [originalValue, setOriginalValue] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)('');
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!contentRef || !contentRef.current) {
      return undefined;
    }
    const container = contentRef.current;

    // Handle clicks within the referenced container
    const handleContainerClick = event => {
      const target = event.target;
      const commentSpan = target.closest('span[data-rich-text-comment]');
      if (commentSpan) {
        // Remove brackets from the text content for better user experience
        const textContent = commentSpan.innerText.replace(/^\[|\]$/g, '');
        setOriginalValue(textContent);
        setUpdatedValue(textContent);
        setAnchor(commentSpan);
        setIsPopoverVisible(true);
      }
    };

    // Add the event listener to the container
    container.addEventListener('click', handleContainerClick);

    // Cleanup function to remove the event listener on unmount
    return () => {
      container.removeEventListener('click', handleContainerClick);
    };
  }, [contentRef]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, isPopoverVisible && anchor && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Popover, {
    position: "bottom right",
    onClose: () => setIsPopoverVisible(false),
    anchor: anchor // Directly use commentSpan as the anchor
    ,
    className: "mailpoet-personalization-tag-popover"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tag-popover__content"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.TextControl, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Personalization Tag', 'mailpoet'),
    value: updatedValue,
    onChange: value => setUpdatedValue(value),
    __nextHasNoMarginBottom: true // To avoid warning about deprecation in console
    ,
    __next40pxDefaultSize: true
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-personalization-tag-popover__content-buttons"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    isTertiary: true,
    onClick: () => {
      setIsPopoverVisible(false);
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Cancel', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    isPrimary: true,
    onClick: () => {
      onUpdate(originalValue, updatedValue);
      setIsPopoverVisible(false);
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Update', 'mailpoet'))))));
};


/***/ }),

/***/ "./src/components/personalization-tags/rich-text-utils.ts":
/*!****************************************************************!*\
  !*** ./src/components/personalization-tags/rich-text-utils.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getCursorPosition: () => (/* binding */ getCursorPosition),
/* harmony export */   replacePersonalizationTagsWithHTMLComments: () => (/* binding */ replacePersonalizationTagsWithHTMLComments)
/* harmony export */ });
/* harmony import */ var _wordpress_rich_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/rich-text */ "@wordpress/rich-text");
/* harmony import */ var _wordpress_rich_text__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_0__);
/**
 * External dependencies
 */



/**
 * Internal dependencies
 */

function getChildElement(rootElement) {
  let currentElement = rootElement;
  while (currentElement && currentElement.children.length > 0) {
    // Traverse into the first child element
    currentElement = currentElement.children[0];
  }
  return currentElement;
}
function findReplacementIndex(element, replacements) {
  // Iterate over the replacements array
  for (const [index, replacement] of replacements.entries()) {
    if (!replacement) {
      continue;
    }
    const {
      attributes
    } = replacement;
    if (element.getAttribute('data-rich-text-comment') === attributes['data-rich-text-comment']) {
      return index;
    }
  }
  return null; // Return null if no match is found
}

/**
 * Find the latest index of the format that matches the element.
 * @param element
 * @param formats
 */
function findLatestFormatIndex(element, formats) {
  let latestFormatIndex = null;
  for (const [index, formatList] of formats.entries()) {
    if (!formatList) {
      continue;
    }

    // Check each format within the format list at the current index
    for (const format of formatList) {
      if (
      // @ts-expect-error attributes property is missing in build type for RichTextFormatList type
      format?.attributes && element.tagName.toLowerCase() ===
      // @ts-expect-error tagName property is missing in build type for RichTextFormatList type
      format.tagName?.toLowerCase() && element.getAttribute('data-link-href') ===
      // @ts-expect-error attributes property is missing in build type for RichTextFormatList type
      format?.attributes['data-link-href']) {
        latestFormatIndex = index;
      }
    }
  }
  return latestFormatIndex;
}

/**
 * Retrieves the cursor position within a RichText component.
 * Calculates the offset in plain text while accounting for HTML tags and comments.
 *
 * @param {React.RefObject<HTMLElement>} richTextRef - Reference to the RichText component.
 * @param {string}                       content     - The plain text content of the block.
 * @return {{ start: number, end: number } | null} - The cursor position as start and end offsets.
 */
const getCursorPosition = (richTextRef, content) => {
  const selection = richTextRef.current.ownerDocument.defaultView.getSelection();
  if (!selection.rangeCount) {
    return {
      start: 0,
      end: 0
    };
  }
  const range = selection.getRangeAt(0);
  if (selection.anchorNode.previousSibling === null) {
    return {
      start: selection.anchorOffset,
      end: selection.anchorOffset + range.toString().length
    };
  }
  const richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_0__.create)({
    html: content
  });
  let previousSibling = selection.anchorNode.previousSibling;
  previousSibling = getChildElement(previousSibling);
  const formatIndex = findLatestFormatIndex(previousSibling, richTextValue.formats);
  if (formatIndex !== null) {
    return {
      start: formatIndex + selection.anchorOffset + 1,
      // We need to add 1 for the format length
      end: formatIndex + selection.anchorOffset + range.toString().length
    };
  }
  const replacementIndex = findReplacementIndex(previousSibling, richTextValue.replacements);
  if (replacementIndex !== null) {
    return {
      start: replacementIndex + selection.anchorOffset + 1,
      // We need to add 1 for the replacement length
      end: replacementIndex + selection.anchorOffset + range.toString().length
    };
  }

  // fallback for placing the value at the end of the rich text
  return {
    start: richTextValue.text.length,
    end: richTextValue.text.length + range.toString().length
  };
};

/**
 * Replace registered personalization tags with HTML comments in content.
 * @param content string The content to replace the tags in.
 * @param tags    PersonalizationTag[] The tags to replace in the content.
 */
const replacePersonalizationTagsWithHTMLComments = (content, tags) => {
  tags.forEach(tag => {
    // Skip if the token is not in the content
    if (!content.includes(tag.token.slice(0, tag.token.length - 1))) {
      return;
    }

    // Match the token with optional attributes like [mailpoet/subscriber-firstname default="user"]
    const baseToken = tag.token.substring(1, tag.token.length - 1).replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // Escape base token and remove brackets
    const regex = new RegExp(`(?<!<!--)(?<!["'])\\[(${baseToken}(\\s[^\\]]*)?)\\](?!-->)`,
    // Match token not inside quotes (attributes)
    'g');
    content = content.replace(regex, match => {
      // Use the exact text inside the brackets for the replacement
      return `<!--${match}-->`;
    });
  });
  return content;
};


/***/ }),

/***/ "./src/components/personalization-tags/rich-text-with-button.tsx":
/*!***********************************************************************!*\
  !*** ./src/components/personalization-tags/rich-text-with-button.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RichTextWithButton: () => (/* binding */ RichTextWithButton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/rich-text */ "@wordpress/rich-text");
/* harmony import */ var _wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _personalization_tags_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./personalization-tags-modal */ "./src/components/personalization-tags/personalization-tags-modal.tsx");
/* harmony import */ var _rich_text_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./rich-text-utils */ "./src/components/personalization-tags/rich-text-utils.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _personalization_tags_popover__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./personalization-tags-popover */ "./src/components/personalization-tags/personalization-tags-popover.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */








/**
 * Internal dependencies
 */





function RichTextWithButton({
  label,
  labelSuffix,
  help,
  placeholder,
  attributeName
}) {
  var _mailpoetEmailData$at6;
  const [mailpoetEmailData] = (0,_wordpress_core_data__WEBPACK_IMPORTED_MODULE_4__.useEntityProp)('postType', _store__WEBPACK_IMPORTED_MODULE_8__.editorCurrentPostType, 'mailpoet_data');
  const {
    updateEmailMailPoetProperty
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_8__.storeName);
  const [selectionRange, setSelectionRange] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(null);
  const [isModalOpened, setIsModalOpened] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(false);
  const list = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_8__.storeName).getPersonalizationTagsList(), []);
  const richTextRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);
  const handleInsertPersonalizationTag = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useCallback)((tagName, currentValue, currentSelectionRange) => {
    var _currentSelectionRang, _currentSelectionRang2;
    // Ensure selection range is within bounds
    const start = (_currentSelectionRang = currentSelectionRange?.start) !== null && _currentSelectionRang !== void 0 ? _currentSelectionRang : currentValue.length;
    const end = (_currentSelectionRang2 = currentSelectionRange?.end) !== null && _currentSelectionRang2 !== void 0 ? _currentSelectionRang2 : currentValue.length;
    let richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__.create)({
      html: currentValue
    });
    richTextValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__.insert)(richTextValue, (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__.create)({
      html: `<!--${tagName}-->`
    }), start, end);
    const updatedValue = (0,_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__.toHTMLString)({
      value: richTextValue
    });

    // Update the corresponding property
    updateEmailMailPoetProperty(attributeName, updatedValue);
    setSelectionRange(null);
  }, [attributeName, updateEmailMailPoetProperty]);
  const finalLabel = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span", null, label), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    className: "mailpoet-settings-panel__personalization-tags-button",
    icon: "shortcode",
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_7__.__)('Personalization Tags', 'mailpoet'),
    onClick: () => {
      setIsModalOpened(true);
      (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('rich_text_with_button_personalization_tags_shortcode_icon_clicked', {
        attributeName,
        label
      });
    }
  }), labelSuffix);
  if (!mailpoetEmailData) {
    return null;
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.BaseControl, {
    id: `mailpoet-settings-panel__${attributeName}`,
    label: finalLabel,
    className: `mailpoet-settings-panel__${attributeName}-text`,
    help: help,
    __nextHasNoMarginBottom: true // To avoid warning about deprecation in console
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_personalization_tags_modal__WEBPACK_IMPORTED_MODULE_10__.PersonalizationTagsModal, {
    isOpened: isModalOpened,
    onInsert: value => {
      var _mailpoetEmailData$at;
      handleInsertPersonalizationTag(value, (_mailpoetEmailData$at = mailpoetEmailData[attributeName]) !== null && _mailpoetEmailData$at !== void 0 ? _mailpoetEmailData$at : '', selectionRange);
      setIsModalOpened(false);
      (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('rich_text_with_button_personalization_tags_inserted', {
        attributeName,
        value
      });
    },
    closeCallback: () => setIsModalOpened(false),
    openedBy: "RichTextWithButton-BaseControl"
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_personalization_tags_popover__WEBPACK_IMPORTED_MODULE_11__.PersonalizationTagsPopover, {
    contentRef: richTextRef,
    onUpdate: (originalTag, updatedTag) => {
      var _mailpoetEmailData$at2;
      const currentValue = (_mailpoetEmailData$at2 = mailpoetEmailData[attributeName]) !== null && _mailpoetEmailData$at2 !== void 0 ? _mailpoetEmailData$at2 : '';
      // When we update the tag, we need to add brackets to the tag, because the popover removes them
      const updatedContent = currentValue.replace(`<!--[${originalTag}]-->`, `<!--[${updatedTag}]-->`);
      updateEmailMailPoetProperty(attributeName, updatedContent);
    }
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__.RichText, {
    ref: richTextRef,
    className: "mailpoet-settings-panel__richtext",
    placeholder: placeholder,
    onFocus: () => {
      var _mailpoetEmailData$at3;
      setSelectionRange((0,_rich_text_utils__WEBPACK_IMPORTED_MODULE_12__.getCursorPosition)(richTextRef, (_mailpoetEmailData$at3 = mailpoetEmailData[attributeName]) !== null && _mailpoetEmailData$at3 !== void 0 ? _mailpoetEmailData$at3 : ''));
    },
    onKeyUp: () => {
      var _mailpoetEmailData$at4;
      setSelectionRange((0,_rich_text_utils__WEBPACK_IMPORTED_MODULE_12__.getCursorPosition)(richTextRef, (_mailpoetEmailData$at4 = mailpoetEmailData[attributeName]) !== null && _mailpoetEmailData$at4 !== void 0 ? _mailpoetEmailData$at4 : ''));
    },
    onClick: () => {
      var _mailpoetEmailData$at5;
      setSelectionRange((0,_rich_text_utils__WEBPACK_IMPORTED_MODULE_12__.getCursorPosition)(richTextRef, (_mailpoetEmailData$at5 = mailpoetEmailData[attributeName]) !== null && _mailpoetEmailData$at5 !== void 0 ? _mailpoetEmailData$at5 : ''));
    },
    onChange: value => {
      var _value;
      value = (0,_rich_text_utils__WEBPACK_IMPORTED_MODULE_12__.replacePersonalizationTagsWithHTMLComments)((_value = value) !== null && _value !== void 0 ? _value : '', list);
      updateEmailMailPoetProperty(attributeName, value);
      (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEventOnce)('rich_text_with_button_input_field_updated', {
        attributeName
      });
    },
    value: (_mailpoetEmailData$at6 = mailpoetEmailData[attributeName]) !== null && _mailpoetEmailData$at6 !== void 0 ? _mailpoetEmailData$at6 : '',
    "data-automation-id": `email_${attributeName}`
  }));
}

/***/ }),

/***/ "./src/components/preview/preview-dropdown.tsx":
/*!*****************************************************!*\
  !*** ./src/components/preview/preview-dropdown.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreviewDropdown: () => (/* binding */ PreviewDropdown)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/mobile.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/desktop.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/check.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/icon/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/external.js");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");
/* harmony import */ var _send_preview_email__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./send-preview-email */ "./src/components/preview/send-preview-email.tsx");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */



function PreviewDropdown() {
  const previewDeviceType = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getDeviceType(), []);
  const {
    changePreviewDeviceType,
    togglePreviewModal
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_5__.storeName);
  const changeDeviceType = newDeviceType => {
    void changePreviewDeviceType(newDeviceType);
  };
  const deviceIcons = {
    mobile: _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__["default"],
    desktop: _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__["default"]
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, {
    className: "mailpoet-preview-dropdown",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Preview', 'mailpoet'),
    icon: deviceIcons[previewDeviceType.toLowerCase()],
    onToggle: isOpened => (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('header_preview_dropdown_clicked', {
      isOpened
    })
  }, ({
    onClose
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuGroup, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    className: "block-editor-post-preview__button-resize",
    onClick: () => {
      changeDeviceType('Desktop');
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('header_preview_dropdown_desktop_selected');
    },
    icon: previewDeviceType === 'Desktop' && _wordpress_icons__WEBPACK_IMPORTED_MODULE_9__["default"]
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Desktop', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    className: "block-editor-post-preview__button-resize",
    onClick: () => {
      changeDeviceType('Mobile');
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('header_preview_dropdown_mobile_selected');
    },
    icon: previewDeviceType === 'Mobile' && _wordpress_icons__WEBPACK_IMPORTED_MODULE_9__["default"]
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Mobile', 'mailpoet'))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuGroup, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    className: "block-editor-post-preview__button-resize",
    onClick: () => {
      void togglePreviewModal(true);
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('header_preview_dropdown_send_test_email_selected');
      onClose();
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Send a test email', 'mailpoet'))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuGroup, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "edit-post-header-preview__grouping-external"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_4__.PostPreviewButton, {
    role: "menuitem",
    forceIsAutosaveable: true,
    "aria-label": (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Preview in new tab', 'mailpoet'),
    textContent: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Preview in new tab', 'mailpoet'), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_10__["default"], {
      icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_11__["default"]
    })),
    onPreview: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('header_preview_dropdown_preview_in_new_tab_selected');
      onClose();
    }
  }))))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_send_preview_email__WEBPACK_IMPORTED_MODULE_12__.SendPreviewEmail, null));
}

/***/ }),

/***/ "./src/components/preview/send-preview-email.tsx":
/*!*******************************************************!*\
  !*** ./src/components/preview/send-preview-email.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SendPreviewEmail: () => (/* binding */ SendPreviewEmail)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/icon/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/check.js");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/keycodes */ "@wordpress/keycodes");
/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/url */ "@wordpress/url");
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_url__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../store */ "./src/store/types.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */









/**
 * Internal dependencies
 */


function RawSendPreviewEmail() {
  const sendToRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);
  const {
    requestSendingNewsletterPreview,
    togglePreviewModal,
    updateSendPreviewEmail
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_8__.storeName);
  const {
    toEmail: previewToEmail,
    isSendingPreviewEmail,
    sendingPreviewStatus,
    isModalOpened
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_8__.storeName).getPreviewState(), []);
  const [mailpoetEmailData] = (0,_wordpress_core_data__WEBPACK_IMPORTED_MODULE_7__.useEntityProp)('postType', _store__WEBPACK_IMPORTED_MODULE_8__.editorCurrentPostType, 'mailpoet_data');
  const handleSendPreviewEmail = () => {
    void requestSendingNewsletterPreview(mailpoetEmailData.id, previewToEmail);
  };
  const closeCallback = () => {
    (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_closed');
    void togglePreviewModal(false);
  };

  // We use this effect to focus on the input field when the modal is opened
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {
    if (isModalOpened) {
      sendToRef.current?.focus();
      (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_opened');
    }
  }, [isModalOpened]);
  if (!isModalOpened) {
    return null;
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Modal, {
    className: "mailpoet-send-preview-email",
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Send a test email', 'mailpoet'),
    onRequestClose: closeCallback,
    focusOnMount: false
  }, sendingPreviewStatus === _store__WEBPACK_IMPORTED_MODULE_10__.SendingPreviewStatus.ERROR ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-send-preview-modal-notice-error"
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Sorry, we were unable to send this email.', 'mailpoet'), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("ul", null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("li", null, (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createInterpolateElement)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Please check your <link>sending method configuration</link> with your hosting provider.', 'mailpoet'), {
    link:
    // eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/control-has-associated-label
    (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("a", {
      href: "admin.php?page=mailpoet-settings#mta",
      target: "_blank",
      rel: "noopener noreferrer",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_check_sending_method_configuration_link_clicked')
    })
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("li", null, (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createInterpolateElement)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Or, sign up for MailPoet Sending Service to easily send emails. <link>Sign up for free</link>', 'mailpoet'), {
    link:
    // eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/control-has-associated-label
    (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("a", {
      href: new URL('free-plan', 'https://www.mailpoet.com/').toString(),
      key: "sign-up-for-free",
      target: "_blank",
      rel: "noopener noreferrer",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_sign_up_for_mailpoet_sending_service_link_clicked')
    })
  })))) : null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createInterpolateElement)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Send yourself a test email to test how your email would look like in different email apps. You can also test your spam score by sending a test email to <link1>{$serviceName}</link1>. <link2>Learn more</link2>.', 'mailpoet').replace('{$serviceName}', 'Mail Tester'), {
    link1:
    // eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/control-has-associated-label
    (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("a", {
      href: "https://www.mail-tester.com/",
      target: "_blank",
      rel: "noopener noreferrer",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_send_test_email_to_mail_tester_link_clicked')
    }),
    link2:
    // eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/control-has-associated-label
    (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("a", {
      href: "https://kb.mailpoet.com/article/147-test-your-spam-score-with-mail-tester",
      target: "_blank",
      rel: "noopener noreferrer",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_learn_more_about_mail_tester_link_clicked')
    })
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.TextControl, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Send to', 'mailpoet'),
    onChange: email => {
      void updateSendPreviewEmail(email);
      (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEventOnce)('send_preview_email_modal_send_to_field_updated');
    },
    onKeyDown: event => {
      const {
        keyCode
      } = event;
      if (keyCode === _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_5__.ENTER) {
        event.preventDefault();
        handleSendPreviewEmail();
        (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_send_to_field_key_code_enter');
      }
    },
    value: previewToEmail,
    type: "email",
    ref: sendToRef,
    required: true
  }), sendingPreviewStatus === _store__WEBPACK_IMPORTED_MODULE_10__.SendingPreviewStatus.SUCCESS ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", {
    className: "mailpoet-send-preview-modal-notice-success"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_11__["default"], {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_12__["default"],
    style: {
      fill: '#4AB866'
    }
  }), (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Test email sent successfully!', 'mailpoet')) : null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-send-preview-modal-footer"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    variant: "tertiary",
    onClick: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_close_button_clicked');
      closeCallback();
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Close', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
    variant: "primary",
    onClick: () => {
      handleSendPreviewEmail();
      (0,_events__WEBPACK_IMPORTED_MODULE_9__.recordEvent)('send_preview_email_modal_send_test_email_button_clicked');
    },
    disabled: isSendingPreviewEmail || !(0,_wordpress_url__WEBPACK_IMPORTED_MODULE_6__.isEmail)(previewToEmail)
  }, isSendingPreviewEmail ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Sending', 'mailpoet') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Send test email', 'mailpoet'))));
}
const SendPreviewEmail = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.memo)(RawSendPreviewEmail);

/***/ }),

/***/ "./src/components/sidebar/block-compatibility-warnings.tsx":
/*!*****************************************************************!*\
  !*** ./src/components/sidebar/block-compatibility-warnings.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockCompatibilityWarnings: () => (/* binding */ BlockCompatibilityWarnings),
/* harmony export */   hasBackgroundImageSupport: () => (/* binding */ hasBackgroundImageSupport)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/blocks */ "@wordpress/blocks");
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__);

/**
 * External dependencies
 */




const hasBackgroundImageSupport = nameOrType => {
  const backgroundSupport = (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__.getBlockSupport)(nameOrType,
  // @ts-expect-error not yet supported in the types
  'background');
  return backgroundSupport && backgroundSupport?.backgroundImage !== false;
};
function BlockCompatibilityWarnings() {
  // Select the currently selected block
  const selectedBlock = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(sel => sel('core/block-editor').getSelectedBlock(), []);

  // Check if the selected block has enabled border configuration
  const hasBorderSupport = (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__.hasBlockSupport)(selectedBlock?.name,
  // @ts-expect-error Border is not yet supported in the types
  'border', false) ||
  // We can remove the check for __experimentalBorder after we support WordPress 6.8+.
  (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__.hasBlockSupport)(selectedBlock?.name,
  // @ts-expect-error Border is not yet supported in the types
  '__experimentalBorder', false);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, hasBorderSupport && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Fill, {
    name: "InspectorControlsBorder"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Notice, {
    className: "mailpoet__grid-full-width",
    status: "warning",
    isDismissible: false
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Border display may vary or be unsupported in some email clients.', 'mailpoet'))), hasBackgroundImageSupport(selectedBlock?.name) && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Fill, {
    name: "InspectorControlsBackground"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Notice, {
    className: "mailpoet__grid-full-width",
    status: "warning",
    isDismissible: false
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Select a background color for email clients that do not support background images.', 'mailpoet'))));
}

/***/ }),

/***/ "./src/components/sidebar/details-panel.tsx":
/*!**************************************************!*\
  !*** ./src/components/sidebar/details-panel.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DetailsPanel: () => (/* binding */ DetailsPanel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");
/* harmony import */ var _personalization_tags_rich_text_with_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../personalization-tags/rich-text-with-button */ "./src/components/personalization-tags/rich-text-with-button.tsx");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */



const previewTextMaxLength = 150;
const previewTextRecommendedLength = 80;
function DetailsPanel() {
  var _mailpoetEmailData$pr;
  const [mailpoetEmailData] = (0,_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.useEntityProp)('postType', _store__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, 'mailpoet_data');
  const subjectHelp = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createInterpolateElement)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Use personalization tags to personalize your email, or learn more about <bestPracticeLink>best practices</bestPracticeLink> and using <emojiLink>emoji in subject lines</emojiLink>.', 'mailpoet'), {
    bestPracticeLink:
    // eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/control-has-associated-label
    (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("a", {
      href: "https://www.mailpoet.com/blog/17-email-subject-line-best-practices-to-boost-engagement/",
      target: "_blank",
      rel: "noopener noreferrer",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('details_panel_subject_help_best_practice_link_clicked')
    }),
    emojiLink:
    // eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/control-has-associated-label
    (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("a", {
      href: "https://www.mailpoet.com/blog/tips-using-emojis-in-subject-lines/",
      target: "_blank",
      rel: "noopener noreferrer",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('details_panel_subject_help_emoji_in_subject_lines_link_clicked')
    })
  });
  const previewTextLength = (_mailpoetEmailData$pr = mailpoetEmailData?.preheader?.length) !== null && _mailpoetEmailData$pr !== void 0 ? _mailpoetEmailData$pr : 0;
  const preheaderHelp = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.createInterpolateElement)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('<link>This text</link> will appear in the inbox, underneath the subject line.', 'mailpoet'), {
    link:
    // eslint-disable-next-line jsx-a11y/anchor-has-content, jsx-a11y/control-has-associated-label
    (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("a", {
      href: new URL('article/418-preview-text', 'https://kb.mailpoet.com/').toString(),
      key: "preview-text-kb",
      target: "_blank",
      rel: "noopener noreferrer",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('details_panel_preheader_help_text_link_clicked')
    })
  });
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.PanelBody, {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Details', 'mailpoet'),
    className: "mailpoet-email-editor__settings-panel",
    onToggle: data => (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('details_panel_body_toggle', {
      opened: data
    })
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_personalization_tags_rich_text_with_button__WEBPACK_IMPORTED_MODULE_8__.RichTextWithButton, {
    attributeName: "subject",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Subject', 'mailpoet'),
    labelSuffix: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.ExternalLink, {
      href: "https://kb.mailpoet.com/article/435-a-guide-to-personalisation-tags-for-tailored-newsletters#list",
      onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('details_panel_personalisation_tags_guide_link_clicked')
    }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Guide', 'mailpoet')),
    help: subjectHelp,
    placeholder: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Eg. The summer sale is here!', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_personalization_tags_rich_text_with_button__WEBPACK_IMPORTED_MODULE_8__.RichTextWithButton, {
    attributeName: "preheader",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)('Preview text', 'mailpoet'),
    labelSuffix: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span", {
      className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('mailpoet-settings-panel__preview-text-length', {
        'mailpoet-settings-panel__preview-text-length-warning': previewTextLength > previewTextRecommendedLength,
        'mailpoet-settings-panel__preview-text-length-error': previewTextLength > previewTextMaxLength
      })
    }, previewTextLength, "/", previewTextMaxLength),
    help: preheaderHelp,
    placeholder: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Add a preview text to capture subscribers' attention and increase open rates.", 'mailpoet')
  }));
}

/***/ }),

/***/ "./src/components/sidebar/edit-template-modal.tsx":
/*!********************************************************!*\
  !*** ./src/components/sidebar/edit-template-modal.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EditTemplateModal: () => (/* binding */ EditTemplateModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */





/**
 * Internal dependencies
 */


function EditTemplateModal({
  close
}) {
  (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEventOnce)('edit_template_modal_opened');
  const {
    onNavigateToEntityRecord,
    template
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(sel => {
    const {
      getEditorSettings
    } = sel(_wordpress_editor__WEBPACK_IMPORTED_MODULE_4__.store);
    const editorSettings = getEditorSettings();
    return {
      onNavigateToEntityRecord:
      // @ts-expect-error onNavigateToEntityRecord type is not defined
      editorSettings.onNavigateToEntityRecord,
      template: sel(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).getCurrentTemplate()
    };
  }, []);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Modal, {
    size: "medium",
    onRequestClose: close,
    __experimentalHideHeader: true
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Note that the same template can be used by multiple emails, so any changes made here may affect other emails on the site. To switch back to editing the page content click the Back button in the toolbar.', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Flex, {
    justify: 'end'
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    variant: "tertiary",
    onClick: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('edit_template_modal_cancel_button_clicked');
      close();
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Cancel', 'mailpoet'))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    variant: "primary",
    onClick: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('edit_template_modal_continue_button_clicked', {
        templateId: template.id
      });
      onNavigateToEntityRecord({
        postId: template.id,
        postType: 'wp_template'
      });
    },
    disabled: !template.id
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Continue', 'mailpoet')))));
}

/***/ }),

/***/ "./src/components/sidebar/email-settings.tsx":
/*!***************************************************!*\
  !*** ./src/components/sidebar/email-settings.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EmailSettings: () => (/* binding */ EmailSettings)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _details_panel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./details-panel */ "./src/components/sidebar/details-panel.tsx");
/* harmony import */ var _email_type_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./email-type-info */ "./src/components/sidebar/email-type-info.tsx");

/**
 * External dependencies
 */


/**
 * Internal dependencies
 */


function EmailSettings() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Panel, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_email_type_info__WEBPACK_IMPORTED_MODULE_2__.EmailTypeInfo, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_details_panel__WEBPACK_IMPORTED_MODULE_3__.DetailsPanel, null));
}

/***/ }),

/***/ "./src/components/sidebar/email-type-info.tsx":
/*!****************************************************!*\
  !*** ./src/components/sidebar/email-type-info.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EmailTypeInfo: () => (/* binding */ EmailTypeInfo)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/icon/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/megaphone.js");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _edit_template_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./edit-template-modal */ "./src/components/sidebar/edit-template-modal.tsx");
/* harmony import */ var _template_select__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../template-select */ "./src/components/template-select/select-modal.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */




function EmailTypeInfo() {
  const {
    template,
    currentEmailContent
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => ({
    template: select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getCurrentTemplate(),
    currentEmailContent: select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getEditedEmailContent()
  }), []);
  const [isEditTemplateModalOpen, setEditTemplateModalOpen] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useState)(false);
  const [isSelectTemplateModalOpen, setSelectTemplateModalOpen] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useState)(false);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Panel, {
    className: "mailpoet-email-sidebar__email-type-info"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.PanelBody, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.PanelRow, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span", {
    className: "mailpoet-email-type-info__icon"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__["default"]
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-email-type-info__content"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("h2", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Newsletter', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Send or schedule a newsletter to connect with your subscribers.', 'mailpoet')))), template && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.PanelRow, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Flex, {
    justify: 'start'
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, {
    className: "editor-post-panel__row-label"
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Template', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.FlexItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, {
    icon: null,
    text: template?.title,
    toggleProps: {
      variant: 'tertiary'
    },
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Template actions', 'mailpoet'),
    onToggle: isOpen => (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('sidebar_template_actions_clicked', {
      currentTemplate: template?.title,
      isOpen
    })
  }, ({
    onClose
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    onClick: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('sidebar_template_actions_edit_template_clicked');
      setEditTemplateModalOpen(true);
      onClose();
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Edit template', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    onClick: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('sidebar_template_actions_swap_template_clicked');
      setSelectTemplateModalOpen(true);
      onClose();
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Swap template', 'mailpoet'))))))))), isEditTemplateModalOpen && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_edit_template_modal__WEBPACK_IMPORTED_MODULE_9__.EditTemplateModal, {
    close: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_8__.recordEvent)('edit_template_modal_closed');
      return setEditTemplateModalOpen(false);
    }
  }), isSelectTemplateModalOpen && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_template_select__WEBPACK_IMPORTED_MODULE_10__.SelectTemplateModal, {
    onSelectCallback: () => setSelectTemplateModalOpen(false),
    closeCallback: () => setSelectTemplateModalOpen(false),
    previewContent: currentEmailContent
  }));
}

/***/ }),

/***/ "./src/components/sidebar/header.tsx":
/*!*******************************************!*\
  !*** ./src/components/sidebar/header.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Header: () => (/* binding */ Header),
/* harmony export */   HeaderTabs: () => (/* binding */ HeaderTabs)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-editor-mode.ts");
/* harmony import */ var _private_apis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../private-apis */ "./src/private-apis/index.ts");

/**
 * External dependencies
 */



/**
 * Internal dependencies
 */



function HeaderTabs(_, ref) {
  const [editorMode] = (0,_hooks__WEBPACK_IMPORTED_MODULE_3__.useEditorMode)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_4__.Tabs.TabList, {
    ref: ref
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_4__.Tabs.Tab, {
    tabId: _store__WEBPACK_IMPORTED_MODULE_5__.mainSidebarDocumentTab
  }, editorMode === 'template' ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Template', 'mailpoet') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Email', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_4__.Tabs.Tab, {
    tabId: _store__WEBPACK_IMPORTED_MODULE_5__.mainSidebarBlockTab
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Block', 'mailpoet')));
}
const Header = _wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef(HeaderTabs);

/***/ }),

/***/ "./src/components/sidebar/sidebar.tsx":
/*!********************************************!*\
  !*** ./src/components/sidebar/sidebar.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Sidebar: () => (/* binding */ Sidebar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_interface__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/interface */ "./node_modules/@wordpress/interface/build-module/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/drawer-right.js");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./header */ "./src/components/sidebar/header.tsx");
/* harmony import */ var _email_settings__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./email-settings */ "./src/components/sidebar/email-settings.tsx");
/* harmony import */ var _template_settings__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./template-settings */ "./src/components/sidebar/template-settings.tsx");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-editor-mode.ts");
/* harmony import */ var _private_apis__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../private-apis */ "./src/private-apis/index.ts");
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index.scss */ "./src/components/sidebar/index.scss");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */







/**
 * Internal dependencies
 */








function SidebarContent(props) {
  const [editorMode] = (0,_hooks__WEBPACK_IMPORTED_MODULE_7__.useEditorMode)();
  const tabListRef = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);
  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
  const tabsContextValue = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useContext)(_private_apis__WEBPACK_IMPORTED_MODULE_8__.Tabs.Context);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_interface__WEBPACK_IMPORTED_MODULE_5__.ComplementaryArea, {
    identifier: _store__WEBPACK_IMPORTED_MODULE_9__.mainSidebarId,
    closeLabel: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Close sidebar', 'mailpoet'),
    headerClassName: "editor-sidebar__panel-tabs",
    className: "edit-post-sidebar",
    header: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_8__.Tabs.Context.Provider, {
      value: tabsContextValue
    }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_header__WEBPACK_IMPORTED_MODULE_10__.Header, {
      ref: tabListRef
    })),
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_11__["default"],
    scope: _store__WEBPACK_IMPORTED_MODULE_9__.storeName,
    smallScreenTitle: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('No title', 'mailpoet'),
    isActiveByDefault: true,
    ...props
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_8__.Tabs.Context.Provider, {
    value: tabsContextValue
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_8__.Tabs.TabPanel, {
    tabId: _store__WEBPACK_IMPORTED_MODULE_9__.mainSidebarDocumentTab
  }, editorMode === 'template' ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_template_settings__WEBPACK_IMPORTED_MODULE_12__.TemplateSettings, null) : (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_email_settings__WEBPACK_IMPORTED_MODULE_13__.EmailSettings, null)), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_8__.Tabs.TabPanel, {
    tabId: _store__WEBPACK_IMPORTED_MODULE_9__.mainSidebarBlockTab
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.BlockInspector, null))));
}
function RawSidebar(props) {
  const {
    toggleSettingsSidebarActiveTab
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_9__.storeName);
  const {
    activeTab,
    selectedBlockId
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => ({
    activeTab: select(_store__WEBPACK_IMPORTED_MODULE_9__.storeName).getSettingsSidebarActiveTab(),
    selectedBlockId: select(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.store).getSelectedBlockClientId()
  }), []);

  // Switch tab based on selected block.
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    if (selectedBlockId) {
      void toggleSettingsSidebarActiveTab(_store__WEBPACK_IMPORTED_MODULE_9__.mainSidebarBlockTab);
    } else {
      void toggleSettingsSidebarActiveTab(_store__WEBPACK_IMPORTED_MODULE_9__.mainSidebarDocumentTab);
    }
  }, [selectedBlockId, toggleSettingsSidebarActiveTab]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_8__.Tabs, {
    selectedTabId: activeTab || _store__WEBPACK_IMPORTED_MODULE_9__.mainSidebarDocumentTab,
    onSelect: key => {
      (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('sidebar_tab_selected', {
        tabKey: key
      });
      return toggleSettingsSidebarActiveTab(key);
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(SidebarContent, {
    ...props
  }));
}
const Sidebar = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.memo)(RawSidebar);

/***/ }),

/***/ "./src/components/sidebar/template-info.tsx":
/*!**************************************************!*\
  !*** ./src/components/sidebar/template-info.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateInfo: () => (/* binding */ TemplateInfo)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/icon/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/layout.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/more-vertical.js");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _template_revert_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./template-revert-modal */ "./src/components/sidebar/template-revert-modal.tsx");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */


function TemplateInfo() {
  const template = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getCurrentTemplate(), []);
  const [isResetConfirmOpen, setResetConfirmOpen] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useState)(false);

  // @ts-expect-error Todo template type is not defined
  const description = template?.description || '';
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Panel, {
    className: "mailpoet-email-sidebar__email-type-info"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.PanelBody, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.PanelRow, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span", {
    className: "mailpoet-email-type-info__icon"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__["default"], {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__["default"]
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-email-type-info__content"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "mailpoet-email-type-info__content_heading"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("h2", null, template?.title || (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Template', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu, {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Template actions', 'mailpoet')
  }, ({
    onClose
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.MenuItem, {
    onClick: () => {
      setResetConfirmOpen(true);
      onClose();
    },
    info: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Reset to default to clear all customizations', 'mailpoet')
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Reset', 'mailpoet')))), description && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, description || ''), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Edit this template to be used across multiple emails.', 'mailpoet')))))), isResetConfirmOpen && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_template_revert_modal__WEBPACK_IMPORTED_MODULE_9__.TemplateRevertModal, {
    close: () => {
      setResetConfirmOpen(false);
    }
  }));
}

/***/ }),

/***/ "./src/components/sidebar/template-revert-modal.tsx":
/*!**********************************************************!*\
  !*** ./src/components/sidebar/template-revert-modal.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateRevertModal: () => (/* binding */ TemplateRevertModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");

/**
 * External dependencies
 */




/**
 * Internal dependencies
 */

function TemplateRevertModal({
  close
}) {
  const template = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).getCurrentTemplate(), []);
  const {
    revertAndSaveTemplate
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useDispatch)(_store__WEBPACK_IMPORTED_MODULE_4__.storeName);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Modal, {
    size: "medium",
    onRequestClose: close,
    __experimentalHideHeader: true
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('This will clear ANY and ALL template customization. All updates made to the template will be lost. Do you want to proceed?', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Flex, {
    justify: 'end'
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    variant: "tertiary",
    onClick: close
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Cancel', 'mailpoet'))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Button, {
    variant: "primary",
    onClick: async () => {
      await revertAndSaveTemplate(template);
      close();
    }
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Reset', 'mailpoet')))));
}

/***/ }),

/***/ "./src/components/sidebar/template-settings.tsx":
/*!******************************************************!*\
  !*** ./src/components/sidebar/template-settings.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateSettings: () => (/* binding */ TemplateSettings)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _template_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template-info */ "./src/components/sidebar/template-info.tsx");

/**
 * External dependencies
 */


/**
 * Internal dependencies
 */

function TemplateSettings() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Panel, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_template_info__WEBPACK_IMPORTED_MODULE_2__.TemplateInfo, null));
}

/***/ }),

/***/ "./src/components/styles-sidebar/panels/dimensions-panel.tsx":
/*!*******************************************************************!*\
  !*** ./src/components/styles-sidebar/panels/dimensions-panel.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DimensionsPanel: () => (/* binding */ DimensionsPanel)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks */ "./src/hooks/use-email-styles.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */



// eslint-disable-next-line


/**
 * Internal dependencies
 */


function DimensionsPanel() {
  const [availableUnits] = (0,_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.useSettings)('spacing.units');
  const units = (0,_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalUseCustomUnits)({
    availableUnits
  });
  const {
    styles,
    defaultStyles,
    updateStyleProp
  } = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useEmailStyles)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalToolsPanel, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Dimensions', 'mailpoet'),
    resetAll: () => {
      updateStyleProp(['spacing'], defaultStyles.spacing);
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('styles_sidebar_screen_layout_dimensions_reset_all_selected');
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalToolsPanelItem, {
    isShownByDefault: true,
    hasValue: () => !(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(styles.spacing.padding, defaultStyles.spacing.padding),
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Padding', 'mailpoet'),
    onDeselect: () => {
      updateStyleProp(['spacing', 'padding'], defaultStyles.spacing.padding);
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('styles_sidebar_screen_layout_dimensions_padding_reset_clicked');
    },
    className: "tools-panel-item-spacing"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.__experimentalSpacingSizesControl, {
    allowReset: true,
    values: styles.spacing.padding,
    onChange: value => {
      updateStyleProp(['spacing', 'padding'], value);
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.debouncedRecordEvent)('styles_sidebar_screen_layout_dimensions_padding_updated', {
        value
      });
    },
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Padding', 'mailpoet'),
    sides: ['horizontal', 'vertical', 'top', 'left', 'right', 'bottom'],
    units: units
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalToolsPanelItem, {
    isShownByDefault: true,
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Block spacing', 'mailpoet'),
    hasValue: () => styles.spacing.blockGap !== defaultStyles.spacing.blockGap,
    onDeselect: () => {
      updateStyleProp(['spacing', 'blockGap'], defaultStyles.spacing.blockGap);
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('styles_sidebar_screen_layout_dimensions_block_spacing_reset_clicked');
    },
    className: "tools-panel-item-spacing"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.__experimentalSpacingSizesControl, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Block spacing', 'mailpoet'),
    min: 0,
    onChange: value => {
      updateStyleProp(['spacing', 'blockGap'], value.top);
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.debouncedRecordEvent)('styles_sidebar_screen_layout_dimensions_block_spacing_updated', {
        value
      });
    },
    showSideInLabel: false,
    sides: ['top'] // Use 'top' as the shorthand property in non-axial configurations.
    ,
    values: {
      top: styles.spacing.blockGap
    },
    allowReset: true
  })));
}

/***/ }),

/***/ "./src/components/styles-sidebar/panels/typography-element-panel.tsx":
/*!***************************************************************************!*\
  !*** ./src/components/styles-sidebar/panels/typography-element-panel.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_CONTROLS: () => (/* binding */ DEFAULT_CONTROLS),
/* harmony export */   TypographyElementPanel: () => (/* binding */ TypographyElementPanel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks */ "./src/hooks/use-email-styles.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ "./src/components/styles-sidebar/utils.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */



// eslint-disable-next-line


/**
 * Internal dependencies
 */



const DEFAULT_CONTROLS = {
  fontFamily: true,
  fontSize: true,
  fontAppearance: true,
  lineHeight: true,
  letterSpacing: false,
  textTransform: false,
  textDecoration: false,
  writingMode: true,
  textColumns: true
};
function TypographyElementPanel({
  element,
  headingLevel,
  defaultControls = DEFAULT_CONTROLS
}) {
  const [fontSizes, blockLevelFontFamilies] = (0,_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.useSettings)('typography.fontSizes', 'typography.fontFamilies');

  // Ref: https://github.com/WordPress/gutenberg/issues/59778
  const fontFamilies = blockLevelFontFamilies?.default || [];
  const {
    styles,
    defaultStyles,
    updateStyleProp
  } = (0,_hooks__WEBPACK_IMPORTED_MODULE_5__.useEmailStyles)();
  const elementStyles = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getElementStyles)(styles, element, headingLevel);
  const defaultElementStyles = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.getElementStyles)(defaultStyles, element, headingLevel);
  const {
    fontFamily,
    fontSize,
    fontStyle,
    fontWeight,
    lineHeight,
    letterSpacing,
    textDecoration,
    textTransform
  } = elementStyles.typography;
  const {
    fontFamily: defaultFontFamily,
    fontSize: defaultFontSize,
    fontStyle: defaultFontStyle,
    fontWeight: defaultFontWeight,
    lineHeight: defaultLineHeight,
    letterSpacing: defaultLetterSpacing,
    textDecoration: defaultTextDecoration,
    textTransform: defaultTextTransform
  } = defaultElementStyles.typography;
  const hasFontFamily = () => fontFamily !== defaultFontFamily;
  const hasFontSize = () => fontSize !== defaultFontSize;
  const hasFontAppearance = () => fontWeight !== defaultFontWeight || fontStyle !== defaultFontStyle;
  const hasLineHeight = () => lineHeight !== defaultLineHeight;
  const hasLetterSpacing = () => letterSpacing !== defaultLetterSpacing;
  const hasTextDecoration = () => textDecoration !== defaultTextDecoration;
  const hasTextTransform = () => textTransform !== defaultTextTransform;
  const showToolFontSize = element !== 'heading' || headingLevel !== 'heading';
  const updateElementStyleProp = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path, newValue) => {
    if (element === 'heading') {
      updateStyleProp(['elements', headingLevel, ...path], newValue);
    } else if (element === 'text') {
      updateStyleProp([...path], newValue);
    } else {
      updateStyleProp(['elements', element, ...path], newValue);
    }
  }, [element, updateStyleProp, headingLevel]);
  const setLetterSpacing = newValue => {
    updateElementStyleProp(['typography', 'letterSpacing'], newValue);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.debouncedRecordEvent)('styles_sidebar_screen_typography_element_panel_set_letter_spacing', {
      element,
      newValue,
      selectedDefaultLetterSpacing: newValue === defaultLetterSpacing
    });
  };
  const setLineHeight = newValue => {
    updateElementStyleProp(['typography', 'lineHeight'], newValue);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.debouncedRecordEvent)('styles_sidebar_screen_typography_element_panel_set_line_height', {
      element,
      newValue,
      selectedDefaultLineHeight: newValue === defaultLineHeight
    });
  };
  const setFontSize = newValue => {
    updateElementStyleProp(['typography', 'fontSize'], newValue);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.debouncedRecordEvent)('styles_sidebar_screen_typography_element_panel_set_font_size', {
      element,
      headingLevel,
      newValue,
      selectedDefaultFontSize: newValue === defaultFontSize
    });
  };
  const setFontFamily = newValue => {
    updateElementStyleProp(['typography', 'fontFamily'], newValue);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.debouncedRecordEvent)('styles_sidebar_screen_typography_element_panel_set_font_family', {
      element,
      newValue,
      selectedDefaultFontFamily: newValue === defaultFontFamily
    });
  };
  const setTextDecoration = newValue => {
    updateElementStyleProp(['typography', 'textDecoration'], newValue);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.debouncedRecordEvent)('styles_sidebar_screen_typography_element_panel_set_text_decoration', {
      element,
      newValue,
      selectedDefaultTextDecoration: newValue === defaultTextDecoration
    });
  };
  const setTextTransform = newValue => {
    updateElementStyleProp(['typography', 'textTransform'], newValue);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.debouncedRecordEvent)('styles_sidebar_screen_typography_element_panel_set_text_transform', {
      element,
      newValue,
      selectedDefaultTextTransform: newValue === defaultTextTransform
    });
  };
  const setFontAppearance = ({
    fontStyle: newFontStyle,
    fontWeight: newFontWeight
  }) => {
    updateElementStyleProp(['typography', 'fontStyle'], newFontStyle);
    updateElementStyleProp(['typography', 'fontWeight'], newFontWeight);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.debouncedRecordEvent)('styles_sidebar_screen_typography_element_panel_set_font_appearance', {
      element,
      newFontStyle,
      newFontWeight,
      selectedDefaultFontStyle: newFontStyle === defaultFontStyle,
      selectedDefaultFontWeight: newFontWeight === defaultFontWeight
    });
  };
  const resetAll = () => {
    updateElementStyleProp(['typography'], defaultElementStyles.typography);
    (0,_events__WEBPACK_IMPORTED_MODULE_7__.recordEvent)('styles_sidebar_screen_typography_element_panel_reset_all_styles_selected', {
      element,
      headingLevel
    });
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanel, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Typography', 'mailpoet'),
    resetAll: resetAll
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanelItem, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Font family', 'mailpoet'),
    hasValue: hasFontFamily,
    onDeselect: () => setFontFamily(defaultFontFamily),
    isShownByDefault: defaultControls.fontFamily
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.__experimentalFontFamilyControl, {
    value: fontFamily,
    onChange: setFontFamily,
    size: "__unstable-large",
    fontFamilies: fontFamilies,
    __nextHasNoMarginBottom: true
  })), showToolFontSize && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanelItem, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Font size', 'mailpoet'),
    hasValue: hasFontSize,
    onDeselect: () => setFontSize(defaultFontSize),
    isShownByDefault: defaultControls.fontSize
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.FontSizePicker, {
    value: fontSize,
    onChange: setFontSize,
    fontSizes: fontSizes,
    disableCustomFontSizes: false,
    withReset: false,
    withSlider: true,
    size: "__unstable-large",
    __nextHasNoMarginBottom: true
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanelItem, {
    className: "single-column",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Appearance', 'mailpoet'),
    hasValue: hasFontAppearance,
    onDeselect: () => {
      setFontAppearance({
        fontStyle: defaultFontStyle,
        fontWeight: defaultFontWeight
      });
    },
    isShownByDefault: defaultControls.fontAppearance
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.__experimentalFontAppearanceControl, {
    value: {
      fontStyle,
      fontWeight
    },
    onChange: setFontAppearance,
    hasFontStyles: true,
    hasFontWeights: true,
    size: "__unstable-large"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanelItem, {
    className: "single-column",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Line height', 'mailpoet'),
    hasValue: hasLineHeight,
    onDeselect: () => setLineHeight(defaultLineHeight),
    isShownByDefault: defaultControls.lineHeight
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.LineHeightControl, {
    __nextHasNoMarginBottom: true,
    __unstableInputWidth: "auto",
    value: lineHeight,
    onChange: setLineHeight,
    size: "__unstable-large"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanelItem, {
    className: "single-column",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Letter spacing', 'mailpoet'),
    hasValue: hasLetterSpacing,
    onDeselect: () => setLetterSpacing(defaultLetterSpacing),
    isShownByDefault: defaultControls.letterSpacing
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.__experimentalLetterSpacingControl, {
    value: letterSpacing,
    onChange: setLetterSpacing,
    size: "__unstable-large",
    __unstableInputWidth: "auto"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanelItem, {
    className: "single-column",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Text decoration', 'mailpoet'),
    hasValue: hasTextDecoration,
    onDeselect: () => setTextDecoration(defaultTextDecoration),
    isShownByDefault: defaultControls.textDecoration
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.__experimentalTextDecorationControl, {
    value: textDecoration,
    onChange: setTextDecoration,
    size: "__unstable-large",
    __unstableInputWidth: "auto"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToolsPanelItem, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Letter case', 'mailpoet'),
    hasValue: hasTextTransform,
    onDeselect: () => setTextTransform(defaultTextTransform),
    isShownByDefault: defaultControls.textTransform
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_4__.__experimentalTextTransformControl, {
    value: textTransform,
    onChange: setTextTransform,
    showNone: true,
    isBlock: true,
    size: "__unstable-large",
    __nextHasNoMarginBottom: true
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TypographyElementPanel);

/***/ }),

/***/ "./src/components/styles-sidebar/panels/typography-panel.tsx":
/*!*******************************************************************!*\
  !*** ./src/components/styles-sidebar/panels/typography-panel.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TypographyPanel: () => (/* binding */ TypographyPanel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks */ "./src/hooks/use-email-styles.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./src/components/styles-sidebar/utils.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */



/**
 * Internal dependencies
 */



function ElementItem({
  element,
  label
}) {
  const {
    styles
  } = (0,_hooks__WEBPACK_IMPORTED_MODULE_3__.useEmailStyles)();
  const elementStyles = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getElementStyles)(styles, element, null, true);
  const {
    fontFamily,
    fontStyle,
    fontWeight,
    letterSpacing,
    textDecoration,
    textTransform
  } = elementStyles.typography;
  const textColor = elementStyles.color?.text || 'inherit';
  const background = elementStyles.color?.background || '#f0f0f0';
  const navigationButtonLabel = (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.sprintf)(
  // translators: %s: is a subset of Typography, e.g., 'text' or 'links'.
  (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Typography %s styles', 'mailpoet'), label);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalNavigatorButton, {
    path: `/typography/${element}`,
    "aria-label": navigationButtonLabel,
    onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('styles_sidebar_screen_typography_button_click', {
      element,
      label,
      path: `typography/${element}`
    })
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHStack, {
    justify: "flex-start"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, {
    className: "edit-site-global-styles-screen-typography__indicator",
    style: {
      fontFamily: fontFamily !== null && fontFamily !== void 0 ? fontFamily : 'serif',
      background,
      color: textColor,
      fontStyle: fontStyle !== null && fontStyle !== void 0 ? fontStyle : 'normal',
      fontWeight: fontWeight !== null && fontWeight !== void 0 ? fontWeight : 'normal',
      letterSpacing: letterSpacing !== null && letterSpacing !== void 0 ? letterSpacing : 'normal',
      textDecoration: textDecoration !== null && textDecoration !== void 0 ? textDecoration : element === 'link' ? 'underline' : 'none',
      textTransform: textTransform !== null && textTransform !== void 0 ? textTransform : 'none'
    }
  }, "Aa"), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, label))));
}
function TypographyPanel() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Card, {
    size: "small",
    variant: "primary",
    isBorderless: true
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.CardBody, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalVStack, {
    spacing: 3
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHeading, {
    level: 3,
    className: "edit-site-global-styles-subtitle"
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Elements', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalItemGroup, {
    isBordered: true,
    isSeparated: true,
    size: "small"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ElementItem, {
    element: "text",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Text', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ElementItem, {
    element: "link",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Links', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ElementItem, {
    element: "heading",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Headings', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ElementItem, {
    element: "button",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Buttons', 'mailpoet')
  })))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TypographyPanel);

/***/ }),

/***/ "./src/components/styles-sidebar/previews/typography-preview.tsx":
/*!***********************************************************************!*\
  !*** ./src/components/styles-sidebar/previews/typography-preview.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ TypographyPreview)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../hooks */ "./src/hooks/use-email-styles.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./src/components/styles-sidebar/utils.ts");

/**
 * Internal dependencies
 */


function TypographyPreview({
  element,
  headingLevel
}) {
  const {
    styles
  } = (0,_hooks__WEBPACK_IMPORTED_MODULE_1__.useEmailStyles)();
  const elementStyles = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getElementStyles)(styles, element, headingLevel, true);
  const {
    fontFamily,
    fontSize,
    fontStyle,
    fontWeight,
    lineHeight,
    letterSpacing,
    textDecoration,
    textTransform
  } = elementStyles.typography;
  const textColor = elementStyles.color?.text || 'inherit';
  const background = elementStyles.color?.background || '#f0f0f0';
  const extraStyles = element === 'link' ? {
    textDecoration: textDecoration !== null && textDecoration !== void 0 ? textDecoration : 'underline'
  } : {};
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "edit-site-typography-preview",
    style: {
      fontFamily: fontFamily !== null && fontFamily !== void 0 ? fontFamily : 'serif',
      background,
      color: textColor,
      lineHeight,
      fontSize,
      fontStyle,
      fontWeight,
      letterSpacing,
      textDecoration,
      textTransform,
      ...extraStyles
    }
  }, "Aa");
}

/***/ }),

/***/ "./src/components/styles-sidebar/screens/preview.tsx":
/*!***********************************************************!*\
  !*** ./src/components/styles-sidebar/screens/preview.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Preview: () => (/* binding */ Preview)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../store */ "./src/store/constants.ts");

/**
 * External dependencies
 */




/**
 * Internal dependencies
 */

const firstFrame = {
  start: {
    scale: 1,
    opacity: 1
  },
  hover: {
    scale: 0,
    opacity: 0
  }
};
const midFrame = {
  hover: {
    opacity: 1
  },
  start: {
    opacity: 0.5
  }
};
const secondFrame = {
  hover: {
    scale: 1,
    opacity: 1
  },
  start: {
    scale: 0,
    opacity: 0
  }
};
const normalizedHeight = 152;
const normalizedColorSwatchSize = 32;
/**
 * Component to render the styles preview based on the component from the site editor:
 * https://github.com/WordPress/gutenberg/blob/trunk/packages/edit-site/src/components/global-styles/preview.js
 * @param root0
 * @param root0.label
 * @param root0.isFocused
 * @param root0.withHoverView
 */
function Preview({
  label,
  isFocused,
  withHoverView
}) {
  const {
    styles,
    colors
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => ({
    styles: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).getStyles(),
    colors: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).getPaletteColors()
  }), []);
  const backgroundColor = styles?.color?.background || '#ffffff';
  const headingFontFamily = styles?.elements?.heading?.typography?.fontFamily || 'inherit';
  const headingColor = styles?.elements?.heading?.color?.text || 'inherit';
  const headingFontWeight = styles?.elements?.heading?.typography?.fontWeight || 'inherit';
  const paletteColors = colors.theme.concat(colors.theme);

  // https://github.com/WordPress/gutenberg/blob/7fa03fafeb421ab4c3604564211ce6007cc38e84/packages/edit-site/src/components/global-styles/hooks.js#L68-L73
  const highlightedColors = paletteColors.filter(({
    color
  }) => color.toLowerCase() !== backgroundColor.toLowerCase() && color.toLowerCase() !== headingColor.toLowerCase()).slice(0, 2);
  const ratio = 1;
  // When is set label, the preview animates the hover state and displays the label
  const [isHovered, setIsHovered] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    onMouseEnter: () => setIsHovered(true),
    onMouseLeave: () => setIsHovered(false)
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__unstableMotion.div, {
    style: {
      height: normalizedHeight * ratio,
      width: '100%',
      background: backgroundColor,
      cursor: withHoverView ? 'pointer' : undefined
    },
    initial: "start",
    animate: (isHovered || isFocused) && label ? 'hover' : 'start'
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__unstableMotion.div, {
    variants: firstFrame,
    style: {
      height: '100%',
      overflow: 'hidden'
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalHStack, {
    spacing: 10 * ratio,
    justify: "center",
    style: {
      height: '100%',
      overflow: 'hidden'
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__unstableMotion.div, {
    style: {
      fontFamily: headingFontFamily,
      fontSize: 65 * ratio,
      color: headingColor,
      fontWeight: headingFontWeight
    },
    animate: {
      scale: 1,
      opacity: 1
    },
    initial: {
      scale: 0.1,
      opacity: 0
    },
    transition: {
      delay: 0.3,
      type: 'tween'
    }
  }, "Aa"), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalVStack, {
    spacing: 4 * ratio
  }, highlightedColors.map(({
    slug,
    color
  }, index) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__unstableMotion.div, {
    key: slug,
    style: {
      height: normalizedColorSwatchSize * ratio,
      width: normalizedColorSwatchSize * ratio,
      background: color,
      borderRadius: normalizedColorSwatchSize * ratio / 2
    },
    animate: {
      scale: 1,
      opacity: 1
    },
    initial: {
      scale: 0.1,
      opacity: 0
    },
    transition: {
      delay: index === 1 ? 0.2 : 0.1
    }
  }))))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__unstableMotion.div, {
    variants: withHoverView && midFrame,
    style: {
      height: '100%',
      width: '100%',
      position: 'absolute',
      top: 0,
      overflow: 'hidden',
      filter: 'blur(60px)',
      opacity: 0.1
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalHStack, {
    spacing: 0,
    justify: "flex-start",
    style: {
      height: '100%',
      overflow: 'hidden'
    }
  }, paletteColors.slice(0, 4).map(({
    color
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    key: color,
    style: {
      height: '100%',
      background: color,
      flexGrow: 1
    }
  })))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__unstableMotion.div, {
    variants: secondFrame,
    style: {
      height: '100%',
      width: '100%',
      overflow: 'hidden',
      position: 'absolute',
      top: 0
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalVStack, {
    spacing: 3 * ratio,
    justify: "center",
    style: {
      height: '100%',
      overflow: 'hidden',
      padding: 10 * ratio,
      boxSizing: 'border-box'
    }
  }, label && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    style: {
      fontSize: 40 * ratio,
      fontFamily: headingFontFamily,
      color: headingColor,
      fontWeight: headingFontWeight,
      lineHeight: '1em',
      textAlign: 'center'
    }
  }, label)))));
}

/***/ }),

/***/ "./src/components/styles-sidebar/screens/screen-colors.tsx":
/*!*****************************************************************!*\
  !*** ./src/components/styles-sidebar/screens/screen-colors.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenColors: () => (/* binding */ ScreenColors)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _screen_header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./screen-header */ "./src/components/styles-sidebar/screens/screen-header.tsx");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../hooks */ "./src/hooks/use-email-styles.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../store */ "./src/store/constants.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");
/* harmony import */ var _private_apis__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../private-apis */ "./src/private-apis/index.ts");

/**
 * External dependencies
 */



/**
 * Internal dependencies
 */





function ScreenColors() {
  (0,_events__WEBPACK_IMPORTED_MODULE_3__.recordEventOnce)('styles_sidebar_screen_colors_opened');
  const {
    userStyles,
    styles,
    updateStyles
  } = (0,_hooks__WEBPACK_IMPORTED_MODULE_4__.useEmailStyles)();
  const theme = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => select(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getTheme(), []);
  const handleOnChange = newStyles => {
    updateStyles(newStyles);
    (0,_events__WEBPACK_IMPORTED_MODULE_3__.recordEvent)('styles_sidebar_screen_colors_styles_updated'); // We can't log the updated color here because the onChange function returns the complete object.
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screen_header__WEBPACK_IMPORTED_MODULE_6__["default"], {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Colors', 'mailpoet'),
    description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Manage palettes and the default color of different global elements.', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_private_apis__WEBPACK_IMPORTED_MODULE_7__.StylesColorPanel, {
    value: userStyles,
    inheritedValue: styles,
    onChange: handleOnChange,
    settings: theme?.settings,
    panelId: "colors"
  }));
}

/***/ }),

/***/ "./src/components/styles-sidebar/screens/screen-header.tsx":
/*!*****************************************************************!*\
  !*** ./src/components/styles-sidebar/screens/screen-header.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenHeader: () => (/* binding */ ScreenHeader),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/chevron-left.js");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);

/**
 * External dependencies
 */



/**
 * Component for displaying the screen header and optional description based on site editor component:
 * https://github.com/WordPress/gutenberg/blob/7fa03fafeb421ab4c3604564211ce6007cc38e84/packages/edit-site/src/components/global-styles/header.js
 * @param root0
 * @param root0.title
 * @param root0.description
 * @param root0.onBack
 */
function ScreenHeader({
  title,
  description,
  onBack
}) {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalVStack, {
    spacing: 0
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalView, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalSpacer, {
    marginBottom: 0,
    paddingX: 4,
    paddingY: 3
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHStack, {
    spacing: 2
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalNavigatorToParentButton, {
    style: {
      minWidth: 24,
      padding: 0
    },
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_3__["default"],
    size: "small",
    "aria-label": (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Navigate to the previous view', 'mailpoet'),
    onClick: onBack
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalSpacer, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHeading, {
    className: "mailpoet-email-editor__styles-header",
    level: 2,
    size: 13
  }, title))))), description && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", {
    className: "mailpoet-email-editor__styles-header-description"
  }, description));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScreenHeader);

/***/ }),

/***/ "./src/components/styles-sidebar/screens/screen-layout.tsx":
/*!*****************************************************************!*\
  !*** ./src/components/styles-sidebar/screens/screen-layout.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenLayout: () => (/* binding */ ScreenLayout)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _panels_dimensions_panel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../panels/dimensions-panel */ "./src/components/styles-sidebar/panels/dimensions-panel.tsx");
/* harmony import */ var _screen_header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./screen-header */ "./src/components/styles-sidebar/screens/screen-header.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */


/**
 * Internal dependencies
 */



function ScreenLayout() {
  (0,_events__WEBPACK_IMPORTED_MODULE_2__.recordEventOnce)('styles_sidebar_screen_layout_opened');
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screen_header__WEBPACK_IMPORTED_MODULE_3__.ScreenHeader, {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Layout', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_panels_dimensions_panel__WEBPACK_IMPORTED_MODULE_4__.DimensionsPanel, null));
}

/***/ }),

/***/ "./src/components/styles-sidebar/screens/screen-root.tsx":
/*!***************************************************************!*\
  !*** ./src/components/styles-sidebar/screens/screen-root.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenRoot: () => (/* binding */ ScreenRoot)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/typography.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/color.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/layout.js");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _preview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./preview */ "./src/components/styles-sidebar/screens/preview.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */




/**
 * Internal dependencies
 */


function ScreenRoot() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Card, {
    size: "small",
    className: "edit-site-global-styles-screen-root",
    variant: "primary"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.CardBody, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalVStack, {
    spacing: 4
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Card, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.CardMedia, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_preview__WEBPACK_IMPORTED_MODULE_3__.Preview, null))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalItemGroup, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalNavigatorButton, {
    path: "/typography",
    onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_4__.recordEvent)('styles_sidebar_navigation_click', {
      path: 'typography'
    })
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHStack, {
    justify: "flex-start"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Icon, {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_5__["default"],
    size: 24
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Typography', 'mailpoet'))))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalNavigatorButton, {
    path: "/colors",
    onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_4__.recordEvent)('styles_sidebar_navigation_click', {
      path: 'colors'
    })
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHStack, {
    justify: "flex-start"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Icon, {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__["default"],
    size: 24
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Colors', 'mailpoet'))))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalNavigatorButton, {
    path: "/layout",
    onClick: () => (0,_events__WEBPACK_IMPORTED_MODULE_4__.recordEvent)('styles_sidebar_navigation_click', {
      path: 'layout'
    })
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.__experimentalHStack, {
    justify: "flex-start"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.Icon, {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__["default"],
    size: 24
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_2__.FlexItem, null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Layout', 'mailpoet')))))))));
}

/***/ }),

/***/ "./src/components/styles-sidebar/screens/screen-typography-element.tsx":
/*!*****************************************************************************!*\
  !*** ./src/components/styles-sidebar/screens/screen-typography-element.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenTypographyElement: () => (/* binding */ ScreenTypographyElement)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _panels_typography_element_panel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../panels/typography-element-panel */ "./src/components/styles-sidebar/panels/typography-element-panel.tsx");
/* harmony import */ var _previews_typography_preview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../previews/typography-preview */ "./src/components/styles-sidebar/previews/typography-preview.tsx");
/* harmony import */ var _screen_header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./screen-header */ "./src/components/styles-sidebar/screens/screen-header.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */




/**
 * Internal dependencies
 */




const PANELS = {
  text: {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Text', 'mailpoet'),
    description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Manage the fonts and typography used on text.', 'mailpoet'),
    defaultControls: _panels_typography_element_panel__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_CONTROLS
  },
  link: {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Links', 'mailpoet'),
    description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Manage the fonts and typography used on links.', 'mailpoet'),
    defaultControls: {
      ..._panels_typography_element_panel__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_CONTROLS,
      textDecoration: true
    }
  },
  heading: {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Headings', 'mailpoet'),
    description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Manage the fonts and typography used on headings.', 'mailpoet'),
    defaultControls: {
      ..._panels_typography_element_panel__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_CONTROLS,
      textTransform: true
    }
  },
  button: {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Buttons', 'mailpoet'),
    description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Manage the fonts and typography used on buttons.', 'mailpoet'),
    defaultControls: _panels_typography_element_panel__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_CONTROLS
  }
};
function ScreenTypographyElement({
  element
}) {
  (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEventOnce)('styles_sidebar_screen_typography_element_opened', {
    element
  });
  const [headingLevel, setHeadingLevel] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)('heading');
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screen_header__WEBPACK_IMPORTED_MODULE_6__["default"], {
    title: PANELS[element].title,
    description: PANELS[element].description
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalSpacer, {
    marginX: 4
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_previews_typography_preview__WEBPACK_IMPORTED_MODULE_7__["default"], {
    element: element,
    headingLevel: headingLevel
  })), element === 'heading' && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalSpacer, {
    marginX: 4,
    marginBottom: "1em"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControl, {
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Select heading level', 'mailpoet'),
    hideLabelFromVision: true,
    value: headingLevel,
    onChange: value => {
      setHeadingLevel(value.toString());
      (0,_events__WEBPACK_IMPORTED_MODULE_5__.recordEvent)('styles_sidebar_screen_typography_element_heading_level_selected', {
        value
      });
    },
    isBlock: true,
    size: "__unstable-large",
    __nextHasNoMarginBottom: true
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControlOption, {
    value: "heading",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._x)('All', 'heading levels', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControlOption, {
    value: "h1",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._x)('H1', 'Heading Level', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControlOption, {
    value: "h2",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._x)('H2', 'Heading Level', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControlOption, {
    value: "h3",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._x)('H3', 'Heading Level', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControlOption, {
    value: "h4",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._x)('H4', 'Heading Level', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControlOption, {
    value: "h5",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._x)('H5', 'Heading Level', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.__experimentalToggleGroupControlOption, {
    value: "h6",
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._x)('H6', 'Heading Level', 'mailpoet')
  }))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_panels_typography_element_panel__WEBPACK_IMPORTED_MODULE_4__["default"], {
    element: element,
    headingLevel: headingLevel,
    defaultControls: PANELS[element].defaultControls
  }));
}

/***/ }),

/***/ "./src/components/styles-sidebar/screens/screen-typography.tsx":
/*!*********************************************************************!*\
  !*** ./src/components/styles-sidebar/screens/screen-typography.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenTypography: () => (/* binding */ ScreenTypography)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _panels_typography_panel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../panels/typography-panel */ "./src/components/styles-sidebar/panels/typography-panel.tsx");
/* harmony import */ var _screen_header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./screen-header */ "./src/components/styles-sidebar/screens/screen-header.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */


/**
 * Internal dependencies
 */



function ScreenTypography() {
  (0,_events__WEBPACK_IMPORTED_MODULE_2__.recordEventOnce)('styles_sidebar_screen_typography_opened');
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screen_header__WEBPACK_IMPORTED_MODULE_3__["default"], {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Typography', 'mailpoet'),
    description: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)('Manage the typography settings for different elements.', 'mailpoet')
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_panels_typography_panel__WEBPACK_IMPORTED_MODULE_4__["default"], null));
}

/***/ }),

/***/ "./src/components/styles-sidebar/styles-sidebar.tsx":
/*!**********************************************************!*\
  !*** ./src/components/styles-sidebar/styles-sidebar.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RawStylesSidebar: () => (/* binding */ RawStylesSidebar),
/* harmony export */   StylesSidebar: () => (/* binding */ StylesSidebar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/interface */ "./node_modules/@wordpress/interface/build-module/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/styles.js");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _screens__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./screens */ "./src/components/styles-sidebar/screens/screen-root.tsx");
/* harmony import */ var _screens__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./screens */ "./src/components/styles-sidebar/screens/screen-typography.tsx");
/* harmony import */ var _screens__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./screens */ "./src/components/styles-sidebar/screens/screen-typography-element.tsx");
/* harmony import */ var _screens__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./screens */ "./src/components/styles-sidebar/screens/screen-colors.tsx");
/* harmony import */ var _screens__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./screens */ "./src/components/styles-sidebar/screens/screen-layout.tsx");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */


function RawStylesSidebar(props) {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_interface__WEBPACK_IMPORTED_MODULE_3__.ComplementaryArea, {
    identifier: _store__WEBPACK_IMPORTED_MODULE_5__.stylesSidebarId,
    className: "mailpoet-email-editor__styles-panel",
    header: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Styles', 'mailpoet'),
    closeLabel: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Close styles sidebar', 'mailpoet'),
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_6__["default"],
    scope: _store__WEBPACK_IMPORTED_MODULE_5__.storeName,
    smallScreenTitle: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('No title', 'mailpoet'),
    ...props
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorProvider, {
    initialPath: "/"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_7__.ScreenRoot, null)), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/typography"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_8__.ScreenTypography, null)), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/typography/text"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_9__.ScreenTypographyElement, {
    element: "text"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/typography/link"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_9__.ScreenTypographyElement, {
    element: "link"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/typography/heading"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_9__.ScreenTypographyElement, {
    element: "heading"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/typography/button"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_9__.ScreenTypographyElement, {
    element: "button"
  })), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/colors"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_10__.ScreenColors, null)), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.__experimentalNavigatorScreen, {
    path: "/layout"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_screens__WEBPACK_IMPORTED_MODULE_11__.ScreenLayout, null))));
}
const StylesSidebar = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.memo)(RawStylesSidebar);

/***/ }),

/***/ "./src/components/styles-sidebar/utils.ts":
/*!************************************************!*\
  !*** ./src/components/styles-sidebar/utils.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getElementStyles: () => (/* binding */ getElementStyles),
/* harmony export */   getHeadingElementStyles: () => (/* binding */ getHeadingElementStyles)
/* harmony export */ });
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! deepmerge */ "./node_modules/deepmerge/dist/cjs.js");
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(deepmerge__WEBPACK_IMPORTED_MODULE_0__);
/**
 * External dependencies
 */


/**
 * Internal dependencies
 */

const defaultStyleObject = {
  typography: {},
  color: {}
};

/**
 * Gets combined element styles for a heading element.
 *
 * If merge is true, individual styles will be merged with the heading styles.
 * This should be false in the Editor UI so heading levels state "default" in the tools UI instead of using
 * values from the parent "heading" element.
 * @param styles
 * @param headingLevel
 * @param merge
 */
const getHeadingElementStyles = (styles, headingLevel = 'heading', merge = false) => merge ? deepmerge__WEBPACK_IMPORTED_MODULE_0___default().all([defaultStyleObject, styles.elements.heading || {}, styles.elements[headingLevel] || {}]) : {
  ...defaultStyleObject,
  ...(styles.elements.heading || {}),
  ...(styles.elements[headingLevel] || {})
};
const getElementStyles = (styles, element, headingLevel = 'heading', merge = false) => {
  switch (element) {
    case 'text':
      return {
        typography: styles.typography,
        color: styles.color
      };
    case 'heading':
      return getHeadingElementStyles(styles, headingLevel !== null && headingLevel !== void 0 ? headingLevel : 'heading', merge);
    default:
      return styles.elements[element] || defaultStyleObject;
  }
};

/***/ }),

/***/ "./src/components/template-select/async.ts":
/*!*************************************************!*\
  !*** ./src/components/template-select/async.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Async: () => (/* binding */ Async)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_priority_queue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/priority-queue */ "@wordpress/priority-queue");
/* harmony import */ var _wordpress_priority_queue__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_priority_queue__WEBPACK_IMPORTED_MODULE_1__);
/**
 * External dependencies
 */

// @ts-expect-error TS7016 Could not find a declaration file for module '@wordpress/priority-queue'
 // eslint-disable-line

const blockPreviewQueue = (0,_wordpress_priority_queue__WEBPACK_IMPORTED_MODULE_1__.createQueue)();

/**
 * Renders a component at the next idle time.
 * @param {*} props
 */
function Async({
  children,
  placeholder
}) {
  const [shouldRender, setShouldRender] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(false);

  // In the future, we could try to use startTransition here, but currently
  // react will batch all transitions, which means all previews will be
  // rendered at the same time.
  // https://react.dev/reference/react/startTransition#caveats
  // > If there are multiple ongoing Transitions, React currently batches them
  // > together. This is a limitation that will likely be removed in a future
  // > release.

  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const context = {};
    blockPreviewQueue.add(context, () => {
      // Synchronously run all renders so it consumes timeRemaining.
      // See https://github.com/WordPress/gutenberg/pull/48238
      (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.flushSync)(() => {
        setShouldRender(true);
      });
    });
    return () => {
      blockPreviewQueue.cancel(context);
    };
  }, []);
  if (!shouldRender) {
    // eslint-disable-next-line @typescript-eslint/no-unsafe-return
    return placeholder;
  }

  // eslint-disable-next-line @typescript-eslint/no-unsafe-return
  return children;
}

/***/ }),

/***/ "./src/components/template-select/select-modal.tsx":
/*!*********************************************************!*\
  !*** ./src/components/template-select/select-modal.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectTemplateModal: () => (/* binding */ SelectTemplateModal)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-preview-templates.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _template_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./template-list */ "./src/components/template-select/template-list.tsx");
/* harmony import */ var _template_categories_list_sidebar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./template-categories-list-sidebar */ "./src/components/template-select/template-categories-list-sidebar.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../events */ "./src/events/event-pipeline.ts");

/**
 * External dependencies
 */






/**
 * Internal dependencies
 */





const TemplateCategories = [{
  name: 'recent',
  label: 'Recent'
}, {
  name: 'basic',
  label: 'Basic'
}];
function SelectTemplateBody({
  hasEmailPosts,
  templates,
  handleTemplateSelection,
  templateSelectMode
}) {
  const [selectedCategory, setSelectedCategory] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useState)(TemplateCategories[1].name // Show the Basic category by default
  );
  const hideRecentCategory = templateSelectMode === 'swap';
  const displayCategories = TemplateCategories.filter(({
    name
  }) => name !== 'recent' || !hideRecentCategory);
  const handleCategorySelection = category => {
    (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('template_select_modal_category_change', {
      category
    });
    setSelectedCategory(category);
  };
  (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    setTimeout(() => {
      if (hasEmailPosts && !hideRecentCategory) {
        setSelectedCategory(TemplateCategories[0].name);
      }
    }, 1000); // using setTimeout to ensure the template styles are available before block preview
  }, [hasEmailPosts, hideRecentCategory]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "block-editor-block-patterns-explorer"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_template_categories_list_sidebar__WEBPACK_IMPORTED_MODULE_7__.TemplateCategoriesListSidebar, {
    templateCategories: displayCategories,
    selectedCategory: selectedCategory,
    onClickCategory: handleCategorySelection
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_template_list__WEBPACK_IMPORTED_MODULE_8__.TemplateList, {
    templates: templates,
    onTemplateSelection: handleTemplateSelection,
    selectedCategory: selectedCategory
  }));
}
const MemorizedSelectTemplateBody = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.memo)(SelectTemplateBody);
function SelectTemplateModal({
  onSelectCallback,
  closeCallback = null,
  previewContent = ''
}) {
  const templateSelectMode = previewContent ? 'swap' : 'new';
  (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEventOnce)('template_select_modal_opened', {
    templateSelectMode
  });
  const [templates, emailPosts, hasEmailPosts] = (0,_hooks__WEBPACK_IMPORTED_MODULE_9__.usePreviewTemplates)(previewContent);
  const hasTemplates = templates?.length > 0;
  const handleTemplateSelection = template => {
    const templateIsPostContent = template.type === _store__WEBPACK_IMPORTED_MODULE_10__.editorCurrentPostType;
    const postContent = template.template;
    (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('template_select_modal_template_selected', {
      templateSlug: template.slug,
      templateSelectMode,
      templateType: template.type
    });

    // When we provide previewContent, we don't want to reset the blocks
    if (!previewContent) {
      void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.dispatch)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store).resetEditorBlocks(template.emailParsed);
    }
    void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.dispatch)(_store__WEBPACK_IMPORTED_MODULE_10__.storeName).setTemplateToPost(templateIsPostContent ? postContent.template : template.slug);
    onSelectCallback();
  };
  const handleCloseWithoutSelection = () => {
    var _templates$;
    const template = (_templates$ = templates[0]) !== null && _templates$ !== void 0 ? _templates$ : null;
    if (!template) {
      return;
    } // Prevent closing when templates are not loaded
    (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('template_select_modal_handle_close_without_template_selected');
    handleTemplateSelection(template);
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Modal, {
    title: templateSelectMode === 'new' ? (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Start with an email preset', 'mailpoet') : (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Select a template', 'mailpoet'),
    onRequestClose: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('template_select_modal_closed', {
        templateSelectMode
      });
      return closeCallback ? closeCallback() : handleCloseWithoutSelection();
    },
    isFullScreen: true
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(MemorizedSelectTemplateBody, {
    hasEmailPosts: hasEmailPosts,
    templates: [...templates, ...emailPosts],
    handleTemplateSelection: handleTemplateSelection,
    templateSelectMode: templateSelectMode
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Flex, {
    className: "email-editor-modal-footer",
    justify: "flex-end"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.FlexItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button, {
    variant: "tertiary",
    className: "email-editor-start_from_scratch_button",
    onClick: () => {
      (0,_events__WEBPACK_IMPORTED_MODULE_6__.recordEvent)('template_select_modal_start_from_scratch_clicked');
      return handleCloseWithoutSelection();
    },
    isBusy: !hasTemplates
  }, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Start from scratch', 'mailpoet')))));
}

/***/ }),

/***/ "./src/components/template-select/template-categories-list-sidebar.tsx":
/*!*****************************************************************************!*\
  !*** ./src/components/template-select/template-categories-list-sidebar.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateCategoriesListSidebar: () => (/* binding */ TemplateCategoriesListSidebar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);

/**
 * External dependencies
 */


/**
 * Internal dependencies
 */

function TemplateCategoriesListSidebar({
  selectedCategory,
  templateCategories,
  onClickCategory
}) {
  const baseClassName = 'block-editor-block-patterns-explorer__sidebar';
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: baseClassName
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: `${baseClassName}__categories-list`
  }, templateCategories.map(({
    name,
    label
  }) => {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.Button, {
      key: name,
      label: label,
      className: `${baseClassName}__categories-list__item`,
      isPressed: selectedCategory === name,
      onClick: () => {
        onClickCategory(name);
      }
    }, label);
  })));
}

/***/ }),

/***/ "./src/components/template-select/template-list.tsx":
/*!**********************************************************!*\
  !*** ./src/components/template-select/template-list.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateList: () => (/* binding */ TemplateList)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/icon/index.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/block-default.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/info.js");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _async__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./async */ "./src/components/template-select/async.ts");
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks */ "./src/hooks/use-email-css.ts");

/**
 * External dependencies
 */






// @ts-expect-error No types available for this component
// eslint-disable-next-line


/**
 * Internal dependencies
 */


function TemplateNoResults() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "block-editor-inserter__no-results"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "block-editor-inserter__no-results-icon",
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__["default"]
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('No recent templates.', 'mailpoet')), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Your recent creations will appear here as soon as you begin.', 'mailpoet')));
}
function TemplateListBox({
  templates,
  onTemplateSelection,
  selectedCategory
}) {
  const {
    layout
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.useSelect)(select => {
    const {
      getEditorSettings
    } = select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store);
    const editorSettings = getEditorSettings();
    return {
      // @ts-expect-error There are no types for the experimental features settings.
      // eslint-disable-next-line no-underscore-dangle
      layout: editorSettings.__experimentalFeatures.layout
    };
  });
  const [styles] = (0,_hooks__WEBPACK_IMPORTED_MODULE_9__.useEmailCss)();
  const css = styles.reduce((acc, style) => {
    var _style$css;
    return acc + ((_style$css = style.css) !== null && _style$css !== void 0 ? _style$css : '');
  }, '') + `.is-root-container { width: ${layout.contentSize}; margin: 0 auto; }`;
  if (selectedCategory === 'recent' && templates.length === 0) {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(TemplateNoResults, null);
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "block-editor-block-patterns-list",
    role: "listbox"
  }, templates.map(template => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    key: `${template.slug}_${template.displayName}_${template.id}`,
    className: "block-editor-block-patterns-list__list-item email-editor-pattern__list-item"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "block-editor-block-patterns-list__item",
    role: "button",
    tabIndex: 0,
    onClick: () => {
      onTemplateSelection(template);
    },
    onKeyPress: event => {
      if (event.key === 'Enter' || event.key === ' ') {
        onTemplateSelection(template);
      }
    }
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_async__WEBPACK_IMPORTED_MODULE_10__.Async, {
    placeholder: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('rendering template', 'mailpoet'))
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_6__.BlockPreview, {
    blocks: template.previewContentParsed,
    viewportWidth: 900,
    minHeight: 300,
    additionalStyles: [{
      css
    }]
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalHStack, {
    className: "block-editor-patterns__pattern-details"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("h4", {
    className: "block-editor-block-patterns-list__item-title"
  }, template.displayName)))))));
}
const compareProps = (prev, next) => prev.templates.length === next.templates.length && prev.selectedCategory === next.selectedCategory;
const MemorizedTemplateListBox = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.memo)(TemplateListBox, compareProps);
function TemplateList({
  templates,
  onTemplateSelection,
  selectedCategory
}) {
  const filteredTemplates = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => templates.filter(template => template.category === selectedCategory), [selectedCategory, templates]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "block-editor-block-patterns-explorer__list"
  }, selectedCategory === 'recent' && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
    className: "email-editor-recent-templates-info"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__.__experimentalHStack, {
    spacing: 1,
    expanded: false,
    justify: "start"
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__["default"], {
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_11__["default"]
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("p", null, (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__.__)('Templates created on the legacy editor will not appear here.', 'mailpoet')))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(MemorizedTemplateListBox, {
    templates: filteredTemplates,
    onTemplateSelection: onTemplateSelection,
    selectedCategory: selectedCategory
  }));
}

/***/ }),

/***/ "./src/components/template-select/template-selection.tsx":
/*!***************************************************************!*\
  !*** ./src/components/template-select/template-selection.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TemplateSelection: () => (/* binding */ TemplateSelection)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../store */ "./src/store/constants.ts");
/* harmony import */ var _select_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-modal */ "./src/components/template-select/select-modal.tsx");

/**
 * External dependencies
 */



/**
 * Internal dependencies
 */


function TemplateSelection() {
  const [templateSelected, setTemplateSelected] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
  const {
    emailContentIsEmpty,
    emailHasEdits
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => ({
    emailContentIsEmpty: select(_store__WEBPACK_IMPORTED_MODULE_3__.storeName).hasEmptyContent(),
    emailHasEdits: select(_store__WEBPACK_IMPORTED_MODULE_3__.storeName).hasEdits()
  }), []);
  if (!emailContentIsEmpty || emailHasEdits || templateSelected) {
    return null;
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_select_modal__WEBPACK_IMPORTED_MODULE_4__.SelectTemplateModal, {
    onSelectCallback: () => setTemplateSelected(true)
  });
}

/***/ }),

/***/ "./src/editor-hooks.ts":
/*!*****************************!*\
  !*** ./src/editor-hooks.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initHooks: () => (/* binding */ initHooks)
/* harmony export */ });
/* harmony import */ var _wordpress_media_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/media-utils */ "@wordpress/media-utils");
/* harmony import */ var _wordpress_media_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_media_utils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__);
/**
 * External dependencies
 */



const initHooks = () => {
  // see https://github.com/WordPress/gutenberg/blob/master/packages/block-editor/src/components/media-upload/README.md
  const replaceMediaUpload = () => _wordpress_media_utils__WEBPACK_IMPORTED_MODULE_0__.MediaUpload;
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__.addFilter)('editor.MediaUpload', 'mailpoet/email-editor/replace-media-upload', replaceMediaUpload);
};

/***/ }),

/***/ "./src/editor.tsx":
/*!************************!*\
  !*** ./src/editor.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initialize: () => (/* binding */ initialize)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_format_library__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/format-library */ "@wordpress/format-library");
/* harmony import */ var _wordpress_format_library__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_format_library__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _blocks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./blocks */ "./src/blocks/index.ts");
/* harmony import */ var _layouts_flex_email__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./layouts/flex-email */ "./src/layouts/flex-email.tsx");
/* harmony import */ var _components_block_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/block-editor */ "./src/components/block-editor/editor.tsx");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./store */ "./src/store/constants.ts");
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./store */ "./src/store/store.ts");
/* harmony import */ var _editor_hooks__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./editor-hooks */ "./src/editor-hooks.ts");
/* harmony import */ var _components_keybord_shortcuts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/keybord-shortcuts */ "./src/components/keybord-shortcuts/index.tsx");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./events */ "./src/events/event-collector.ts");
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.scss */ "./src/index.scss");

/**
 * External dependencies
 */



 // Enables text formatting capabilities

/**
 * Internal dependencies
 */








function Editor() {
  const {
    postId,
    settings
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => ({
    postId: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId(),
    settings: select(_store__WEBPACK_IMPORTED_MODULE_6__.storeName).getInitialEditorSettings()
  }), []);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.StrictMode, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_keybord_shortcuts__WEBPACK_IMPORTED_MODULE_7__.KeyboardShortcuts, null), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_block_editor__WEBPACK_IMPORTED_MODULE_8__.InnerEditor, {
    initialEdits: [],
    postId: postId,
    postType: _store__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType,
    settings: settings
  }));
}
const WrappedEditor = (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.applyFilters)('mailpoet_email_editor_wrap_editor_component', Editor);
function initialize(elementId) {
  const container = document.getElementById(elementId);
  if (!container) {
    return;
  }
  (0,_events__WEBPACK_IMPORTED_MODULE_9__.initEventCollector)();
  (0,_store__WEBPACK_IMPORTED_MODULE_10__.createStore)();
  (0,_layouts_flex_email__WEBPACK_IMPORTED_MODULE_11__.initializeLayout)();
  (0,_blocks__WEBPACK_IMPORTED_MODULE_12__.initBlocks)();
  (0,_editor_hooks__WEBPACK_IMPORTED_MODULE_13__.initHooks)();
  const root = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.createRoot)(container);
  root.render((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedEditor, null));
}

/***/ }),

/***/ "./src/events/event-collector.ts":
/*!***************************************!*\
  !*** ./src/events/event-collector.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initEventCollector: () => (/* binding */ initEventCollector)
/* harmony export */ });
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _event_pipeline__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-pipeline */ "./src/events/event-pipeline.ts");
/**
 * External dependencies
 */


/**
 * Internal dependencies
 */

const eventListenerHandler = eventData => {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_0__.doAction)('mailpoet_email_editor_events', eventData.detail);
};
const initEventCollector = () => {
  if (!_event_pipeline__WEBPACK_IMPORTED_MODULE_1__.isEventTrackingEnabled) {
    return;
  }
  _event_pipeline__WEBPACK_IMPORTED_MODULE_1__.dispatcher.addEventListener(_event_pipeline__WEBPACK_IMPORTED_MODULE_1__.EMAIL_STRING, eventListenerHandler);
};
window.addEventListener('unload', function () {
  if (!_event_pipeline__WEBPACK_IMPORTED_MODULE_1__.isEventTrackingEnabled) {
    return;
  }
  _event_pipeline__WEBPACK_IMPORTED_MODULE_1__.dispatcher.removeEventListener(_event_pipeline__WEBPACK_IMPORTED_MODULE_1__.EMAIL_STRING, eventListenerHandler);
});


/***/ }),

/***/ "./src/events/event-pipeline.ts":
/*!**************************************!*\
  !*** ./src/events/event-pipeline.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EMAIL_STRING: () => (/* binding */ EMAIL_STRING),
/* harmony export */   debouncedRecordEvent: () => (/* binding */ debouncedRecordEvent),
/* harmony export */   dispatcher: () => (/* binding */ dispatcher),
/* harmony export */   isEventTrackingEnabled: () => (/* binding */ isEventTrackingEnabled),
/* harmony export */   recordEvent: () => (/* binding */ recordEvent),
/* harmony export */   recordEventOnce: () => (/* binding */ recordEventOnce)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__);
/**
 * External dependencies
 */


const isEventTrackingEnabled = (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__.applyFilters)('mailpoet_email_editor_events_tracking_enabled', false);
const EMAIL_STRING = 'email_editor_events';
const dispatcher = new EventTarget();

/**
 * Record event tracking information
 * @param {string} name - event name, in format `this_is_an_event`
 * @param          data - extra properties - please use a valid JSON object
 */
const recordEvent = (name, data = {}) => {
  if (!isEventTrackingEnabled) {
    return;
  }
  const recordedData = typeof data !== 'object' ? {
    data
  } : data;
  const eventData = {
    name: `${EMAIL_STRING}_${name}`,
    ...recordedData
  };
  dispatcher.dispatchEvent(new CustomEvent(EMAIL_STRING, {
    detail: eventData
  }));
};

/**
 * Generally used for when we want to ensure the event is tracked once
 * e.g., on page render or something similar
 * Takes the exact same parameter as `recordEvent`
 */
const recordEventOnce = function () {
  const cachedEventName = {};
  return (name, data = {}) => {
    if (!isEventTrackingEnabled) {
      return;
    }
    const cacheKey = `${name}_${JSON.stringify(data).length}`; // ensure each entry is unique by name and data
    if (cachedEventName[cacheKey]) {
      return; // do not execute again
    }
    recordEvent(name, data);
    cachedEventName[cacheKey] = true;
  };
}();
const debouncedRecordEvent = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.debounce)(recordEvent, 700); // wait 700 milliseconds. The average human reaction speed time is around 250 ms, added some delay for mouse move and keyboard press



/***/ }),

/***/ "./src/hooks/use-content-validation.ts":
/*!*********************************************!*\
  !*** ./src/hooks/use-content-validation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useContentValidation: () => (/* binding */ useContentValidation)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store */ "./src/store/constants.ts");
/* harmony import */ var _use_shallow_equal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./use-shallow-equal */ "./src/hooks/use-shallow-equal.ts");
/* harmony import */ var _use_validation_notices__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-validation-notices */ "./src/hooks/use-validation-notices.ts");
/**
 * External dependencies
 */





/**
 * Internal dependencies
 */




// Shared reference to an empty array for cases where it is important to avoid
// returning a new array reference on every invocation
const EMPTY_ARRAY = [];
const useContentValidation = () => {
  const {
    addValidationNotice,
    hasValidationNotice,
    removeValidationNotice
  } = (0,_use_validation_notices__WEBPACK_IMPORTED_MODULE_4__.useValidationNotices)();
  const {
    editedContent,
    editedTemplateContent
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(mapSelect => ({
    editedContent: mapSelect(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getEditedEmailContent(),
    editedTemplateContent: mapSelect(_store__WEBPACK_IMPORTED_MODULE_5__.storeName).getCurrentTemplateContent()
  }));
  const rules = (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.applyFilters)('mailpoet_email_editor_content_validation_rules', EMPTY_ARRAY);
  const content = (0,_use_shallow_equal__WEBPACK_IMPORTED_MODULE_6__.useShallowEqual)(editedContent);
  const templateContent = (0,_use_shallow_equal__WEBPACK_IMPORTED_MODULE_6__.useShallowEqual)(editedTemplateContent);
  const validateContent = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    let isValid = true;
    rules.forEach(({
      id,
      test,
      message,
      actions
    }) => {
      // Check both content and template content for the rule.
      if (test(content + templateContent)) {
        addValidationNotice(id, message, actions);
        isValid = false;
      } else if (hasValidationNotice(id)) {
        removeValidationNotice(id);
      }
    });
    return isValid;
  }, [content, templateContent, addValidationNotice, removeValidationNotice, hasValidationNotice, rules]);

  // Subscribe to updates so notices can be dismissed once resolved.
  (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.subscribe)(() => {
    if (!hasValidationNotice()) {
      return;
    }
    validateContent();
  }, _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store);
  return {
    isInvalid: hasValidationNotice(),
    validateContent
  };
};

/***/ }),

/***/ "./src/hooks/use-editor-mode.ts":
/*!**************************************!*\
  !*** ./src/hooks/use-editor-mode.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useEditorMode: () => (/* binding */ useEditorMode)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_1__);
/**
 * External dependencies
 */


function useEditorMode() {
  const {
    isEditingTemplate
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.useSelect)(select => ({
    isEditingTemplate: select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_1__.store).getCurrentPostType() === 'wp_template'
  }), []);
  return [isEditingTemplate ? 'template' : 'email'];
}

/***/ }),

/***/ "./src/hooks/use-email-css.ts":
/*!************************************!*\
  !*** ./src/hooks/use-email-css.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useEmailCss: () => (/* binding */ useEmailCss)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! deepmerge */ "./node_modules/deepmerge/dist/cjs.js");
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(deepmerge__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store */ "./src/store/constants.ts");
/* harmony import */ var _use_user_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-user-theme */ "./src/hooks/use-user-theme.ts");
/* harmony import */ var _private_apis__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../private-apis */ "./src/private-apis/index.ts");
/**
 * External dependencies
 */




/**
 * Internal dependencies
 */



function useEmailCss() {
  const {
    userTheme
  } = (0,_use_user_theme__WEBPACK_IMPORTED_MODULE_3__.useUserTheme)();
  const {
    editorTheme
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => ({
    editorTheme: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).getTheme()
  }), []);
  const mergedConfig = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => deepmerge__WEBPACK_IMPORTED_MODULE_2___default().all([{}, editorTheme || {}, userTheme || {}]), [editorTheme, userTheme]);
  const [styles] = (0,_private_apis__WEBPACK_IMPORTED_MODULE_5__.useGlobalStylesOutputWithConfig)(mergedConfig);

  // eslint-disable-next-line @typescript-eslint/no-unsafe-return
  return [styles || []];
}

/***/ }),

/***/ "./src/hooks/use-email-styles.ts":
/*!***************************************!*\
  !*** ./src/hooks/use-email-styles.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   setImmutably: () => (/* binding */ setImmutably),
/* harmony export */   useEmailStyles: () => (/* binding */ useEmailStyles)
/* harmony export */ });
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! deepmerge */ "./node_modules/deepmerge/dist/cjs.js");
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(deepmerge__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store */ "./src/store/constants.ts");
/* harmony import */ var _use_user_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-user-theme */ "./src/hooks/use-user-theme.ts");
/**
 * External dependencies
 */




/**
 * Internal dependencies
 */


/**
 * Immutably sets a value inside an object. Like `lodash#set`, but returning a
 * new object. Treats nullish initial values as empty objects. Clones any
 * nested objects. Supports arrays, too.
 *
 * @param                       setObject
 * @param {number|string|Array} setPath   Path in the object to modify.
 * @param {*}                   value     New value to set.
 * @return {Object} Cloned object with the new value set.
 */
function setImmutably(setObject, setPath, value) {
  // Normalize path
  const path = Array.isArray(setPath) ? [...setPath] : [setPath];

  // Shallowly clone the base of the object
  const object = Array.isArray(setObject) ? [...setObject] : {
    ...setObject
  };
  const leaf = path.pop();

  // Traverse object from root to leaf, shallowly cloning at each level
  let prev = object;
  path.forEach(key => {
    const lvl = prev[key];
    prev[key] = Array.isArray(lvl) ? [...lvl] : {
      ...lvl
    };
    prev = prev[key];
  });
  prev[leaf] = value;
  return object;
}

/**
 * Shorten the variable names in the styles object. Some components need the h
 * Transforms variables like var(--wp--preset--spacing--10) to var:preset|spacing|10
 *
 * @param {Object} obj The object to shorten the variable names in.
 * @return {Object} The object with the shortened variable names.
 */
function shortenWpPresetVariables(obj) {
  // Helper function to replace the variable string
  const replaceVariable = value => {
    return value.replace(/var\(--([a-z]+)--([a-z]+(?:--[a-z0-9]+(?:-[a-z0-9]+)*)*)--([a-z0-9-]+)\)/g, (_match, _prefix, group1, group2) => {
      const groups = group1.split('--').concat(group2);
      return `var:${groups.join('|')}`;
    });
  };

  // Recursive function to traverse the object
  const traverse = current => {
    if (typeof current === 'object' && current !== null) {
      for (const key in current) {
        if (current.hasOwnProperty(key)) {
          current[key] = traverse(current[key]);
        }
      }
    } else if (typeof current === 'string') {
      return replaceVariable(current);
    }
    return current;
  };
  return traverse(obj);
}

/**
 * Remove empty arrays and keys with undefined values from an object.
 * Empty values causes issues with deepmerge, because it can overwrite default value we provide in base email theme.
 *
 * @param {Object} obj The object to clean.
 * @return {Object} The cleaned object.
 */
function cleanupUserStyles(obj) {
  const cleanObject = current => {
    if (typeof current === 'object' && current !== null || current === undefined) {
      if (Array.isArray(current) && current.length === 0) {
        return undefined; // Remove empty arrays
      }
      for (const key in current) {
        if (current.hasOwnProperty(key)) {
          const cleanedValue = cleanObject(current[key]);
          if (cleanedValue === undefined) {
            delete current[key]; // Remove keys with undefined values
          } else {
            current[key] = cleanedValue;
          }
        }
      }
    }
    return current;
  };
  return cleanObject(obj);
}
const useEmailStyles = () => {
  // const { templateTheme, updateTemplateTheme } = useEmailTheme();
  const {
    userTheme,
    updateUserTheme
  } = (0,_use_user_theme__WEBPACK_IMPORTED_MODULE_3__.useUserTheme)();

  // This is email level styling stored in post meta.
  const styles = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => cleanupUserStyles(shortenWpPresetVariables(userTheme?.styles)), [userTheme]);

  // Default styles from theme.json.
  const {
    styles: defaultStyles
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => ({
    styles: select(_store__WEBPACK_IMPORTED_MODULE_4__.storeName).getStyles()
  }));

  // Update email styles.
  const updateStyles = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useCallback)(newStyles => {
    const newTheme = {
      ...userTheme,
      styles: cleanupUserStyles(newStyles)
    };
    updateUserTheme(newTheme);
  }, [updateUserTheme, userTheme]);

  // Update an email style prop.
  const updateStyleProp = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useCallback)((path, newValue) => {
    const newTheme = setImmutably(userTheme, ['styles', ...path], newValue);
    updateUserTheme(newTheme);
  }, [updateUserTheme, userTheme]);
  return {
    styles: deepmerge__WEBPACK_IMPORTED_MODULE_0___default().all([defaultStyles || {}, styles || {}]),
    // Merged styles
    userStyles: userTheme?.styles,
    // Styles defined by user
    defaultStyles,
    // Default styles from editors theme.json
    updateStyleProp,
    updateStyles
  };
};

/***/ }),

/***/ "./src/hooks/use-navigate-to-entity-record.js":
/*!****************************************************!*\
  !*** ./src/hooks/use-navigate-to-entity-record.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useNavigateToEntityRecord: () => (/* binding */ useNavigateToEntityRecord)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__);
/**
 * External dependencies
 */




/**
 * A hook that records the 'entity' history in the post editor as a user
 * navigates between editing a post and editing the post template or patterns.
 *
 * Implemented as a stack, so a little similar to the browser history API.
 *
 * Used to control displaying UI elements like the back button.
 *
 * @param {number} initialPostId        The post id of the post when the editor loaded.
 * @param {string} initialPostType      The post type of the post when the editor loaded.
 * @param {string} defaultRenderingMode The rendering mode to switch to when navigating.
 *
 * @return {Object} An object containing the `currentPost` variable and
 *                 `onNavigateToEntityRecord` and `onNavigateToPreviousEntityRecord` functions.
 */
function useNavigateToEntityRecord(initialPostId, initialPostType, defaultRenderingMode) {
  const [postHistory, dispatch] = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useReducer)((historyState, {
    type,
    post,
    previousRenderingMode
  }) => {
    if (type === 'push') {
      return [...historyState, {
        post,
        previousRenderingMode
      }];
    }
    if (type === 'pop') {
      // Try to leave one item in the history.
      if (historyState.length > 1) {
        return historyState.slice(0, -1);
      }
    }
    return historyState;
  }, [{
    post: {
      postId: initialPostId,
      postType: initialPostType
    }
  }]);
  const {
    post,
    previousRenderingMode
  } = postHistory[postHistory.length - 1];
  const {
    getRenderingMode
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store);
  const {
    setRenderingMode
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(_wordpress_editor__WEBPACK_IMPORTED_MODULE_2__.store);
  const onNavigateToEntityRecord = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)(params => {
    dispatch({
      type: 'push',
      post: {
        postId: params.postId,
        postType: params.postType
      },
      // Save the current rendering mode so we can restore it when navigating back.
      previousRenderingMode: getRenderingMode()
    });
    setRenderingMode(defaultRenderingMode);
  }, [getRenderingMode, setRenderingMode, defaultRenderingMode]);
  const onNavigateToPreviousEntityRecord = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    dispatch({
      type: 'pop'
    });
    if (previousRenderingMode) {
      setRenderingMode(previousRenderingMode);
    }
  }, [setRenderingMode, previousRenderingMode]);
  return {
    currentPost: post,
    onNavigateToEntityRecord,
    onNavigateToPreviousEntityRecord: postHistory.length > 1 ? onNavigateToPreviousEntityRecord : undefined
  };
}

/***/ }),

/***/ "./src/hooks/use-preview-templates.ts":
/*!********************************************!*\
  !*** ./src/hooks/use-preview-templates.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   usePreviewTemplates: () => (/* binding */ usePreviewTemplates)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/blocks */ "@wordpress/blocks");
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store */ "./src/store/constants.ts");
/**
 * External dependencies
 */




/**
 * Internal dependencies
 */


// Shared reference to an empty array for cases where it is important to avoid
// returning a new array reference on every invocation
const EMPTY_ARRAY = [];

/**
 * We need to merge pattern blocks and template blocks for BlockPreview component.
 * @param templateBlocks - Parsed template blocks
 * @param innerBlocks    - Blocks to be set as content blocks for the template preview
 */
function setPostContentInnerBlocks(templateBlocks, innerBlocks) {
  return templateBlocks.map(block => {
    if (block.name === 'core/post-content') {
      return {
        ...block,
        name: 'core/group',
        // Change the name to group to render the innerBlocks
        innerBlocks
      };
    }
    if (block.innerBlocks?.length) {
      return {
        ...block,
        innerBlocks: setPostContentInnerBlocks(block.innerBlocks, innerBlocks)
      };
    }
    return block;
  });
}
const InternalTemplateCache = {};
/**
 * @param post
 * @param allTemplates
 */
function generateTemplateContent(post, allTemplates = []) {
  const contentTemplate = post.template;
  const defaultReturnObject = {
    postTemplateContent: null
  };
  if (!contentTemplate) {
    return defaultReturnObject;
  }
  if (InternalTemplateCache[contentTemplate]) {
    return InternalTemplateCache[contentTemplate];
  }
  const postTemplate = allTemplates.find(template => template.slug === contentTemplate);
  if (!postTemplate) {
    return defaultReturnObject;
  }
  const templateContent = {
    postTemplateContent: postTemplate?.template
  };
  InternalTemplateCache[contentTemplate] = templateContent;
  return templateContent;
}
function usePreviewTemplates(customEmailContent = '') {
  const {
    templates,
    patterns,
    emailPosts,
    hasEmailPosts
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.useSelect)(select => {
    const rawEmailPosts = select(_store__WEBPACK_IMPORTED_MODULE_3__.storeName).getSentEmailEditorPosts();
    return {
      templates: select(_store__WEBPACK_IMPORTED_MODULE_3__.storeName).getEmailTemplates(),
      patterns: select(_store__WEBPACK_IMPORTED_MODULE_3__.storeName).getBlockPatternsForEmailTemplate(),
      emailPosts: rawEmailPosts,
      hasEmailPosts: !!(rawEmailPosts && rawEmailPosts?.length)
    };
  }, []);
  const allTemplates = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    let contentPatterns = [];
    const parsedCustomEmailContent = customEmailContent && (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__.parse)(customEmailContent);

    // If there is a custom email content passed from outside we use it as email content for preview
    // otherwise generate one preview per template and pattern
    if (parsedCustomEmailContent) {
      contentPatterns = [{
        blocks: parsedCustomEmailContent
      }];
    } else {
      contentPatterns = patterns;
    }
    if (!contentPatterns || !templates) {
      return EMPTY_ARRAY;
    }
    const templateToPreview = [];
    // We don't want to show the blank template in the list
    templates?.filter(template => template.slug !== 'email-general')?.forEach(template => {
      contentPatterns?.forEach(contentPattern => {
        let parsedTemplate = (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__.parse)(template.content?.raw);
        parsedTemplate = setPostContentInnerBlocks(parsedTemplate, contentPattern.blocks);
        templateToPreview.push({
          id: template.id,
          slug: template.slug,
          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
          previewContentParsed: parsedTemplate,
          emailParsed: contentPattern.blocks,
          template,
          category: 'basic',
          // TODO: This will be updated once template category is implemented
          type: template.type,
          displayName: contentPattern.title ? `${template.title.rendered} - ${contentPattern.title}` : template.title.rendered
        });
      });
    });
    return templateToPreview;
  }, [templates, patterns, customEmailContent]);
  const allEmailPosts = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return emailPosts?.map(post => {
      const {
        postTemplateContent
      } = generateTemplateContent(post, allTemplates);
      const parsedPostContent = (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__.parse)(post.content?.raw);
      let parsedPostContentWithTemplate = parsedPostContent;
      if (postTemplateContent?.content?.raw) {
        parsedPostContentWithTemplate = setPostContentInnerBlocks((0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__.parse)(postTemplateContent?.content?.raw), parsedPostContent);
      }
      const template = {
        ...post,
        title: {
          raw: post?.mailpoet_data?.subject || post.title.raw,
          rendered: post?.mailpoet_data?.subject || post.title.rendered // use MailPoet subject as title
        }
      };
      return {
        id: post.id,
        slug: post.slug,
        previewContentParsed: parsedPostContentWithTemplate,
        emailParsed: parsedPostContent,
        category: 'recent',
        type: post.type,
        displayName: template.title.rendered,
        template
      };
    });
  }, [emailPosts, allTemplates]);
  return [allTemplates || EMPTY_ARRAY, allEmailPosts || EMPTY_ARRAY, hasEmailPosts];
}

/***/ }),

/***/ "./src/hooks/use-shallow-equal.ts":
/*!****************************************!*\
  !*** ./src/hooks/use-shallow-equal.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useShallowEqual: () => (/* binding */ useShallowEqual)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/is-shallow-equal */ "@wordpress/is-shallow-equal");
/* harmony import */ var _wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_1__);
/**
 * External dependencies
 */



/**
 * A custom hook that compares the provided value across renders and returns the
 * previous instance if shallow equality with previous instance exists.
 *
 * This is particularly useful when non-primitive types are used as
 * dependencies for react hooks.
 *
 * @param {*} value Value to keep the same if satisfies shallow equality.
 *
 * @return {*} The previous cached instance of the value if the current has  shallow equality with it.
 */
function useShallowEqual(value) {
  const ref = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);
  if (!_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_1___default()(value, ref.current)) {
    ref.current = value;
  }
  return ref.current;
}

/***/ }),

/***/ "./src/hooks/use-user-theme.ts":
/*!*************************************!*\
  !*** ./src/hooks/use-user-theme.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useUserTheme: () => (/* binding */ useUserTheme)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store */ "./src/store/constants.ts");
/**
 * External dependencies
 */




/**
 * Internal dependencies
 */

function useUserTheme() {
  const {
    globalStylePost
  } = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(select => {
    const post = select(_store__WEBPACK_IMPORTED_MODULE_3__.storeName).getGlobalEmailStylesPost();
    return {
      globalStylePost: post
    };
  }, []);
  const updateGlobalStylesPost = (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)(newTheme => {
    if (!globalStylePost) {
      return;
    }
    void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.dispatch)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).editEntityRecord('postType', 'wp_global_styles', globalStylePost.id, {
      styles: newTheme.styles,
      settings: newTheme.settings
    });
  }, [globalStylePost]);
  return {
    userTheme: {
      settings: globalStylePost?.settings,
      styles: globalStylePost?.styles
    },
    updateUserTheme: updateGlobalStylesPost
  };
}

/***/ }),

/***/ "./src/hooks/use-validation-notices.ts":
/*!*********************************************!*\
  !*** ./src/hooks/use-validation-notices.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useValidationNotices: () => (/* binding */ useValidationNotices)
/* harmony export */ });
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ "@wordpress/element");
/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__);
/**
 * External dependencies
 */



const useValidationNotices = () => {
  const context = 'email-validation';
  const notices = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.useSelect)(mapSelect => mapSelect(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__.store).getNotices(context));
  return {
    notices,
    hasValidationNotice: (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)(noticeId => {
      if (!noticeId) {
        return notices?.length > 0;
      }
      return notices.find(notice => notice.id === noticeId) !== undefined;
    }, [notices]),
    addValidationNotice: (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((noticeId, message, actions = []) => {
      void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.dispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__.store).createNotice('error', message, {
        id: noticeId,
        isDismissible: false,
        actions,
        context
      });
    }, [context]),
    removeValidationNotice: (0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)(noticeId => {
      void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.dispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_2__.store).removeNotice(noticeId, context);
    }, [context])
  };
};

/***/ }),

/***/ "./src/layouts/flex-email.tsx":
/*!************************************!*\
  !*** ./src/layouts/flex-email.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addAttribute: () => (/* binding */ addAttribute),
/* harmony export */   initializeLayout: () => (/* binding */ initializeLayout),
/* harmony export */   withLayoutControls: () => (/* binding */ withLayoutControls),
/* harmony export */   withLayoutStyles: () => (/* binding */ withLayoutStyles)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/compose */ "@wordpress/compose");
/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/hooks */ "@wordpress/hooks");
/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/blocks */ "@wordpress/blocks");
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/justify-left.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/justify-center.js");
/* harmony import */ var _wordpress_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wordpress/icons */ "./node_modules/@wordpress/icons/build-module/library/justify-right.js");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__);

/**
 * External dependencies
 */








const layoutBlockSupportKey = '__experimentalEmailFlexLayout';
function hasLayoutBlockSupport(blockName) {
  // @ts-expect-error No types for this exist yet.
  return (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__.hasBlockSupport)(blockName, layoutBlockSupportKey);
}
function JustificationControls({
  justificationValue,
  onChange,
  isToolbar = false
}) {
  const justificationOptions = [{
    value: 'left',
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_8__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Justify items left', 'mailpoet')
  }, {
    value: 'center',
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_9__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Justify items center', 'mailpoet')
  }, {
    value: 'right',
    icon: _wordpress_icons__WEBPACK_IMPORTED_MODULE_10__["default"],
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Justify items right', 'mailpoet')
  }];
  if (isToolbar) {
    const allowedValues = justificationOptions.map(option => option.value);
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__.JustifyContentControl, {
      value: justificationValue,
      onChange: onChange,
      allowedControls: allowedValues,
      popoverProps: {
        placement: 'bottom-start'
      }
    });
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__.__experimentalToggleGroupControl, {
    __nextHasNoMarginBottom: true,
    label: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Justification', 'mailpoet'),
    value: justificationValue,
    onChange: onChange,
    className: "block-editor-hooks__flex-layout-justification-controls"
  }, justificationOptions.map(({
    value,
    icon,
    label
  }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__.__experimentalToggleGroupControlOptionIcon, {
    key: value,
    value: value,
    icon: icon,
    label: label
  })));
}
function LayoutControls({
  setAttributes,
  attributes,
  name: blockName
}) {
  const layoutBlockSupport = (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__.getBlockSupport)(
  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
  blockName,
  // @ts-expect-error No types for this exist yet.
  layoutBlockSupportKey, {});
  if (!layoutBlockSupport) {
    return null;
  }
  const {
    justifyContent = 'left'
  } = attributes.layout || {};
  const onJustificationChange = value => {
    setAttributes({
      layout: {
        ...attributes.layout,
        justifyContent: value
      }
    });
  };
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__.InspectorControls, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__.PanelBody, {
    title: (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__.__)('Layout', 'mailpoet')
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__.Flex, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__.FlexItem, null, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(JustificationControls, {
    justificationValue: justifyContent,
    onChange: onJustificationChange
  }))))), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__.BlockControls, {
    group: "block",
    __experimentalShareWithChildBlocks: true
  }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(JustificationControls, {
    justificationValue: justifyContent,
    onChange: onJustificationChange,
    isToolbar: true
  })));
}

/**
 * Filters registered block settings, extending attributes to include `layout`.
 *
 * @param {Object} settings Original block settings.
 *
 * @return {Object} Filtered block settings.
 */
function addAttribute(settings) {
  if (hasLayoutBlockSupport(settings.name)) {
    return {
      ...settings,
      attributes: {
        ...settings.attributes,
        layout: {
          type: 'object'
        }
      }
    };
  }
  return settings;
}

/**
 * Override the default edit UI to include layout controls
 *
 * @param {Function} BlockEdit Original component.
 *
 * @return {Function} Wrapped component.
 */
const withLayoutControls = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.createHigherOrderComponent)(
// @ts-expect-error No types for this exist yet.
BlockEdit => props => {
  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
  const supportLayout = hasLayoutBlockSupport(props.name);
  return [supportLayout && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(LayoutControls, {
    key: "layout",
    ...props
  }), (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockEdit, {
    key: "edit",
    ...props
  })];
}, 'withLayoutControls');
function BlockWithLayoutStyles({
  block: BlockListBlock,
  props
}) {
  const {
    attributes
  } = props;
  const {
    layout
  } = attributes;
  const layoutClasses = 'is-layout-email-flex is-layout-flex';
  const justify = layout?.justifyContent || 'left';
  const justificationClass = `is-content-justification-${justify}`;
  const layoutClassNames = classnames__WEBPACK_IMPORTED_MODULE_1___default()(justificationClass, layoutClasses);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockListBlock, {
    ...props,
    className: layoutClassNames
  });
}

/**
 * Override the default block element to add the layout classes.
 *
 * @param {Function} BlockListBlock Original component.
 *
 * @return {Function} Wrapped component.
 */
const withLayoutStyles = (0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.createHigherOrderComponent)(BlockListBlock => function maybeWrapWithLayoutStyles(props) {
  const blockSupportsLayout = hasLayoutBlockSupport(props.name);
  if (!blockSupportsLayout) {
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockListBlock, {
      ...props
    });
  }
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(BlockWithLayoutStyles, {
    block: BlockListBlock,
    props: props
  });
}, 'withLayoutStyles');
function initializeLayout() {
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('blocks.registerBlockType', 'mailpoet-email-editor/layout/addAttribute', addAttribute);
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('editor.BlockListBlock', 'mailpoet-email-editor/with-layout-styles', withLayoutStyles);
  (0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__.addFilter)('editor.BlockEdit', 'mailpoet-email-editor/with-inspector-controls', withLayoutControls);
}

/***/ }),

/***/ "./src/private-apis/index.ts":
/*!***********************************!*\
  !*** ./src/private-apis/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BlockCanvas: () => (/* binding */ BlockCanvas),
/* harmony export */   StylesColorPanel: () => (/* binding */ StylesColorPanel),
/* harmony export */   Tabs: () => (/* binding */ Tabs),
/* harmony export */   unlockGetEnabledClientIdsTree: () => (/* binding */ unlockGetEnabledClientIdsTree),
/* harmony export */   unlockPatternsRelatedSelectorsFromCoreStore: () => (/* binding */ unlockPatternsRelatedSelectorsFromCoreStore),
/* harmony export */   useGlobalStylesOutputWithConfig: () => (/* binding */ useGlobalStylesOutputWithConfig)
/* harmony export */ });
/* harmony import */ var _wordpress_private_apis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/private-apis */ "@wordpress/private-apis");
/* harmony import */ var _wordpress_private_apis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_private_apis__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ "@wordpress/components");
/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/block-editor */ "@wordpress/block-editor");
/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__);
/**
 * External dependencies
 */




const {
  unlock
} = (0,_wordpress_private_apis__WEBPACK_IMPORTED_MODULE_0__.__dangerousOptInToUnstableAPIsOnlyForCoreModules)('I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.', '@wordpress/edit-site' // The module name must be in the list of allowed, so for now I used the package name of the post editor
);

/**
 * We use the experimental block canvas to render the block editor's canvas.
 * Currently, this is needed because we use contentRef property which is not available in the stable BlockCanvas
 * The property is used for handling clicks for selecting block to edit and to display modal for switching between email and template.
 */
const {
  ExperimentalBlockCanvas: BlockCanvas
} = unlock(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.privateApis);

/**
 * Tabs are used in the right sidebar header to switch between Email and Block settings.
 * Tabs should be close to stabilization https://github.com/WordPress/gutenberg/pull/61072
 */
const {
  Tabs
} = unlock(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__.privateApis);

/**
 * We need the following selectors from core store to fetch block patterns for the email post type.
 * @param select - select function from the core store.
 */
const unlockPatternsRelatedSelectorsFromCoreStore = select => {
  const {
    hasFinishedResolution,
    getBlockPatternsForPostType
  } = unlock(select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store));
  return {
    hasFinishedResolution,
    getBlockPatternsForPostType
  };
};

/**
 * Selector getEnabledClientIdsTree for block-editor store is used to find nearest editable block to select on click in
 * useSelectNearestEditableBlock
 * We copied useSelectNearestEditableBlock from Gutenberg.
 * @param selectHook - useSelect call from the block editor store `useSelect( blockEditorStore ).
 */
const unlockGetEnabledClientIdsTree = selectHook => {
  const {
    getEnabledClientIdsTree
  } = unlock(selectHook);
  return getEnabledClientIdsTree;
};

/**
 * We use the ColorPanel component from the block editor to render the color panel in the style settings sidebar.
 */
const {
  ColorPanel: StylesColorPanel
} = unlock(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.privateApis);

/**
 * The useGlobalStylesOutputWithConfig is used to generate the CSS for the email editor content from the style settings.
 */
const {
  useGlobalStylesOutputWithConfig
} = unlock(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_3__.privateApis);


/***/ }),

/***/ "./src/store/actions.ts":
/*!******************************!*\
  !*** ./src/store/actions.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   changePreviewDeviceType: () => (/* binding */ changePreviewDeviceType),
/* harmony export */   closeSidebar: () => (/* binding */ closeSidebar),
/* harmony export */   openSidebar: () => (/* binding */ openSidebar),
/* harmony export */   requestSendingNewsletterPreview: () => (/* binding */ requestSendingNewsletterPreview),
/* harmony export */   revertAndSaveTemplate: () => (/* binding */ revertAndSaveTemplate),
/* harmony export */   saveEditedEmail: () => (/* binding */ saveEditedEmail),
/* harmony export */   setIsFetchingPersonalizationTags: () => (/* binding */ setIsFetchingPersonalizationTags),
/* harmony export */   setPersonalizationTagsList: () => (/* binding */ setPersonalizationTagsList),
/* harmony export */   setTemplateToPost: () => (/* binding */ setTemplateToPost),
/* harmony export */   toggleFeature: () => (/* binding */ toggleFeature),
/* harmony export */   togglePersonalizationTagsModal: () => (/* binding */ togglePersonalizationTagsModal),
/* harmony export */   togglePreviewModal: () => (/* binding */ togglePreviewModal),
/* harmony export */   toggleSettingsSidebarActiveTab: () => (/* binding */ toggleSettingsSidebarActiveTab),
/* harmony export */   updateEmailMailPoetProperty: () => (/* binding */ updateEmailMailPoetProperty),
/* harmony export */   updateSendPreviewEmail: () => (/* binding */ updateSendPreviewEmail)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/interface */ "./node_modules/@wordpress/interface/build-module/index.js");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/preferences */ "@wordpress/preferences");
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/notices */ "@wordpress/notices");
/* harmony import */ var _wordpress_notices__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/i18n */ "@wordpress/i18n");
/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _wordpress_data_controls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/data-controls */ "@wordpress/data-controls");
/* harmony import */ var _wordpress_data_controls__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data_controls__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/api-fetch */ "@wordpress/api-fetch");
/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/url */ "@wordpress/url");
/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_wordpress_url__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wordpress/html-entities */ "@wordpress/html-entities");
/* harmony import */ var _wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @wordpress/blocks */ "@wordpress/blocks");
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./constants */ "./src/store/constants.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./types */ "./src/store/types.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../events */ "./src/events/event-pipeline.ts");
/**
 * External dependencies
 */













/**
 * Internal dependencies
 */



const toggleFeature = feature => ({
  registry
}) => registry.dispatch(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_3__.store).toggle(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName, feature);
const changePreviewDeviceType = deviceType => ({
  registry
}) => void registry.dispatch(_wordpress_editor__WEBPACK_IMPORTED_MODULE_5__.store).setDeviceType(deviceType);
function togglePreviewModal(isOpen) {
  return {
    type: 'CHANGE_PREVIEW_STATE',
    state: {
      isModalOpened: isOpen
    }
  };
}
function togglePersonalizationTagsModal(isOpen, payload = {}) {
  return {
    type: 'CHANGE_PERSONALIZATION_TAGS_STATE',
    state: {
      isModalOpened: isOpen,
      ...payload
    }
  };
}
function updateSendPreviewEmail(toEmail) {
  return {
    type: 'CHANGE_PREVIEW_STATE',
    state: {
      toEmail
    }
  };
}
const openSidebar = (key = _constants__WEBPACK_IMPORTED_MODULE_12__.mainSidebarDocumentTab) => ({
  registry
}) => {
  return registry.dispatch(_wordpress_interface__WEBPACK_IMPORTED_MODULE_1__.store).enableComplementaryArea(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName, key);
};
const closeSidebar = () => ({
  registry
}) => {
  return registry.dispatch(_wordpress_interface__WEBPACK_IMPORTED_MODULE_1__.store).disableComplementaryArea(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName);
};
function toggleSettingsSidebarActiveTab(activeTab) {
  return {
    type: 'TOGGLE_SETTINGS_SIDEBAR_ACTIVE_TAB',
    state: {
      activeTab
    }
  };
}
function* saveEditedEmail() {
  const postId = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.select)(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName).getEmailPostId();
  // This returns a promise

  const result = yield (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).saveEditedEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_12__.editorCurrentPostType, postId, {
    throwOnError: true
  });
  result.then(() => {
    void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__.store).createErrorNotice((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__.__)('Email saved!', 'mailpoet'), {
      type: 'snackbar',
      isDismissible: true,
      context: 'email-editor'
    });
  });
  result.catch(() => {
    void (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__.store).createErrorNotice((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__.__)('The email could not be saved. Please, clear browser cache and reload the page. If the problem persists, duplicate the email and try again.', 'mailpoet'), {
      type: 'default',
      isDismissible: true,
      context: 'email-editor'
    });
  });
}
function* updateEmailMailPoetProperty(name, value) {
  const postId = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.select)(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName).getEmailPostId();
  // There can be a better way how to get the edited post data
  const editedPost = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.select)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).getEditedEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_12__.editorCurrentPostType, postId);
  // @ts-expect-error Property 'mailpoet_data' does not exist on type 'Updatable<Attachment<any>>'.
  const mailpoetData = editedPost?.mailpoet_data || {};
  yield (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.dispatch)(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).editEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_12__.editorCurrentPostType, postId, {
    mailpoet_data: {
      ...mailpoetData,
      [name]: value
    }
  });
}
const setTemplateToPost = templateSlug => async ({
  registry
}) => {
  const postId = registry.select(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName).getEmailPostId();
  registry.dispatch(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).editEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_12__.editorCurrentPostType, postId, {
    template: templateSlug
  });
};
function* requestSendingNewsletterPreview(newsletterId, email) {
  // If preview is already sending do nothing
  const previewState = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.select)(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName).getPreviewState();
  if (previewState.isSendingPreviewEmail) {
    return;
  }
  // Initiate sending
  yield {
    type: 'CHANGE_PREVIEW_STATE',
    state: {
      sendingPreviewStatus: null,
      isSendingPreviewEmail: true
    }
  };
  try {
    const postId = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.select)(_constants__WEBPACK_IMPORTED_MODULE_12__.storeName).getEmailPostId();
    yield (0,_wordpress_data_controls__WEBPACK_IMPORTED_MODULE_7__.apiFetch)({
      path: '/mailpoet-email-editor/v1/send_preview_email',
      method: 'POST',
      data: {
        newsletterId,
        email,
        postId
      }
    });
    yield {
      type: 'CHANGE_PREVIEW_STATE',
      state: {
        sendingPreviewStatus: _types__WEBPACK_IMPORTED_MODULE_13__.SendingPreviewStatus.SUCCESS,
        isSendingPreviewEmail: false
      }
    };
    (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('sent_preview_email', {
      postId,
      email
    });
  } catch (errorResponse) {
    (0,_events__WEBPACK_IMPORTED_MODULE_14__.recordEvent)('sent_preview_email_error', {
      email
    });
    yield {
      type: 'CHANGE_PREVIEW_STATE',
      state: {
        sendingPreviewStatus: _types__WEBPACK_IMPORTED_MODULE_13__.SendingPreviewStatus.ERROR,
        isSendingPreviewEmail: false
      }
    };
  }
}

/**
 * Revert template modifications to defaults
 * Created based on https://github.com/WordPress/gutenberg/blob/4d225cc2ba6f09822227e7a820b8a555be7c4d48/packages/editor/src/store/private-actions.js#L241
 * @param template - Template post object
 */
function revertAndSaveTemplate(template) {
  return async ({
    registry
  }) => {
    try {
      const templateEntityConfig = registry.select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).getEntityConfig('postType', template.type);
      const fileTemplatePath = (0,_wordpress_url__WEBPACK_IMPORTED_MODULE_9__.addQueryArgs)(`${templateEntityConfig.baseURL}/${template.id}`, {
        context: 'edit',
        source: 'theme'
      });
      const fileTemplate = await _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_8___default()({
        path: fileTemplatePath
      });
      const serializeBlocks = ({
        blocks: blocksForSerialization = []
      }) => (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_11__.__unstableSerializeAndClean)(blocksForSerialization);

      // @ts-expect-error template type is not defined
      const blocks = (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_11__.parse)(fileTemplate?.content?.raw);
      await registry.dispatch(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).editEntityRecord('postType', template.type,
      // @ts-expect-error template type is not defined
      fileTemplate.id, {
        content: serializeBlocks,
        blocks,
        source: 'theme'
      });
      await registry.dispatch(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_2__.store).saveEditedEntityRecord('postType', template.type, template.id, {});
      void registry.dispatch(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__.store).createSuccessNotice((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__.sprintf)(/* translators: The template/part's name. */
      (0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__.__)('"%s" reset.', 'mailpoet'), (0,_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10__.decodeEntities)(template.title)), {
        type: 'snackbar',
        id: 'edit-site-template-reverted'
      });
    } catch (error) {
      void registry.dispatch(_wordpress_notices__WEBPACK_IMPORTED_MODULE_4__.store).createErrorNotice((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__.__)('An error occurred while reverting the template.', 'mailpoet'), {
        type: 'snackbar'
      });
    }
  };
}
function setIsFetchingPersonalizationTags(isFetching) {
  return {
    type: 'SET_IS_FETCHING_PERSONALIZATION_TAGS',
    state: {
      isFetching
    }
  };
}
function setPersonalizationTagsList(list) {
  return {
    type: 'SET_PERSONALIZATION_TAGS_LIST',
    state: {
      list
    }
  };
}

/***/ }),

/***/ "./src/store/constants.ts":
/*!********************************!*\
  !*** ./src/store/constants.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   editorCurrentPostId: () => (/* binding */ editorCurrentPostId),
/* harmony export */   editorCurrentPostType: () => (/* binding */ editorCurrentPostType),
/* harmony export */   mainSidebarBlockTab: () => (/* binding */ mainSidebarBlockTab),
/* harmony export */   mainSidebarDocumentTab: () => (/* binding */ mainSidebarDocumentTab),
/* harmony export */   mainSidebarId: () => (/* binding */ mainSidebarId),
/* harmony export */   storeName: () => (/* binding */ storeName),
/* harmony export */   stylesSidebarId: () => (/* binding */ stylesSidebarId)
/* harmony export */ });
const storeName = 'email-editor/editor';
const mainSidebarId = 'email-editor/editor/main';
const mainSidebarDocumentTab = 'document';
const mainSidebarBlockTab = 'block';
const stylesSidebarId = 'email-editor/editor/styles';

// these values are set once on a page load, so it's fine to keep them here.
const editorCurrentPostType = window.MailPoetEmailEditor.current_post_type;
const editorCurrentPostId = parseInt(window.MailPoetEmailEditor.current_post_id, 10);

/***/ }),

/***/ "./src/store/initial-state.ts":
/*!************************************!*\
  !*** ./src/store/initial-state.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getInitialState: () => (/* binding */ getInitialState)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./src/store/constants.ts");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./src/store/settings.ts");
/**
 * Internal dependencies
 */


function getInitialState() {
  const postId = _constants__WEBPACK_IMPORTED_MODULE_0__.editorCurrentPostId;
  return {
    inserterSidebar: {
      isOpened: false
    },
    listviewSidebar: {
      isOpened: false
    },
    settingsSidebar: {
      activeTab: _constants__WEBPACK_IMPORTED_MODULE_0__.mainSidebarDocumentTab
    },
    postId,
    editorSettings: (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getEditorSettings)(),
    theme: (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getEditorTheme)(),
    styles: {
      globalStylesPostId: window.MailPoetEmailEditor.user_theme_post_id
    },
    autosaveInterval: 60,
    urls: (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getUrls)(),
    preview: {
      deviceType: 'Desktop',
      toEmail: window.MailPoetEmailEditor.current_wp_user_email,
      isModalOpened: false,
      isSendingPreviewEmail: false,
      sendingPreviewStatus: null
    },
    personalizationTags: {
      list: [],
      isFetching: false
    }
  };
}

/***/ }),

/***/ "./src/store/reducer.ts":
/*!******************************!*\
  !*** ./src/store/reducer.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   reducer: () => (/* binding */ reducer)
/* harmony export */ });
/**
 * Internal dependencies
 */

function reducer(state, action) {
  switch (action.type) {
    case 'CHANGE_PREVIEW_STATE':
      return {
        ...state,
        preview: {
          ...state.preview,
          ...action.state
        }
      };
    case 'CHANGE_PERSONALIZATION_TAGS_STATE':
      return {
        ...state,
        personalizationTags: {
          ...state.personalizationTags,
          ...action.state
        }
      };
    case 'TOGGLE_SETTINGS_SIDEBAR_ACTIVE_TAB':
      return {
        ...state,
        settingsSidebar: {
          ...state.settingsSidebar,
          activeTab: action.state.activeTab
        }
      };
    case 'SET_PERSONALIZATION_TAGS':
      return {
        ...state,
        personalizationTags: {
          ...state.personalizationTags,
          list: action.personalizationTags
        }
      };
    case 'SET_IS_FETCHING_PERSONALIZATION_TAGS':
      return {
        ...state,
        personalizationTags: {
          ...state.personalizationTags,
          ...action.state
        }
      };
    case 'SET_PERSONALIZATION_TAGS_LIST':
      return {
        ...state,
        personalizationTags: {
          ...state.personalizationTags,
          ...action.state
        }
      };
    default:
      return state;
  }
}

/***/ }),

/***/ "./src/store/resolvers.ts":
/*!********************************!*\
  !*** ./src/store/resolvers.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getPersonalizationTagsList: () => (/* binding */ getPersonalizationTagsList)
/* harmony export */ });
/* harmony import */ var _wordpress_data_controls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data-controls */ "@wordpress/data-controls");
/* harmony import */ var _wordpress_data_controls__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data_controls__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions */ "./src/store/actions.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./src/store/constants.ts");
/**
 * External dependencies
 */



/**
 * Internal dependencies
 */


function* getPersonalizationTagsList() {
  // Access the state to check if already fetching
  const state = yield (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_1__.select)(_constants__WEBPACK_IMPORTED_MODULE_2__.storeName);
  const isAlreadyFetching = state.personalizationTags?.isFetching;

  // Exit if a fetch operation is already in progress
  if (isAlreadyFetching) {
    return;
  }

  // Mark as fetching
  yield (0,_actions__WEBPACK_IMPORTED_MODULE_3__.setIsFetchingPersonalizationTags)(true);
  try {
    const data = yield (0,_wordpress_data_controls__WEBPACK_IMPORTED_MODULE_0__.apiFetch)({
      path: `/mailpoet-email-editor/v1/get_personalization_tags`,
      method: 'GET'
    });
    yield (0,_actions__WEBPACK_IMPORTED_MODULE_3__.setPersonalizationTagsList)(data.result);
  } finally {
    // Ensure fetching status is reset
    yield (0,_actions__WEBPACK_IMPORTED_MODULE_3__.setIsFetchingPersonalizationTags)(false);
  }
}

/***/ }),

/***/ "./src/store/selectors.ts":
/*!********************************!*\
  !*** ./src/store/selectors.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAutosaveInterval: () => (/* binding */ getAutosaveInterval),
/* harmony export */   getBlockPatternsForEmailTemplate: () => (/* binding */ getBlockPatternsForEmailTemplate),
/* harmony export */   getCurrentTemplate: () => (/* binding */ getCurrentTemplate),
/* harmony export */   getCurrentTemplateContent: () => (/* binding */ getCurrentTemplateContent),
/* harmony export */   getDeviceType: () => (/* binding */ getDeviceType),
/* harmony export */   getEditedEmailContent: () => (/* binding */ getEditedEmailContent),
/* harmony export */   getEditedPostTemplate: () => (/* binding */ getEditedPostTemplate),
/* harmony export */   getEmailPostId: () => (/* binding */ getEmailPostId),
/* harmony export */   getEmailTemplates: () => (/* binding */ getEmailTemplates),
/* harmony export */   getGlobalEmailStylesPost: () => (/* binding */ getGlobalEmailStylesPost),
/* harmony export */   getGlobalStylesPostId: () => (/* binding */ getGlobalStylesPostId),
/* harmony export */   getInitialEditorSettings: () => (/* binding */ getInitialEditorSettings),
/* harmony export */   getPaletteColors: () => (/* binding */ getPaletteColors),
/* harmony export */   getPersonalizationTagsList: () => (/* binding */ getPersonalizationTagsList),
/* harmony export */   getPersonalizationTagsState: () => (/* binding */ getPersonalizationTagsState),
/* harmony export */   getPreviewState: () => (/* binding */ getPreviewState),
/* harmony export */   getSentEmailEditorPosts: () => (/* binding */ getSentEmailEditorPosts),
/* harmony export */   getSettingsSidebarActiveTab: () => (/* binding */ getSettingsSidebarActiveTab),
/* harmony export */   getStyles: () => (/* binding */ getStyles),
/* harmony export */   getTheme: () => (/* binding */ getTheme),
/* harmony export */   getUrls: () => (/* binding */ getUrls),
/* harmony export */   hasEdits: () => (/* binding */ hasEdits),
/* harmony export */   hasEmptyContent: () => (/* binding */ hasEmptyContent),
/* harmony export */   isEmailLoaded: () => (/* binding */ isEmailLoaded),
/* harmony export */   isEmailSent: () => (/* binding */ isEmailSent),
/* harmony export */   isEmpty: () => (/* binding */ isEmpty),
/* harmony export */   isFeatureActive: () => (/* binding */ isFeatureActive),
/* harmony export */   isSaving: () => (/* binding */ isSaving),
/* harmony export */   isSidebarOpened: () => (/* binding */ isSidebarOpened)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/core-data */ "@wordpress/core-data");
/* harmony import */ var _wordpress_core_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _wordpress_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/interface */ "./node_modules/@wordpress/interface/build-module/index.js");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/editor */ "@wordpress/editor");
/* harmony import */ var _wordpress_editor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_editor__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/preferences */ "@wordpress/preferences");
/* harmony import */ var _wordpress_preferences__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/blocks */ "@wordpress/blocks");
/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./constants */ "./src/store/constants.ts");
/**
 * External dependencies
 */






/**
 * Internal dependencies
 */

function getContentFromEntity(entity) {
  if (entity?.content && typeof entity.content === 'function') {
    return entity.content(entity);
  }
  if (entity?.blocks) {
    return (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__.serialize)(entity.blocks);
  }
  if (entity?.content) {
    return entity.content;
  }
  return '';
}
const patternsWithParsedBlocks = new WeakMap();
function enhancePatternWithParsedBlocks(pattern) {
  let enhancedPattern = patternsWithParsedBlocks.get(pattern);
  if (!enhancedPattern) {
    enhancedPattern = {
      ...pattern,
      get blocks() {
        return (0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__.parse)(pattern.content);
      }
    };
    patternsWithParsedBlocks.set(pattern, enhancedPattern);
  }
  return enhancedPattern;
}
const isFeatureActive = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => (_, feature) => !!select(_wordpress_preferences__WEBPACK_IMPORTED_MODULE_4__.store).get(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName, feature));
const isSidebarOpened = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => !!select(_wordpress_interface__WEBPACK_IMPORTED_MODULE_2__.store).getActiveComplementaryArea(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName));
const hasEdits = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId();
  return !!select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).hasEditsForEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, postId);
});
const isEmailLoaded = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId();
  return !!select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, postId);
});
const isSaving = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId();
  return !!select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).isSavingEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, postId);
});
const isEmpty = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId();
  const post = select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, postId);
  if (!post) {
    return true;
  }
  const {
    content,
    mailpoet_data: mailpoetData,
    title
  } = post;
  return !content.raw && !mailpoetData.subject && !mailpoetData.preheader && !title.raw;
});
const hasEmptyContent = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId();
  const post = select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, postId);
  if (!post) {
    return true;
  }

  // @ts-expect-error Missing property in type
  const {
    content
  } = post;
  return !content.raw;
});
const isEmailSent = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId();
  const post = select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, postId);
  if (!post) {
    return false;
  }

  // @ts-expect-error Missing property in type
  const status = post.status;
  return status === 'sent';
});

/**
 * Returns the content of the email being edited.
 *
 * @param {Object} state Global application state.
 * @return {string} Post content.
 */
const getEditedEmailContent = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getEmailPostId();
  const record = select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEditedEntityRecord('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, postId);
  if (record) {
    return getContentFromEntity(record);
  }
  return '';
});
const getSentEmailEditorPosts = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEntityRecords('postType', _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType, {
  per_page: 30,
  // show a maximum of 30 for now
  status: 'publish,sent' // show only sent emails
})?.filter(post => post?.content?.raw !== '' // filter out empty content
) || []);
const getBlockPatternsForEmailTemplate = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createSelector)(() => select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getBlockPatterns().filter(({
  templateTypes
}) => Array.isArray(templateTypes) && templateTypes.includes('email-template')).map(enhancePatternWithParsedBlocks), () => [select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getBlockPatterns()]));

/**
 * COPIED FROM https://github.com/WordPress/gutenberg/blob/9c6d4fe59763b188d27ad937c2f0daa39e4d9341/packages/edit-post/src/store/selectors.js
 * Retrieves the template of the currently edited post.
 *
 * @return {Object?} Post Template.
 */
const getEditedPostTemplate = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const currentTemplate =
  // @ts-expect-error Expected 0 arguments, but got 1.
  select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_3__.store).getEditedPostAttribute('template');
  if (currentTemplate) {
    const templateWithSameSlug = select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEntityRecords('postType', 'wp_template', {
      per_page: -1
    })
    // @ts-expect-error Missing property in type
    ?.find(template => template.slug === currentTemplate);
    if (!templateWithSameSlug) {
      return templateWithSameSlug;
    }
    return select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEditedEntityRecord('postType', 'wp_template',
    // @ts-expect-error getEditedPostAttribute
    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
    templateWithSameSlug.id);
  }
  const defaultTemplateId = select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getDefaultTemplateId({
    slug: 'email-general'
  });
  return select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEditedEntityRecord('postType', 'wp_template',
  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
  defaultTemplateId);
});
const getCurrentTemplate = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const isEditingTemplate = select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_3__.store).getCurrentPostType() === 'wp_template';
  if (isEditingTemplate) {
    const templateId = select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_3__.store).getCurrentPostId();
    return select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEditedEntityRecord('postType', 'wp_template',
    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
    templateId);
  }
  return getEditedPostTemplate();
});
const getCurrentTemplateContent = () => {
  const template = getCurrentTemplate();
  if (template) {
    return getContentFromEntity(template);
  }
  return '';
};
const getGlobalEmailStylesPost = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => {
  const postId = select(_constants__WEBPACK_IMPORTED_MODULE_6__.storeName).getGlobalStylesPostId();
  if (postId) {
    return select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEditedEntityRecord('postType', 'wp_global_styles', postId);
  }
  return getEditedPostTemplate();
});

/**
 * Retrieves the email templates.
 */
const getEmailTemplates = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () => select(_wordpress_core_data__WEBPACK_IMPORTED_MODULE_1__.store).getEntityRecords('postType', 'wp_template', {
  per_page: -1,
  post_type: _constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType
})
// We still need to filter the templates because, in some cases, the API also returns custom templates
// ignoring the post_type filter in the query
?.filter(template =>
// @ts-expect-error Missing property in type
template.post_types.includes(_constants__WEBPACK_IMPORTED_MODULE_6__.editorCurrentPostType)));
function getEmailPostId(state) {
  return state.postId;
}
function getSettingsSidebarActiveTab(state) {
  return state.settingsSidebar.activeTab;
}
function getInitialEditorSettings(state) {
  return state.editorSettings;
}
function getPaletteColors(state) {
  // eslint-disable-next-line no-underscore-dangle
  return state.editorSettings.__experimentalFeatures.color.palette;
}
function getPreviewState(state) {
  return state.preview;
}
function getPersonalizationTagsState(state) {
  return state.personalizationTags;
}
function getPersonalizationTagsList(state) {
  return state.personalizationTags.list;
}
const getDeviceType = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createRegistrySelector)(select => () =>
// @ts-expect-error getDeviceType is missing in types.
select(_wordpress_editor__WEBPACK_IMPORTED_MODULE_3__.store).getDeviceType());
function getStyles(state) {
  return state.theme.styles;
}
function getAutosaveInterval(state) {
  return state.autosaveInterval;
}
function getTheme(state) {
  return state.theme;
}
function getGlobalStylesPostId(state) {
  return state.styles.globalStylesPostId;
}
function getUrls(state) {
  return state.urls;
}

/***/ }),

/***/ "./src/store/settings.ts":
/*!*******************************!*\
  !*** ./src/store/settings.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getEditorSettings: () => (/* binding */ getEditorSettings),
/* harmony export */   getEditorTheme: () => (/* binding */ getEditorTheme),
/* harmony export */   getUrls: () => (/* binding */ getUrls)
/* harmony export */ });
/**
 * Internal dependencies
 */

function getEditorSettings() {
  return window.MailPoetEmailEditor.editor_settings;
}
function getEditorTheme() {
  return window.MailPoetEmailEditor.editor_theme;
}
function getUrls() {
  return window.MailPoetEmailEditor.urls;
}

/***/ }),

/***/ "./src/store/store.ts":
/*!****************************!*\
  !*** ./src/store/store.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   actions: () => (/* reexport module object */ _actions__WEBPACK_IMPORTED_MODULE_2__),
/* harmony export */   createStore: () => (/* binding */ createStore),
/* harmony export */   selectors: () => (/* reexport module object */ _selectors__WEBPACK_IMPORTED_MODULE_3__)
/* harmony export */ });
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/data */ "@wordpress/data");
/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _wordpress_data_controls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/data-controls */ "@wordpress/data-controls");
/* harmony import */ var _wordpress_data_controls__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data_controls__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./actions */ "./src/store/actions.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./constants */ "./src/store/constants.ts");
/* harmony import */ var _initial_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./initial-state */ "./src/store/initial-state.ts");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reducer */ "./src/store/reducer.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selectors */ "./src/store/selectors.ts");
/* harmony import */ var _resolvers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resolvers */ "./src/store/resolvers.ts");
/**
 * External dependencies
 */



/**
 * Internal dependencies
 */






const getConfig = () => ({
  actions: _actions__WEBPACK_IMPORTED_MODULE_2__,
  controls: _wordpress_data_controls__WEBPACK_IMPORTED_MODULE_1__.controls,
  selectors: _selectors__WEBPACK_IMPORTED_MODULE_3__,
  resolvers: _resolvers__WEBPACK_IMPORTED_MODULE_4__,
  reducer: _reducer__WEBPACK_IMPORTED_MODULE_5__.reducer,
  initialState: (0,_initial_state__WEBPACK_IMPORTED_MODULE_6__.getInitialState)()
});
const createStore = () => {
  const store = (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.createReduxStore)(_constants__WEBPACK_IMPORTED_MODULE_7__.storeName, getConfig());
  (0,_wordpress_data__WEBPACK_IMPORTED_MODULE_0__.register)(store);
  return store;
};


/***/ }),

/***/ "./src/store/types.ts":
/*!****************************!*\
  !*** ./src/store/types.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SendingPreviewStatus: () => (/* binding */ SendingPreviewStatus)
/* harmony export */ });
/**
 * External dependencies
 */

let SendingPreviewStatus = /*#__PURE__*/function (SendingPreviewStatus) {
  SendingPreviewStatus["SUCCESS"] = "success";
  SendingPreviewStatus["ERROR"] = "error";
  return SendingPreviewStatus;
}({});

/***/ }),

/***/ "./node_modules/deepmerge/dist/cjs.js":
/*!********************************************!*\
  !*** ./node_modules/deepmerge/dist/cjs.js ***!
  \********************************************/
/***/ ((module) => {

"use strict";


var isMergeableObject = function isMergeableObject(value) {
	return isNonNullObject(value)
		&& !isSpecial(value)
};

function isNonNullObject(value) {
	return !!value && typeof value === 'object'
}

function isSpecial(value) {
	var stringValue = Object.prototype.toString.call(value);

	return stringValue === '[object RegExp]'
		|| stringValue === '[object Date]'
		|| isReactElement(value)
}

// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25
var canUseSymbol = typeof Symbol === 'function' && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;

function isReactElement(value) {
	return value.$$typeof === REACT_ELEMENT_TYPE
}

function emptyTarget(val) {
	return Array.isArray(val) ? [] : {}
}

function cloneUnlessOtherwiseSpecified(value, options) {
	return (options.clone !== false && options.isMergeableObject(value))
		? deepmerge(emptyTarget(value), value, options)
		: value
}

function defaultArrayMerge(target, source, options) {
	return target.concat(source).map(function(element) {
		return cloneUnlessOtherwiseSpecified(element, options)
	})
}

function getMergeFunction(key, options) {
	if (!options.customMerge) {
		return deepmerge
	}
	var customMerge = options.customMerge(key);
	return typeof customMerge === 'function' ? customMerge : deepmerge
}

function getEnumerableOwnPropertySymbols(target) {
	return Object.getOwnPropertySymbols
		? Object.getOwnPropertySymbols(target).filter(function(symbol) {
			return Object.propertyIsEnumerable.call(target, symbol)
		})
		: []
}

function getKeys(target) {
	return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))
}

function propertyIsOnObject(object, property) {
	try {
		return property in object
	} catch(_) {
		return false
	}
}

// Protects from prototype poisoning and unexpected merging up the prototype chain.
function propertyIsUnsafe(target, key) {
	return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,
		&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,
			&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.
}

function mergeObject(target, source, options) {
	var destination = {};
	if (options.isMergeableObject(target)) {
		getKeys(target).forEach(function(key) {
			destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
		});
	}
	getKeys(source).forEach(function(key) {
		if (propertyIsUnsafe(target, key)) {
			return
		}

		if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
			destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
		} else {
			destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
		}
	});
	return destination
}

function deepmerge(target, source, options) {
	options = options || {};
	options.arrayMerge = options.arrayMerge || defaultArrayMerge;
	options.isMergeableObject = options.isMergeableObject || isMergeableObject;
	// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()
	// implementations can use it. The caller may not replace it.
	options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;

	var sourceIsArray = Array.isArray(source);
	var targetIsArray = Array.isArray(target);
	var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;

	if (!sourceAndTargetTypesMatch) {
		return cloneUnlessOtherwiseSpecified(source, options)
	} else if (sourceIsArray) {
		return options.arrayMerge(target, source, options)
	} else {
		return mergeObject(target, source, options)
	}
}

deepmerge.all = function deepmergeAll(array, options) {
	if (!Array.isArray(array)) {
		throw new Error('first argument should be an array')
	}

	return array.reduce(function(prev, next) {
		return deepmerge(prev, next, options)
	}, {})
};

var deepmerge_1 = deepmerge;

module.exports = deepmerge_1;


/***/ }),

/***/ "./src/components/block-editor/index.scss":
/*!************************************************!*\
  !*** ./src/components/block-editor/index.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/personalization-tags/index.scss":
/*!********************************************************!*\
  !*** ./src/components/personalization-tags/index.scss ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/sidebar/index.scss":
/*!*******************************************!*\
  !*** ./src/components/sidebar/index.scss ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/react/cjs/react-jsx-runtime.development.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react/cjs/react-jsx-runtime.development.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



if (true) {
  (function() {
'use strict';

var React = __webpack_require__(/*! react */ "react");

// ATTENTION
// When adding new symbols to this file,
// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'
// The Symbol used to tag the ReactElement-like types.
var REACT_ELEMENT_TYPE = Symbol.for('react.element');
var REACT_PORTAL_TYPE = Symbol.for('react.portal');
var REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');
var REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');
var REACT_PROFILER_TYPE = Symbol.for('react.profiler');
var REACT_PROVIDER_TYPE = Symbol.for('react.provider');
var REACT_CONTEXT_TYPE = Symbol.for('react.context');
var REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');
var REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');
var REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');
var REACT_MEMO_TYPE = Symbol.for('react.memo');
var REACT_LAZY_TYPE = Symbol.for('react.lazy');
var REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');
var MAYBE_ITERATOR_SYMBOL = Symbol.iterator;
var FAUX_ITERATOR_SYMBOL = '@@iterator';
function getIteratorFn(maybeIterable) {
  if (maybeIterable === null || typeof maybeIterable !== 'object') {
    return null;
  }

  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];

  if (typeof maybeIterator === 'function') {
    return maybeIterator;
  }

  return null;
}

var ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;

function error(format) {
  {
    {
      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }

      printWarning('error', format, args);
    }
  }
}

function printWarning(level, format, args) {
  // When changing this logic, you might want to also
  // update consoleWithStackDev.www.js as well.
  {
    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;
    var stack = ReactDebugCurrentFrame.getStackAddendum();

    if (stack !== '') {
      format += '%s';
      args = args.concat([stack]);
    } // eslint-disable-next-line react-internal/safe-string-coercion


    var argsWithFormat = args.map(function (item) {
      return String(item);
    }); // Careful: RN currently depends on this prefix

    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it
    // breaks IE9: https://github.com/facebook/react/issues/13610
    // eslint-disable-next-line react-internal/no-production-logging

    Function.prototype.apply.call(console[level], console, argsWithFormat);
  }
}

// -----------------------------------------------------------------------------

var enableScopeAPI = false; // Experimental Create Event Handle API.
var enableCacheElement = false;
var enableTransitionTracing = false; // No known bugs, but needs performance testing

var enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber
// stuff. Intended to enable React core members to more easily debug scheduling
// issues in DEV builds.

var enableDebugTracing = false; // Track which Fiber(s) schedule render work.

var REACT_MODULE_REFERENCE;

{
  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');
}

function isValidElementType(type) {
  if (typeof type === 'string' || typeof type === 'function') {
    return true;
  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).


  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {
    return true;
  }

  if (typeof type === 'object' && type !== null) {
    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object
    // types supported by any Flight configuration anywhere since
    // we don't know which Flight build this will end up being used
    // with.
    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {
      return true;
    }
  }

  return false;
}

function getWrappedName(outerType, innerType, wrapperName) {
  var displayName = outerType.displayName;

  if (displayName) {
    return displayName;
  }

  var functionName = innerType.displayName || innerType.name || '';
  return functionName !== '' ? wrapperName + "(" + functionName + ")" : wrapperName;
} // Keep in sync with react-reconciler/getComponentNameFromFiber


function getContextName(type) {
  return type.displayName || 'Context';
} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.


function getComponentNameFromType(type) {
  if (type == null) {
    // Host root, text node or just invalid type.
    return null;
  }

  {
    if (typeof type.tag === 'number') {
      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');
    }
  }

  if (typeof type === 'function') {
    return type.displayName || type.name || null;
  }

  if (typeof type === 'string') {
    return type;
  }

  switch (type) {
    case REACT_FRAGMENT_TYPE:
      return 'Fragment';

    case REACT_PORTAL_TYPE:
      return 'Portal';

    case REACT_PROFILER_TYPE:
      return 'Profiler';

    case REACT_STRICT_MODE_TYPE:
      return 'StrictMode';

    case REACT_SUSPENSE_TYPE:
      return 'Suspense';

    case REACT_SUSPENSE_LIST_TYPE:
      return 'SuspenseList';

  }

  if (typeof type === 'object') {
    switch (type.$$typeof) {
      case REACT_CONTEXT_TYPE:
        var context = type;
        return getContextName(context) + '.Consumer';

      case REACT_PROVIDER_TYPE:
        var provider = type;
        return getContextName(provider._context) + '.Provider';

      case REACT_FORWARD_REF_TYPE:
        return getWrappedName(type, type.render, 'ForwardRef');

      case REACT_MEMO_TYPE:
        var outerName = type.displayName || null;

        if (outerName !== null) {
          return outerName;
        }

        return getComponentNameFromType(type.type) || 'Memo';

      case REACT_LAZY_TYPE:
        {
          var lazyComponent = type;
          var payload = lazyComponent._payload;
          var init = lazyComponent._init;

          try {
            return getComponentNameFromType(init(payload));
          } catch (x) {
            return null;
          }
        }

      // eslint-disable-next-line no-fallthrough
    }
  }

  return null;
}

var assign = Object.assign;

// Helpers to patch console.logs to avoid logging during side-effect free
// replaying on render function. This currently only patches the object
// lazily which won't cover if the log function was extracted eagerly.
// We could also eagerly patch the method.
var disabledDepth = 0;
var prevLog;
var prevInfo;
var prevWarn;
var prevError;
var prevGroup;
var prevGroupCollapsed;
var prevGroupEnd;

function disabledLog() {}

disabledLog.__reactDisabledLog = true;
function disableLogs() {
  {
    if (disabledDepth === 0) {
      /* eslint-disable react-internal/no-production-logging */
      prevLog = console.log;
      prevInfo = console.info;
      prevWarn = console.warn;
      prevError = console.error;
      prevGroup = console.group;
      prevGroupCollapsed = console.groupCollapsed;
      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099

      var props = {
        configurable: true,
        enumerable: true,
        value: disabledLog,
        writable: true
      }; // $FlowFixMe Flow thinks console is immutable.

      Object.defineProperties(console, {
        info: props,
        log: props,
        warn: props,
        error: props,
        group: props,
        groupCollapsed: props,
        groupEnd: props
      });
      /* eslint-enable react-internal/no-production-logging */
    }

    disabledDepth++;
  }
}
function reenableLogs() {
  {
    disabledDepth--;

    if (disabledDepth === 0) {
      /* eslint-disable react-internal/no-production-logging */
      var props = {
        configurable: true,
        enumerable: true,
        writable: true
      }; // $FlowFixMe Flow thinks console is immutable.

      Object.defineProperties(console, {
        log: assign({}, props, {
          value: prevLog
        }),
        info: assign({}, props, {
          value: prevInfo
        }),
        warn: assign({}, props, {
          value: prevWarn
        }),
        error: assign({}, props, {
          value: prevError
        }),
        group: assign({}, props, {
          value: prevGroup
        }),
        groupCollapsed: assign({}, props, {
          value: prevGroupCollapsed
        }),
        groupEnd: assign({}, props, {
          value: prevGroupEnd
        })
      });
      /* eslint-enable react-internal/no-production-logging */
    }

    if (disabledDepth < 0) {
      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');
    }
  }
}

var ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;
var prefix;
function describeBuiltInComponentFrame(name, source, ownerFn) {
  {
    if (prefix === undefined) {
      // Extract the VM specific prefix used by each line.
      try {
        throw Error();
      } catch (x) {
        var match = x.stack.trim().match(/\n( *(at )?)/);
        prefix = match && match[1] || '';
      }
    } // We use the prefix to ensure our stacks line up with native stack frames.


    return '\n' + prefix + name;
  }
}
var reentry = false;
var componentFrameCache;

{
  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;
  componentFrameCache = new PossiblyWeakMap();
}

function describeNativeComponentFrame(fn, construct) {
  // If something asked for a stack inside a fake render, it should get ignored.
  if ( !fn || reentry) {
    return '';
  }

  {
    var frame = componentFrameCache.get(fn);

    if (frame !== undefined) {
      return frame;
    }
  }

  var control;
  reentry = true;
  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.

  Error.prepareStackTrace = undefined;
  var previousDispatcher;

  {
    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function
    // for warnings.

    ReactCurrentDispatcher.current = null;
    disableLogs();
  }

  try {
    // This should throw.
    if (construct) {
      // Something should be setting the props in the constructor.
      var Fake = function () {
        throw Error();
      }; // $FlowFixMe


      Object.defineProperty(Fake.prototype, 'props', {
        set: function () {
          // We use a throwing setter instead of frozen or non-writable props
          // because that won't throw in a non-strict mode function.
          throw Error();
        }
      });

      if (typeof Reflect === 'object' && Reflect.construct) {
        // We construct a different control for this case to include any extra
        // frames added by the construct call.
        try {
          Reflect.construct(Fake, []);
        } catch (x) {
          control = x;
        }

        Reflect.construct(fn, [], Fake);
      } else {
        try {
          Fake.call();
        } catch (x) {
          control = x;
        }

        fn.call(Fake.prototype);
      }
    } else {
      try {
        throw Error();
      } catch (x) {
        control = x;
      }

      fn();
    }
  } catch (sample) {
    // This is inlined manually because closure doesn't do it for us.
    if (sample && control && typeof sample.stack === 'string') {
      // This extracts the first frame from the sample that isn't also in the control.
      // Skipping one frame that we assume is the frame that calls the two.
      var sampleLines = sample.stack.split('\n');
      var controlLines = control.stack.split('\n');
      var s = sampleLines.length - 1;
      var c = controlLines.length - 1;

      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {
        // We expect at least one stack frame to be shared.
        // Typically this will be the root most one. However, stack frames may be
        // cut off due to maximum stack limits. In this case, one maybe cut off
        // earlier than the other. We assume that the sample is longer or the same
        // and there for cut off earlier. So we should find the root most frame in
        // the sample somewhere in the control.
        c--;
      }

      for (; s >= 1 && c >= 0; s--, c--) {
        // Next we find the first one that isn't the same which should be the
        // frame that called our sample function and the control.
        if (sampleLines[s] !== controlLines[c]) {
          // In V8, the first line is describing the message but other VMs don't.
          // If we're about to return the first line, and the control is also on the same
          // line, that's a pretty good indicator that our sample threw at same line as
          // the control. I.e. before we entered the sample frame. So we ignore this result.
          // This can happen if you passed a class to function component, or non-function.
          if (s !== 1 || c !== 1) {
            do {
              s--;
              c--; // We may still have similar intermediate frames from the construct call.
              // The next one that isn't the same should be our match though.

              if (c < 0 || sampleLines[s] !== controlLines[c]) {
                // V8 adds a "new" prefix for native classes. Let's remove it to make it prettier.
                var _frame = '\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled "<anonymous>"
                // but we have a user-provided "displayName"
                // splice it in to make the stack more readable.


                if (fn.displayName && _frame.includes('<anonymous>')) {
                  _frame = _frame.replace('<anonymous>', fn.displayName);
                }

                {
                  if (typeof fn === 'function') {
                    componentFrameCache.set(fn, _frame);
                  }
                } // Return the line we found.


                return _frame;
              }
            } while (s >= 1 && c >= 0);
          }

          break;
        }
      }
    }
  } finally {
    reentry = false;

    {
      ReactCurrentDispatcher.current = previousDispatcher;
      reenableLogs();
    }

    Error.prepareStackTrace = previousPrepareStackTrace;
  } // Fallback to just using the name if we couldn't make it throw.


  var name = fn ? fn.displayName || fn.name : '';
  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';

  {
    if (typeof fn === 'function') {
      componentFrameCache.set(fn, syntheticFrame);
    }
  }

  return syntheticFrame;
}
function describeFunctionComponentFrame(fn, source, ownerFn) {
  {
    return describeNativeComponentFrame(fn, false);
  }
}

function shouldConstruct(Component) {
  var prototype = Component.prototype;
  return !!(prototype && prototype.isReactComponent);
}

function describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {

  if (type == null) {
    return '';
  }

  if (typeof type === 'function') {
    {
      return describeNativeComponentFrame(type, shouldConstruct(type));
    }
  }

  if (typeof type === 'string') {
    return describeBuiltInComponentFrame(type);
  }

  switch (type) {
    case REACT_SUSPENSE_TYPE:
      return describeBuiltInComponentFrame('Suspense');

    case REACT_SUSPENSE_LIST_TYPE:
      return describeBuiltInComponentFrame('SuspenseList');
  }

  if (typeof type === 'object') {
    switch (type.$$typeof) {
      case REACT_FORWARD_REF_TYPE:
        return describeFunctionComponentFrame(type.render);

      case REACT_MEMO_TYPE:
        // Memo may contain any component type so we recursively resolve it.
        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);

      case REACT_LAZY_TYPE:
        {
          var lazyComponent = type;
          var payload = lazyComponent._payload;
          var init = lazyComponent._init;

          try {
            // Lazy may contain any component type so we recursively resolve it.
            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);
          } catch (x) {}
        }
    }
  }

  return '';
}

var hasOwnProperty = Object.prototype.hasOwnProperty;

var loggedTypeFailures = {};
var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;

function setCurrentlyValidatingElement(element) {
  {
    if (element) {
      var owner = element._owner;
      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);
      ReactDebugCurrentFrame.setExtraStackFrame(stack);
    } else {
      ReactDebugCurrentFrame.setExtraStackFrame(null);
    }
  }
}

function checkPropTypes(typeSpecs, values, location, componentName, element) {
  {
    // $FlowFixMe This is okay but Flow doesn't know it.
    var has = Function.call.bind(hasOwnProperty);

    for (var typeSpecName in typeSpecs) {
      if (has(typeSpecs, typeSpecName)) {
        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.

        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            // eslint-disable-next-line react-internal/prod-error-codes
            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');
            err.name = 'Invariant Violation';
            throw err;
          }

          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');
        } catch (ex) {
          error$1 = ex;
        }

        if (error$1 && !(error$1 instanceof Error)) {
          setCurrentlyValidatingElement(element);

          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);

          setCurrentlyValidatingElement(null);
        }

        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error$1.message] = true;
          setCurrentlyValidatingElement(element);

          error('Failed %s type: %s', location, error$1.message);

          setCurrentlyValidatingElement(null);
        }
      }
    }
  }
}

var isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare

function isArray(a) {
  return isArrayImpl(a);
}

/*
 * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol
 * and Temporal.* types. See https://github.com/facebook/react/pull/22064.
 *
 * The functions in this module will throw an easier-to-understand,
 * easier-to-debug exception with a clear errors message message explaining the
 * problem. (Instead of a confusing exception thrown inside the implementation
 * of the `value` object).
 */
// $FlowFixMe only called in DEV, so void return is not possible.
function typeName(value) {
  {
    // toStringTag is needed for namespaced types like Temporal.Instant
    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;
    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';
    return type;
  }
} // $FlowFixMe only called in DEV, so void return is not possible.


function willCoercionThrow(value) {
  {
    try {
      testStringCoercion(value);
      return false;
    } catch (e) {
      return true;
    }
  }
}

function testStringCoercion(value) {
  // If you ended up here by following an exception call stack, here's what's
  // happened: you supplied an object or symbol value to React (as a prop, key,
  // DOM attribute, CSS property, string ref, etc.) and when React tried to
  // coerce it to a string using `'' + value`, an exception was thrown.
  //
  // The most common types that will cause this exception are `Symbol` instances
  // and Temporal objects like `Temporal.Instant`. But any object that has a
  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this
  // exception. (Library authors do this to prevent users from using built-in
  // numeric operators like `+` or comparison operators like `>=` because custom
  // methods are needed to perform accurate arithmetic or comparison.)
  //
  // To fix the problem, coerce this object or symbol value to a string before
  // passing it to React. The most reliable way is usually `String(value)`.
  //
  // To find which value is throwing, check the browser or debugger console.
  // Before this exception was thrown, there should be `console.error` output
  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the
  // problem and how that type was used: key, atrribute, input value prop, etc.
  // In most cases, this console output also shows the component and its
  // ancestor components where the exception happened.
  //
  // eslint-disable-next-line react-internal/safe-string-coercion
  return '' + value;
}
function checkKeyStringCoercion(value) {
  {
    if (willCoercionThrow(value)) {
      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));

      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)
    }
  }
}

var ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;
var RESERVED_PROPS = {
  key: true,
  ref: true,
  __self: true,
  __source: true
};
var specialPropKeyWarningShown;
var specialPropRefWarningShown;
var didWarnAboutStringRefs;

{
  didWarnAboutStringRefs = {};
}

function hasValidRef(config) {
  {
    if (hasOwnProperty.call(config, 'ref')) {
      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;

      if (getter && getter.isReactWarning) {
        return false;
      }
    }
  }

  return config.ref !== undefined;
}

function hasValidKey(config) {
  {
    if (hasOwnProperty.call(config, 'key')) {
      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;

      if (getter && getter.isReactWarning) {
        return false;
      }
    }
  }

  return config.key !== undefined;
}

function warnIfStringRefCannotBeAutoConverted(config, self) {
  {
    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {
      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);

      if (!didWarnAboutStringRefs[componentName]) {
        error('Component "%s" contains the string ref "%s". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);

        didWarnAboutStringRefs[componentName] = true;
      }
    }
  }
}

function defineKeyPropWarningGetter(props, displayName) {
  {
    var warnAboutAccessingKey = function () {
      if (!specialPropKeyWarningShown) {
        specialPropKeyWarningShown = true;

        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);
      }
    };

    warnAboutAccessingKey.isReactWarning = true;
    Object.defineProperty(props, 'key', {
      get: warnAboutAccessingKey,
      configurable: true
    });
  }
}

function defineRefPropWarningGetter(props, displayName) {
  {
    var warnAboutAccessingRef = function () {
      if (!specialPropRefWarningShown) {
        specialPropRefWarningShown = true;

        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);
      }
    };

    warnAboutAccessingRef.isReactWarning = true;
    Object.defineProperty(props, 'ref', {
      get: warnAboutAccessingRef,
      configurable: true
    });
  }
}
/**
 * Factory method to create a new React element. This no longer adheres to
 * the class pattern, so do not use new to call it. Also, instanceof check
 * will not work. Instead test $$typeof field against Symbol.for('react.element') to check
 * if something is a React Element.
 *
 * @param {*} type
 * @param {*} props
 * @param {*} key
 * @param {string|object} ref
 * @param {*} owner
 * @param {*} self A *temporary* helper to detect places where `this` is
 * different from the `owner` when React.createElement is called, so that we
 * can warn. We want to get rid of owner and replace string `ref`s with arrow
 * functions, and as long as `this` and owner are the same, there will be no
 * change in behavior.
 * @param {*} source An annotation object (added by a transpiler or otherwise)
 * indicating filename, line number, and/or other information.
 * @internal
 */


var ReactElement = function (type, key, ref, self, source, owner, props) {
  var element = {
    // This tag allows us to uniquely identify this as a React Element
    $$typeof: REACT_ELEMENT_TYPE,
    // Built-in properties that belong on the element
    type: type,
    key: key,
    ref: ref,
    props: props,
    // Record the component responsible for creating this element.
    _owner: owner
  };

  {
    // The validation flag is currently mutative. We put it on
    // an external backing store so that we can freeze the whole object.
    // This can be replaced with a WeakMap once they are implemented in
    // commonly used development environments.
    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make
    // the validation flag non-enumerable (where possible, which should
    // include every environment we run tests in), so the test framework
    // ignores it.

    Object.defineProperty(element._store, 'validated', {
      configurable: false,
      enumerable: false,
      writable: true,
      value: false
    }); // self and source are DEV only properties.

    Object.defineProperty(element, '_self', {
      configurable: false,
      enumerable: false,
      writable: false,
      value: self
    }); // Two elements created in two different places should be considered
    // equal for testing purposes and therefore we hide it from enumeration.

    Object.defineProperty(element, '_source', {
      configurable: false,
      enumerable: false,
      writable: false,
      value: source
    });

    if (Object.freeze) {
      Object.freeze(element.props);
      Object.freeze(element);
    }
  }

  return element;
};
/**
 * https://github.com/reactjs/rfcs/pull/107
 * @param {*} type
 * @param {object} props
 * @param {string} key
 */

function jsxDEV(type, config, maybeKey, source, self) {
  {
    var propName; // Reserved names are extracted

    var props = {};
    var key = null;
    var ref = null; // Currently, key can be spread in as a prop. This causes a potential
    // issue if key is also explicitly declared (ie. <div {...props} key="Hi" />
    // or <div key="Hi" {...props} /> ). We want to deprecate key spread,
    // but as an intermediary step, we will use jsxDEV for everything except
    // <div {...props} key="Hi" />, because we aren't currently able to tell if
    // key is explicitly declared to be undefined or not.

    if (maybeKey !== undefined) {
      {
        checkKeyStringCoercion(maybeKey);
      }

      key = '' + maybeKey;
    }

    if (hasValidKey(config)) {
      {
        checkKeyStringCoercion(config.key);
      }

      key = '' + config.key;
    }

    if (hasValidRef(config)) {
      ref = config.ref;
      warnIfStringRefCannotBeAutoConverted(config, self);
    } // Remaining properties are added to a new props object


    for (propName in config) {
      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {
        props[propName] = config[propName];
      }
    } // Resolve default props


    if (type && type.defaultProps) {
      var defaultProps = type.defaultProps;

      for (propName in defaultProps) {
        if (props[propName] === undefined) {
          props[propName] = defaultProps[propName];
        }
      }
    }

    if (key || ref) {
      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;

      if (key) {
        defineKeyPropWarningGetter(props, displayName);
      }

      if (ref) {
        defineRefPropWarningGetter(props, displayName);
      }
    }

    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);
  }
}

var ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;
var ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;

function setCurrentlyValidatingElement$1(element) {
  {
    if (element) {
      var owner = element._owner;
      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);
      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);
    } else {
      ReactDebugCurrentFrame$1.setExtraStackFrame(null);
    }
  }
}

var propTypesMisspellWarningShown;

{
  propTypesMisspellWarningShown = false;
}
/**
 * Verifies the object is a ReactElement.
 * See https://reactjs.org/docs/react-api.html#isvalidelement
 * @param {?object} object
 * @return {boolean} True if `object` is a ReactElement.
 * @final
 */


function isValidElement(object) {
  {
    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
  }
}

function getDeclarationErrorAddendum() {
  {
    if (ReactCurrentOwner$1.current) {
      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);

      if (name) {
        return '\n\nCheck the render method of `' + name + '`.';
      }
    }

    return '';
  }
}

function getSourceInfoErrorAddendum(source) {
  {
    if (source !== undefined) {
      var fileName = source.fileName.replace(/^.*[\\\/]/, '');
      var lineNumber = source.lineNumber;
      return '\n\nCheck your code at ' + fileName + ':' + lineNumber + '.';
    }

    return '';
  }
}
/**
 * Warn if there's no key explicitly set on dynamic arrays of children or
 * object keys are not valid. This allows us to keep track of children between
 * updates.
 */


var ownerHasKeyUseWarning = {};

function getCurrentComponentErrorInfo(parentType) {
  {
    var info = getDeclarationErrorAddendum();

    if (!info) {
      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;

      if (parentName) {
        info = "\n\nCheck the top-level render call using <" + parentName + ">.";
      }
    }

    return info;
  }
}
/**
 * Warn if the element doesn't have an explicit key assigned to it.
 * This element is in an array. The array could grow and shrink or be
 * reordered. All children that haven't already been validated are required to
 * have a "key" property assigned to it. Error statuses are cached so a warning
 * will only be shown once.
 *
 * @internal
 * @param {ReactElement} element Element that requires a key.
 * @param {*} parentType element's parent's type.
 */


function validateExplicitKey(element, parentType) {
  {
    if (!element._store || element._store.validated || element.key != null) {
      return;
    }

    element._store.validated = true;
    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);

    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {
      return;
    }

    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a
    // property, it may be the creator of the child that's responsible for
    // assigning it a key.

    var childOwner = '';

    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {
      // Give the component that originally created this child.
      childOwner = " It was passed a child from " + getComponentNameFromType(element._owner.type) + ".";
    }

    setCurrentlyValidatingElement$1(element);

    error('Each child in a list should have a unique "key" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);

    setCurrentlyValidatingElement$1(null);
  }
}
/**
 * Ensure that every element either is passed in a static location, in an
 * array with an explicit keys property defined, or in an object literal
 * with valid key property.
 *
 * @internal
 * @param {ReactNode} node Statically passed child of any type.
 * @param {*} parentType node's parent's type.
 */


function validateChildKeys(node, parentType) {
  {
    if (typeof node !== 'object') {
      return;
    }

    if (isArray(node)) {
      for (var i = 0; i < node.length; i++) {
        var child = node[i];

        if (isValidElement(child)) {
          validateExplicitKey(child, parentType);
        }
      }
    } else if (isValidElement(node)) {
      // This element was passed in a valid location.
      if (node._store) {
        node._store.validated = true;
      }
    } else if (node) {
      var iteratorFn = getIteratorFn(node);

      if (typeof iteratorFn === 'function') {
        // Entry iterators used to provide implicit keys,
        // but now we print a separate warning for them later.
        if (iteratorFn !== node.entries) {
          var iterator = iteratorFn.call(node);
          var step;

          while (!(step = iterator.next()).done) {
            if (isValidElement(step.value)) {
              validateExplicitKey(step.value, parentType);
            }
          }
        }
      }
    }
  }
}
/**
 * Given an element, validate that its props follow the propTypes definition,
 * provided by the type.
 *
 * @param {ReactElement} element
 */


function validatePropTypes(element) {
  {
    var type = element.type;

    if (type === null || type === undefined || typeof type === 'string') {
      return;
    }

    var propTypes;

    if (typeof type === 'function') {
      propTypes = type.propTypes;
    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.
    // Inner props are checked in the reconciler.
    type.$$typeof === REACT_MEMO_TYPE)) {
      propTypes = type.propTypes;
    } else {
      return;
    }

    if (propTypes) {
      // Intentionally inside to avoid triggering lazy initializers:
      var name = getComponentNameFromType(type);
      checkPropTypes(propTypes, element.props, 'prop', name, element);
    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {
      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:

      var _name = getComponentNameFromType(type);

      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');
    }

    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {
      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');
    }
  }
}
/**
 * Given a fragment, validate that it can only be provided with fragment props
 * @param {ReactElement} fragment
 */


function validateFragmentProps(fragment) {
  {
    var keys = Object.keys(fragment.props);

    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];

      if (key !== 'children' && key !== 'key') {
        setCurrentlyValidatingElement$1(fragment);

        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);

        setCurrentlyValidatingElement$1(null);
        break;
      }
    }

    if (fragment.ref !== null) {
      setCurrentlyValidatingElement$1(fragment);

      error('Invalid attribute `ref` supplied to `React.Fragment`.');

      setCurrentlyValidatingElement$1(null);
    }
  }
}

var didWarnAboutKeySpread = {};
function jsxWithValidation(type, props, key, isStaticChildren, source, self) {
  {
    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to
    // succeed and there will likely be errors in render.

    if (!validType) {
      var info = '';

      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {
        info += ' You likely forgot to export your component from the file ' + "it's defined in, or you might have mixed up default and named imports.";
      }

      var sourceInfo = getSourceInfoErrorAddendum(source);

      if (sourceInfo) {
        info += sourceInfo;
      } else {
        info += getDeclarationErrorAddendum();
      }

      var typeString;

      if (type === null) {
        typeString = 'null';
      } else if (isArray(type)) {
        typeString = 'array';
      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {
        typeString = "<" + (getComponentNameFromType(type.type) || 'Unknown') + " />";
        info = ' Did you accidentally export a JSX literal instead of a component?';
      } else {
        typeString = typeof type;
      }

      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);
    }

    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.
    // TODO: Drop this when these are no longer allowed as the type argument.

    if (element == null) {
      return element;
    } // Skip key warning if the type isn't valid since our key validation logic
    // doesn't expect a non-string/function type and can throw confusing errors.
    // We don't want exception behavior to differ between dev and prod.
    // (Rendering will throw with a helpful message and as soon as the type is
    // fixed, the key warnings will appear.)


    if (validType) {
      var children = props.children;

      if (children !== undefined) {
        if (isStaticChildren) {
          if (isArray(children)) {
            for (var i = 0; i < children.length; i++) {
              validateChildKeys(children[i], type);
            }

            if (Object.freeze) {
              Object.freeze(children);
            }
          } else {
            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');
          }
        } else {
          validateChildKeys(children, type);
        }
      }
    }

    {
      if (hasOwnProperty.call(props, 'key')) {
        var componentName = getComponentNameFromType(type);
        var keys = Object.keys(props).filter(function (k) {
          return k !== 'key';
        });
        var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';

        if (!didWarnAboutKeySpread[componentName + beforeExample]) {
          var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';

          error('A props object containing a "key" prop is being spread into JSX:\n' + '  let props = %s;\n' + '  <%s {...props} />\n' + 'React keys must be passed directly to JSX without using spread:\n' + '  let props = %s;\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);

          didWarnAboutKeySpread[componentName + beforeExample] = true;
        }
      }
    }

    if (type === REACT_FRAGMENT_TYPE) {
      validateFragmentProps(element);
    } else {
      validatePropTypes(element);
    }

    return element;
  }
} // These two functions exist to still get child warnings in dev
// even with the prod transform. This means that jsxDEV is purely
// opt-in behavior for better messages but that we won't stop
// giving you warnings if you use production apis.

function jsxWithValidationStatic(type, props, key) {
  {
    return jsxWithValidation(type, props, key, true);
  }
}
function jsxWithValidationDynamic(type, props, key) {
  {
    return jsxWithValidation(type, props, key, false);
  }
}

var jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.
// for now we can ship identical prod functions

var jsxs =  jsxWithValidationStatic ;

exports.Fragment = REACT_FRAGMENT_TYPE;
exports.jsx = jsx;
exports.jsxs = jsxs;
  })();
}


/***/ }),

/***/ "./node_modules/react/jsx-runtime.js":
/*!*******************************************!*\
  !*** ./node_modules/react/jsx-runtime.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (false) {} else {
  module.exports = __webpack_require__(/*! ./cjs/react-jsx-runtime.development.js */ "./node_modules/react/cjs/react-jsx-runtime.development.js");
}


/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "React" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = window["React"];

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = window["lodash"];

/***/ }),

/***/ "@wordpress/api-fetch":
/*!**********************************!*\
  !*** external ["wp","apiFetch"] ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["apiFetch"];

/***/ }),

/***/ "@wordpress/block-editor":
/*!*************************************!*\
  !*** external ["wp","blockEditor"] ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["blockEditor"];

/***/ }),

/***/ "@wordpress/block-library":
/*!**************************************!*\
  !*** external ["wp","blockLibrary"] ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["blockLibrary"];

/***/ }),

/***/ "@wordpress/blocks":
/*!********************************!*\
  !*** external ["wp","blocks"] ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["blocks"];

/***/ }),

/***/ "@wordpress/components":
/*!************************************!*\
  !*** external ["wp","components"] ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["components"];

/***/ }),

/***/ "@wordpress/compose":
/*!*********************************!*\
  !*** external ["wp","compose"] ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["compose"];

/***/ }),

/***/ "@wordpress/core-data":
/*!**********************************!*\
  !*** external ["wp","coreData"] ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["coreData"];

/***/ }),

/***/ "@wordpress/data":
/*!******************************!*\
  !*** external ["wp","data"] ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["data"];

/***/ }),

/***/ "@wordpress/data-controls":
/*!**************************************!*\
  !*** external ["wp","dataControls"] ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["dataControls"];

/***/ }),

/***/ "@wordpress/deprecated":
/*!************************************!*\
  !*** external ["wp","deprecated"] ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["deprecated"];

/***/ }),

/***/ "@wordpress/editor":
/*!********************************!*\
  !*** external ["wp","editor"] ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["editor"];

/***/ }),

/***/ "@wordpress/element":
/*!*********************************!*\
  !*** external ["wp","element"] ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["element"];

/***/ }),

/***/ "@wordpress/format-library":
/*!***************************************!*\
  !*** external ["wp","formatLibrary"] ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["formatLibrary"];

/***/ }),

/***/ "@wordpress/hooks":
/*!*******************************!*\
  !*** external ["wp","hooks"] ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["hooks"];

/***/ }),

/***/ "@wordpress/html-entities":
/*!**************************************!*\
  !*** external ["wp","htmlEntities"] ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["htmlEntities"];

/***/ }),

/***/ "@wordpress/i18n":
/*!******************************!*\
  !*** external ["wp","i18n"] ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["i18n"];

/***/ }),

/***/ "@wordpress/is-shallow-equal":
/*!****************************************!*\
  !*** external ["wp","isShallowEqual"] ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["isShallowEqual"];

/***/ }),

/***/ "@wordpress/keyboard-shortcuts":
/*!*******************************************!*\
  !*** external ["wp","keyboardShortcuts"] ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["keyboardShortcuts"];

/***/ }),

/***/ "@wordpress/keycodes":
/*!**********************************!*\
  !*** external ["wp","keycodes"] ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["keycodes"];

/***/ }),

/***/ "@wordpress/media-utils":
/*!************************************!*\
  !*** external ["wp","mediaUtils"] ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["mediaUtils"];

/***/ }),

/***/ "@wordpress/notices":
/*!*********************************!*\
  !*** external ["wp","notices"] ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["notices"];

/***/ }),

/***/ "@wordpress/plugins":
/*!*********************************!*\
  !*** external ["wp","plugins"] ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["plugins"];

/***/ }),

/***/ "@wordpress/preferences":
/*!*************************************!*\
  !*** external ["wp","preferences"] ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["preferences"];

/***/ }),

/***/ "@wordpress/primitives":
/*!************************************!*\
  !*** external ["wp","primitives"] ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["primitives"];

/***/ }),

/***/ "@wordpress/priority-queue":
/*!***************************************!*\
  !*** external ["wp","priorityQueue"] ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["priorityQueue"];

/***/ }),

/***/ "@wordpress/private-apis":
/*!*************************************!*\
  !*** external ["wp","privateApis"] ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["privateApis"];

/***/ }),

/***/ "@wordpress/rich-text":
/*!**********************************!*\
  !*** external ["wp","richText"] ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["richText"];

/***/ }),

/***/ "@wordpress/url":
/*!*****************************!*\
  !*** external ["wp","url"] ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["url"];

/***/ }),

/***/ "@wordpress/viewport":
/*!**********************************!*\
  !*** external ["wp","viewport"] ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = window["wp"]["viewport"];

/***/ }),

/***/ "./node_modules/classnames/index.js":
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/***/ ((module, exports) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = '';

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (arg) {
				classes = appendClass(classes, parseValue(arg));
			}
		}

		return classes;
	}

	function parseValue (arg) {
		if (typeof arg === 'string' || typeof arg === 'number') {
			return arg;
		}

		if (typeof arg !== 'object') {
			return '';
		}

		if (Array.isArray(arg)) {
			return classNames.apply(null, arg);
		}

		if (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {
			return arg.toString();
		}

		var classes = '';

		for (var key in arg) {
			if (hasOwn.call(arg, key) && arg[key]) {
				classes = appendClass(classes, key);
			}
		}

		return classes;
	}

	function appendClass (value, newClass) {
		if (!newClass) {
			return value;
		}
	
		if (value) {
			return value + ' ' + newClass;
		}
	
		return value + newClass;
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),

/***/ "./node_modules/clsx/dist/clsx.mjs":
/*!*****************************************!*\
  !*** ./node_modules/clsx/dist/clsx.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clsx: () => (/* binding */ clsx),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clsx);

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor */ "./src/editor.tsx");
/**
 * Internal dependencies
 */

window.addEventListener('DOMContentLoaded', () => {
  (0,_editor__WEBPACK_IMPORTED_MODULE_0__.initialize)('mailpoet-email-editor');
});
})();

/******/ })()
;
//# sourceMappingURL=index.js.map